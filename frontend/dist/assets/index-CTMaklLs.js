var NK=Object.defineProperty;var SK=(e,t,r)=>t in e?NK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var T5=(e,t,r)=>SK(e,typeof t!="symbol"?t+"":t,r);function jK(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var P5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var wD={exports:{}},Yb={},kD={exports:{}},rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=Symbol.for("react.element"),_K=Symbol.for("react.portal"),EK=Symbol.for("react.fragment"),CK=Symbol.for("react.strict_mode"),TK=Symbol.for("react.profiler"),PK=Symbol.for("react.provider"),OK=Symbol.for("react.context"),FK=Symbol.for("react.forward_ref"),LK=Symbol.for("react.suspense"),DK=Symbol.for("react.memo"),IK=Symbol.for("react.lazy"),aC=Symbol.iterator;function MK(e){return e===null||typeof e!="object"?null:(e=aC&&e[aC]||e["@@iterator"],typeof e=="function"?e:null)}var ND={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SD=Object.assign,jD={};function Ph(e,t,r){this.props=e,this.context=t,this.refs=jD,this.updater=r||ND}Ph.prototype.isReactComponent={};Ph.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ph.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AD(){}AD.prototype=Ph.prototype;function Ej(e,t,r){this.props=e,this.context=t,this.refs=jD,this.updater=r||ND}var Cj=Ej.prototype=new AD;Cj.constructor=Ej;SD(Cj,Ph.prototype);Cj.isPureReactComponent=!0;var sC=Array.isArray,_D=Object.prototype.hasOwnProperty,Tj={current:null},ED={key:!0,ref:!0,__self:!0,__source:!0};function CD(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)_D.call(t,n)&&!ED.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Gg,type:e,key:s,ref:i,props:a,_owner:Tj.current}}function RK(e,t){return{$$typeof:Gg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pj(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gg}function BK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var iC=/\/+/g;function O5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BK(""+e.key):t.toString(36)}function Dv(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gg:case _K:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+O5(i,0):n,sC(a)?(r="",e!=null&&(r=e.replace(iC,"$&/")+"/"),Dv(a,t,r,"",function(u){return u})):a!=null&&(Pj(a)&&(a=RK(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(iC,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",sC(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+O5(s,l);i+=Dv(s,t,r,c,a)}else if(c=MK(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+O5(s,l++),i+=Dv(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function O1(e,t,r){if(e==null)return e;var n=[],a=0;return Dv(e,n,"","",function(s){return t.call(r,s,a++)}),n}function zK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ds={current:null},Iv={transition:null},UK={ReactCurrentDispatcher:Ds,ReactCurrentBatchConfig:Iv,ReactCurrentOwner:Tj};function TD(){throw Error("act(...) is not supported in production builds of React.")}rr.Children={map:O1,forEach:function(e,t,r){O1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return O1(e,function(){t++}),t},toArray:function(e){return O1(e,function(t){return t})||[]},only:function(e){if(!Pj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rr.Component=Ph;rr.Fragment=EK;rr.Profiler=TK;rr.PureComponent=Ej;rr.StrictMode=CK;rr.Suspense=LK;rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UK;rr.act=TD;rr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=SD({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Tj.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_D.call(t,c)&&!ED.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Gg,type:e.type,key:a,ref:s,props:n,_owner:i}};rr.createContext=function(e){return e={$$typeof:OK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PK,_context:e},e.Consumer=e};rr.createElement=CD;rr.createFactory=function(e){var t=CD.bind(null,e);return t.type=e,t};rr.createRef=function(){return{current:null}};rr.forwardRef=function(e){return{$$typeof:FK,render:e}};rr.isValidElement=Pj;rr.lazy=function(e){return{$$typeof:IK,_payload:{_status:-1,_result:e},_init:zK}};rr.memo=function(e,t){return{$$typeof:DK,type:e,compare:t===void 0?null:t}};rr.startTransition=function(e){var t=Iv.transition;Iv.transition={};try{e()}finally{Iv.transition=t}};rr.unstable_act=TD;rr.useCallback=function(e,t){return Ds.current.useCallback(e,t)};rr.useContext=function(e){return Ds.current.useContext(e)};rr.useDebugValue=function(){};rr.useDeferredValue=function(e){return Ds.current.useDeferredValue(e)};rr.useEffect=function(e,t){return Ds.current.useEffect(e,t)};rr.useId=function(){return Ds.current.useId()};rr.useImperativeHandle=function(e,t,r){return Ds.current.useImperativeHandle(e,t,r)};rr.useInsertionEffect=function(e,t){return Ds.current.useInsertionEffect(e,t)};rr.useLayoutEffect=function(e,t){return Ds.current.useLayoutEffect(e,t)};rr.useMemo=function(e,t){return Ds.current.useMemo(e,t)};rr.useReducer=function(e,t,r){return Ds.current.useReducer(e,t,r)};rr.useRef=function(e){return Ds.current.useRef(e)};rr.useState=function(e){return Ds.current.useState(e)};rr.useSyncExternalStore=function(e,t,r){return Ds.current.useSyncExternalStore(e,t,r)};rr.useTransition=function(){return Ds.current.useTransition()};rr.version="18.3.1";kD.exports=rr;var k=kD.exports;const dc=Pl(k),PD=jK({__proto__:null,default:dc},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $K=k,WK=Symbol.for("react.element"),HK=Symbol.for("react.fragment"),VK=Object.prototype.hasOwnProperty,qK=$K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GK={key:!0,ref:!0,__self:!0,__source:!0};function OD(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)VK.call(t,n)&&!GK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:WK,type:e,key:s,ref:i,props:a,_owner:qK.current}}Yb.Fragment=HK;Yb.jsx=OD;Yb.jsxs=OD;wD.exports=Yb;var o=wD.exports,SN={},FD={exports:{}},Pi={},LD={exports:{}},DD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,U){var Q=Y.length;Y.push(U);e:for(;0<Q;){var pe=Q-1>>>1,F=Y[pe];if(0<a(F,U))Y[pe]=U,Y[Q]=F,Q=pe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var U=Y[0],Q=Y.pop();if(Q!==U){Y[0]=Q;e:for(var pe=0,F=Y.length,M=F>>>1;pe<M;){var B=2*(pe+1)-1,D=Y[B],X=B+1,V=Y[X];if(0>a(D,Q))X<F&&0>a(V,D)?(Y[pe]=V,Y[X]=Q,pe=X):(Y[pe]=D,Y[B]=Q,pe=B);else if(X<F&&0>a(V,Q))Y[pe]=V,Y[X]=Q,pe=X;else break e}}return U}function a(Y,U){var Q=Y.sortIndex-U.sortIndex;return Q!==0?Q:Y.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=Y)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function N(Y){if(g=!1,b(Y),!p)if(r(c)!==null)p=!0,R(A);else{var U=r(u);U!==null&&z(N,U.startTime-Y)}}function A(Y,U){p=!1,g&&(g=!1,v(E),E=-1),m=!0;var Q=h;try{for(b(U),f=r(c);f!==null&&(!(f.expirationTime>U)||Y&&!T());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,h=f.priorityLevel;var F=pe(f.expirationTime<=U);U=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),b(U)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var B=r(u);B!==null&&z(N,B.startTime-U),M=!1}return M}finally{f=null,h=Q,m=!1}}var S=!1,j=null,E=-1,C=5,I=-1;function T(){return!(e.unstable_now()-I<C)}function P(){if(j!==null){var Y=e.unstable_now();I=Y;var U=!0;try{U=j(!0,Y)}finally{U?H():(S=!1,j=null)}}else S=!1}var H;if(typeof y=="function")H=function(){y(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ae=q.port2;q.port1.onmessage=P,H=function(){ae.postMessage(null)}}else H=function(){x(P,0)};function R(Y){j=Y,S||(S=!0,H())}function z(Y,U){E=x(function(){Y(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,R(A))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Q=h;h=U;try{return Y()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,U){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=h;h=Y;try{return U()}finally{h=Q}},e.unstable_scheduleCallback=function(Y,U,Q){var pe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?pe+Q:pe):Q=pe,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,Y={id:d++,callback:U,priorityLevel:Y,startTime:Q,expirationTime:F,sortIndex:-1},Q>pe?(Y.sortIndex=Q,t(u,Y),r(c)===null&&Y===r(u)&&(g?(v(E),E=-1):g=!0,z(N,Q-pe))):(Y.sortIndex=F,t(c,Y),p||m||(p=!0,R(A))),Y},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(Y){var U=h;return function(){var Q=h;h=U;try{return Y.apply(this,arguments)}finally{h=Q}}}})(DD);LD.exports=DD;var KK=LD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YK=k,ji=KK;function st(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ID=new Set,Bp={};function A0(e,t){nh(e,t),nh(e+"Capture",t)}function nh(e,t){for(Bp[e]=t,e=0;e<t.length;e++)ID.add(t[e])}var fc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jN=Object.prototype.hasOwnProperty,XK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oC={},lC={};function ZK(e){return jN.call(lC,e)?!0:jN.call(oC,e)?!1:XK.test(e)?lC[e]=!0:(oC[e]=!0,!1)}function JK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QK(e,t,r,n){if(t===null||typeof t>"u"||JK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Is(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ha={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ha[e]=new Is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ha[t]=new Is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ha[e]=new Is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ha[e]=new Is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ha[e]=new Is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ha[e]=new Is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ha[e]=new Is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ha[e]=new Is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ha[e]=new Is(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oj=/[\-:]([a-z])/g;function Fj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oj,Fj);Ha[t]=new Is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oj,Fj);Ha[t]=new Is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oj,Fj);Ha[t]=new Is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ha[e]=new Is(e,1,!1,e.toLowerCase(),null,!1,!1)});Ha.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ha[e]=new Is(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lj(e,t,r,n){var a=Ha.hasOwnProperty(t)?Ha[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QK(t,r,a,n)&&(r=null),n||a===null?ZK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ec=YK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F1=Symbol.for("react.element"),Sf=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),Dj=Symbol.for("react.strict_mode"),AN=Symbol.for("react.profiler"),MD=Symbol.for("react.provider"),RD=Symbol.for("react.context"),Ij=Symbol.for("react.forward_ref"),_N=Symbol.for("react.suspense"),EN=Symbol.for("react.suspense_list"),Mj=Symbol.for("react.memo"),su=Symbol.for("react.lazy"),BD=Symbol.for("react.offscreen"),cC=Symbol.iterator;function Om(e){return e===null||typeof e!="object"?null:(e=cC&&e[cC]||e["@@iterator"],typeof e=="function"?e:null)}var fn=Object.assign,F5;function Qm(e){if(F5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F5=t&&t[1]||""}return`
`+F5+e}var L5=!1;function D5(e,t){if(!e||L5)return"";L5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{L5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qm(e):""}function eY(e){switch(e.tag){case 5:return Qm(e.type);case 16:return Qm("Lazy");case 13:return Qm("Suspense");case 19:return Qm("SuspenseList");case 0:case 2:case 15:return e=D5(e.type,!1),e;case 11:return e=D5(e.type.render,!1),e;case 1:return e=D5(e.type,!0),e;default:return""}}function CN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jf:return"Fragment";case Sf:return"Portal";case AN:return"Profiler";case Dj:return"StrictMode";case _N:return"Suspense";case EN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RD:return(e.displayName||"Context")+".Consumer";case MD:return(e._context.displayName||"Context")+".Provider";case Ij:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mj:return t=e.displayName||null,t!==null?t:CN(e.type)||"Memo";case su:t=e._payload,e=e._init;try{return CN(e(t))}catch{}}return null}function tY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CN(t);case 8:return t===Dj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Du(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rY(e){var t=zD(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function L1(e){e._valueTracker||(e._valueTracker=rY(e))}function UD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zD(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function TN(e,t){var r=t.checked;return fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Du(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $D(e,t){t=t.checked,t!=null&&Lj(e,"checked",t,!1)}function PN(e,t){$D(e,t);var r=Du(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ON(e,t.type,r):t.hasOwnProperty("defaultValue")&&ON(e,t.type,Du(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ON(e,t,r){(t!=="number"||oy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ep=Array.isArray;function Hf(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Du(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function FN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(st(91));return fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(st(92));if(ep(r)){if(1<r.length)throw Error(st(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Du(r)}}function WD(e,t){var r=Du(t.value),n=Du(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var D1,VD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(D1=D1||document.createElement("div"),D1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=D1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nY=["Webkit","ms","Moz","O"];Object.keys(cp).forEach(function(e){nY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cp[t]=cp[e]})});function qD(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cp.hasOwnProperty(e)&&cp[e]?(""+t).trim():t+"px"}function GD(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=qD(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var aY=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DN(e,t){if(t){if(aY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(st(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(st(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(st(61))}if(t.style!=null&&typeof t.style!="object")throw Error(st(62))}}function IN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MN=null;function Rj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var RN=null,Vf=null,qf=null;function mC(e){if(e=Xg(e)){if(typeof RN!="function")throw Error(st(280));var t=e.stateNode;t&&(t=e2(t),RN(e.stateNode,e.type,t))}}function KD(e){Vf?qf?qf.push(e):qf=[e]:Vf=e}function YD(){if(Vf){var e=Vf,t=qf;if(qf=Vf=null,mC(e),t)for(e=0;e<t.length;e++)mC(t[e])}}function XD(e,t){return e(t)}function ZD(){}var I5=!1;function JD(e,t,r){if(I5)return e(t,r);I5=!0;try{return XD(e,t,r)}finally{I5=!1,(Vf!==null||qf!==null)&&(ZD(),YD())}}function Up(e,t){var r=e.stateNode;if(r===null)return null;var n=e2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(st(231,t,typeof r));return r}var BN=!1;if(fc)try{var Fm={};Object.defineProperty(Fm,"passive",{get:function(){BN=!0}}),window.addEventListener("test",Fm,Fm),window.removeEventListener("test",Fm,Fm)}catch{BN=!1}function sY(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var up=!1,ly=null,cy=!1,zN=null,iY={onError:function(e){up=!0,ly=e}};function oY(e,t,r,n,a,s,i,l,c){up=!1,ly=null,sY.apply(iY,arguments)}function lY(e,t,r,n,a,s,i,l,c){if(oY.apply(this,arguments),up){if(up){var u=ly;up=!1,ly=null}else throw Error(st(198));cy||(cy=!0,zN=u)}}function _0(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pC(e){if(_0(e)!==e)throw Error(st(188))}function cY(e){var t=e.alternate;if(!t){if(t=_0(e),t===null)throw Error(st(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return pC(a),e;if(s===n)return pC(a),t;s=s.sibling}throw Error(st(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(st(189))}}if(r.alternate!==n)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?e:t}function eI(e){return e=cY(e),e!==null?tI(e):null}function tI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tI(e);if(t!==null)return t;e=e.sibling}return null}var rI=ji.unstable_scheduleCallback,gC=ji.unstable_cancelCallback,uY=ji.unstable_shouldYield,dY=ji.unstable_requestPaint,Fn=ji.unstable_now,fY=ji.unstable_getCurrentPriorityLevel,Bj=ji.unstable_ImmediatePriority,nI=ji.unstable_UserBlockingPriority,uy=ji.unstable_NormalPriority,hY=ji.unstable_LowPriority,aI=ji.unstable_IdlePriority,Xb=null,wl=null;function mY(e){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(Xb,e,void 0,(e.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:xY,pY=Math.log,gY=Math.LN2;function xY(e){return e>>>=0,e===0?32:31-(pY(e)/gY|0)|0}var I1=64,M1=4194304;function tp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=tp(l):(s&=i,s!==0&&(n=tp(s)))}else i=r&~a,i!==0?n=tp(i):s!==0&&(n=tp(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Uo(t),a=1<<r,n|=e[r],t&=~a;return n}function vY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Uo(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=vY(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function UN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sI(){var e=I1;return I1<<=1,!(I1&4194240)&&(I1=64),e}function M5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Uo(t),e[t]=r}function bY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Uo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function zj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Uo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Er=0;function iI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oI,Uj,lI,cI,uI,$N=!1,R1=[],Nu=null,Su=null,ju=null,$p=new Map,Wp=new Map,cu=[],wY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xC(e,t){switch(e){case"focusin":case"focusout":Nu=null;break;case"dragenter":case"dragleave":Su=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":$p.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wp.delete(t.pointerId)}}function Lm(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Xg(t),t!==null&&Uj(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function kY(e,t,r,n,a){switch(t){case"focusin":return Nu=Lm(Nu,e,t,r,n,a),!0;case"dragenter":return Su=Lm(Su,e,t,r,n,a),!0;case"mouseover":return ju=Lm(ju,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return $p.set(s,Lm($p.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Wp.set(s,Lm(Wp.get(s)||null,e,t,r,n,a)),!0}return!1}function dI(e){var t=Td(e.target);if(t!==null){var r=_0(t);if(r!==null){if(t=r.tag,t===13){if(t=QD(r),t!==null){e.blockedOn=t,uI(e.priority,function(){lI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=WN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);MN=n,r.target.dispatchEvent(n),MN=null}else return t=Xg(r),t!==null&&Uj(t),e.blockedOn=r,!1;t.shift()}return!0}function vC(e,t,r){Mv(e)&&r.delete(t)}function NY(){$N=!1,Nu!==null&&Mv(Nu)&&(Nu=null),Su!==null&&Mv(Su)&&(Su=null),ju!==null&&Mv(ju)&&(ju=null),$p.forEach(vC),Wp.forEach(vC)}function Dm(e,t){e.blockedOn===t&&(e.blockedOn=null,$N||($N=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,NY)))}function Hp(e){function t(a){return Dm(a,e)}if(0<R1.length){Dm(R1[0],e);for(var r=1;r<R1.length;r++){var n=R1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nu!==null&&Dm(Nu,e),Su!==null&&Dm(Su,e),ju!==null&&Dm(ju,e),$p.forEach(t),Wp.forEach(t),r=0;r<cu.length;r++)n=cu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cu.length&&(r=cu[0],r.blockedOn===null);)dI(r),r.blockedOn===null&&cu.shift()}var Gf=Ec.ReactCurrentBatchConfig,fy=!0;function SY(e,t,r,n){var a=Er,s=Gf.transition;Gf.transition=null;try{Er=1,$j(e,t,r,n)}finally{Er=a,Gf.transition=s}}function jY(e,t,r,n){var a=Er,s=Gf.transition;Gf.transition=null;try{Er=4,$j(e,t,r,n)}finally{Er=a,Gf.transition=s}}function $j(e,t,r,n){if(fy){var a=WN(e,t,r,n);if(a===null)G5(e,t,n,hy,r),xC(e,n);else if(kY(a,e,t,r,n))n.stopPropagation();else if(xC(e,n),t&4&&-1<wY.indexOf(e)){for(;a!==null;){var s=Xg(a);if(s!==null&&oI(s),s=WN(e,t,r,n),s===null&&G5(e,t,n,hy,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else G5(e,t,n,null,r)}}var hy=null;function WN(e,t,r,n){if(hy=null,e=Rj(n),e=Td(e),e!==null)if(t=_0(e),t===null)e=null;else if(r=t.tag,r===13){if(e=QD(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hy=e,null}function fI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fY()){case Bj:return 1;case nI:return 4;case uy:case hY:return 16;case aI:return 536870912;default:return 16}default:return 16}}var mu=null,Wj=null,Rv=null;function hI(){if(Rv)return Rv;var e,t=Wj,r=t.length,n,a="value"in mu?mu.value:mu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Rv=a.slice(e,1<n?1-n:void 0)}function Bv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function B1(){return!0}function yC(){return!1}function Oi(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?B1:yC,this.isPropagationStopped=yC,this}return fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=B1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=B1)},persist:function(){},isPersistent:B1}),t}var Oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hj=Oi(Oh),Yg=fn({},Oh,{view:0,detail:0}),AY=Oi(Yg),R5,B5,Im,Zb=fn({},Yg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Im&&(Im&&e.type==="mousemove"?(R5=e.screenX-Im.screenX,B5=e.screenY-Im.screenY):B5=R5=0,Im=e),R5)},movementY:function(e){return"movementY"in e?e.movementY:B5}}),bC=Oi(Zb),_Y=fn({},Zb,{dataTransfer:0}),EY=Oi(_Y),CY=fn({},Yg,{relatedTarget:0}),z5=Oi(CY),TY=fn({},Oh,{animationName:0,elapsedTime:0,pseudoElement:0}),PY=Oi(TY),OY=fn({},Oh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FY=Oi(OY),LY=fn({},Oh,{data:0}),wC=Oi(LY),DY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MY[e])?!!t[e]:!1}function Vj(){return RY}var BY=fn({},Yg,{key:function(e){if(e.key){var t=DY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vj,charCode:function(e){return e.type==="keypress"?Bv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zY=Oi(BY),UY=fn({},Zb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kC=Oi(UY),$Y=fn({},Yg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vj}),WY=Oi($Y),HY=fn({},Oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),VY=Oi(HY),qY=fn({},Zb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GY=Oi(qY),KY=[9,13,27,32],qj=fc&&"CompositionEvent"in window,dp=null;fc&&"documentMode"in document&&(dp=document.documentMode);var YY=fc&&"TextEvent"in window&&!dp,mI=fc&&(!qj||dp&&8<dp&&11>=dp),NC=" ",SC=!1;function pI(e,t){switch(e){case"keyup":return KY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Af=!1;function XY(e,t){switch(e){case"compositionend":return gI(t);case"keypress":return t.which!==32?null:(SC=!0,NC);case"textInput":return e=t.data,e===NC&&SC?null:e;default:return null}}function ZY(e,t){if(Af)return e==="compositionend"||!qj&&pI(e,t)?(e=hI(),Rv=Wj=mu=null,Af=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mI&&t.locale!=="ko"?null:t.data;default:return null}}var JY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JY[e.type]:t==="textarea"}function xI(e,t,r,n){KD(n),t=my(t,"onChange"),0<t.length&&(r=new Hj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fp=null,Vp=null;function QY(e){EI(e,0)}function Jb(e){var t=Cf(e);if(UD(t))return e}function eX(e,t){if(e==="change")return t}var vI=!1;if(fc){var U5;if(fc){var $5="oninput"in document;if(!$5){var AC=document.createElement("div");AC.setAttribute("oninput","return;"),$5=typeof AC.oninput=="function"}U5=$5}else U5=!1;vI=U5&&(!document.documentMode||9<document.documentMode)}function _C(){fp&&(fp.detachEvent("onpropertychange",yI),Vp=fp=null)}function yI(e){if(e.propertyName==="value"&&Jb(Vp)){var t=[];xI(t,Vp,e,Rj(e)),JD(QY,t)}}function tX(e,t,r){e==="focusin"?(_C(),fp=t,Vp=r,fp.attachEvent("onpropertychange",yI)):e==="focusout"&&_C()}function rX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jb(Vp)}function nX(e,t){if(e==="click")return Jb(t)}function aX(e,t){if(e==="input"||e==="change")return Jb(t)}function sX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Go=typeof Object.is=="function"?Object.is:sX;function qp(e,t){if(Go(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!jN.call(t,a)||!Go(e[a],t[a]))return!1}return!0}function EC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function CC(e,t){var r=EC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=EC(r)}}function bI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wI(){for(var e=window,t=oy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oy(e.document)}return t}function Gj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iX(e){var t=wI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bI(r.ownerDocument.documentElement,r)){if(n!==null&&Gj(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=CC(r,s);var i=CC(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oX=fc&&"documentMode"in document&&11>=document.documentMode,_f=null,HN=null,hp=null,VN=!1;function TC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;VN||_f==null||_f!==oy(n)||(n=_f,"selectionStart"in n&&Gj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hp&&qp(hp,n)||(hp=n,n=my(HN,"onSelect"),0<n.length&&(t=new Hj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_f)))}function z1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ef={animationend:z1("Animation","AnimationEnd"),animationiteration:z1("Animation","AnimationIteration"),animationstart:z1("Animation","AnimationStart"),transitionend:z1("Transition","TransitionEnd")},W5={},kI={};fc&&(kI=document.createElement("div").style,"AnimationEvent"in window||(delete Ef.animationend.animation,delete Ef.animationiteration.animation,delete Ef.animationstart.animation),"TransitionEvent"in window||delete Ef.transitionend.transition);function Qb(e){if(W5[e])return W5[e];if(!Ef[e])return e;var t=Ef[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kI)return W5[e]=t[r];return e}var NI=Qb("animationend"),SI=Qb("animationiteration"),jI=Qb("animationstart"),AI=Qb("transitionend"),_I=new Map,PC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zu(e,t){_I.set(e,t),A0(t,[e])}for(var H5=0;H5<PC.length;H5++){var V5=PC[H5],lX=V5.toLowerCase(),cX=V5[0].toUpperCase()+V5.slice(1);Zu(lX,"on"+cX)}Zu(NI,"onAnimationEnd");Zu(SI,"onAnimationIteration");Zu(jI,"onAnimationStart");Zu("dblclick","onDoubleClick");Zu("focusin","onFocus");Zu("focusout","onBlur");Zu(AI,"onTransitionEnd");nh("onMouseEnter",["mouseout","mouseover"]);nh("onMouseLeave",["mouseout","mouseover"]);nh("onPointerEnter",["pointerout","pointerover"]);nh("onPointerLeave",["pointerout","pointerover"]);A0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));A0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));A0("onBeforeInput",["compositionend","keypress","textInput","paste"]);A0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));A0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));A0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uX=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function OC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lY(n,t,void 0,e),e.currentTarget=null}function EI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;OC(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;OC(a,l,u),s=c}}}if(cy)throw e=zN,cy=!1,zN=null,e}function Hr(e,t){var r=t[XN];r===void 0&&(r=t[XN]=new Set);var n=e+"__bubble";r.has(n)||(CI(t,e,2,!1),r.add(n))}function q5(e,t,r){var n=0;t&&(n|=4),CI(r,e,n,t)}var U1="_reactListening"+Math.random().toString(36).slice(2);function Gp(e){if(!e[U1]){e[U1]=!0,ID.forEach(function(r){r!=="selectionchange"&&(uX.has(r)||q5(r,!1,e),q5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[U1]||(t[U1]=!0,q5("selectionchange",!1,t))}}function CI(e,t,r,n){switch(fI(t)){case 1:var a=SY;break;case 4:a=jY;break;default:a=$j}r=a.bind(null,t,r,e),a=void 0,!BN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function G5(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Td(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}JD(function(){var u=s,d=Rj(r),f=[];e:{var h=_I.get(e);if(h!==void 0){var m=Hj,p=e;switch(e){case"keypress":if(Bv(r)===0)break e;case"keydown":case"keyup":m=zY;break;case"focusin":p="focus",m=z5;break;case"focusout":p="blur",m=z5;break;case"beforeblur":case"afterblur":m=z5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WY;break;case NI:case SI:case jI:m=PY;break;case AI:m=VY;break;case"scroll":m=AY;break;case"wheel":m=GY;break;case"copy":case"cut":case"paste":m=FY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kC}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,v!==null&&(N=Up(y,v),N!=null&&g.push(Kp(y,N,b)))),x)break;y=y.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==MN&&(p=r.relatedTarget||r.fromElement)&&(Td(p)||p[hc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Td(p):null,p!==null&&(x=_0(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=bC,N="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=kC,N="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?h:Cf(m),b=p==null?h:Cf(p),h=new g(N,y+"leave",m,r,d),h.target=x,h.relatedTarget=b,N=null,Td(d)===u&&(g=new g(v,y+"enter",p,r,d),g.target=b,g.relatedTarget=x,N=g),x=N,m&&p)t:{for(g=m,v=p,y=0,b=g;b;b=df(b))y++;for(b=0,N=v;N;N=df(N))b++;for(;0<y-b;)g=df(g),y--;for(;0<b-y;)v=df(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=df(g),v=df(v)}g=null}else g=null;m!==null&&FC(f,h,m,g,!1),p!==null&&x!==null&&FC(f,x,p,g,!0)}}e:{if(h=u?Cf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=eX;else if(jC(h))if(vI)A=aX;else{A=rX;var S=tX}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=nX);if(A&&(A=A(e,u))){xI(f,A,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ON(h,"number",h.value)}switch(S=u?Cf(u):window,e){case"focusin":(jC(S)||S.contentEditable==="true")&&(_f=S,HN=u,hp=null);break;case"focusout":hp=HN=_f=null;break;case"mousedown":VN=!0;break;case"contextmenu":case"mouseup":case"dragend":VN=!1,TC(f,r,d);break;case"selectionchange":if(oX)break;case"keydown":case"keyup":TC(f,r,d)}var j;if(qj)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Af?pI(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(mI&&r.locale!=="ko"&&(Af||E!=="onCompositionStart"?E==="onCompositionEnd"&&Af&&(j=hI()):(mu=d,Wj="value"in mu?mu.value:mu.textContent,Af=!0)),S=my(u,E),0<S.length&&(E=new wC(E,e,null,r,d),f.push({event:E,listeners:S}),j?E.data=j:(j=gI(r),j!==null&&(E.data=j)))),(j=YY?XY(e,r):ZY(e,r))&&(u=my(u,"onBeforeInput"),0<u.length&&(d=new wC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}EI(f,t)})}function Kp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function my(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Up(e,r),s!=null&&n.unshift(Kp(e,s,a)),s=Up(e,t),s!=null&&n.push(Kp(e,s,a))),e=e.return}return n}function df(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FC(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Up(r,s),c!=null&&i.unshift(Kp(r,c,l))):a||(c=Up(r,s),c!=null&&i.push(Kp(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var dX=/\r\n?/g,fX=/\u0000|\uFFFD/g;function LC(e){return(typeof e=="string"?e:""+e).replace(dX,`
`).replace(fX,"")}function $1(e,t,r){if(t=LC(t),LC(e)!==t&&r)throw Error(st(425))}function py(){}var qN=null,GN=null;function KN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var YN=typeof setTimeout=="function"?setTimeout:void 0,hX=typeof clearTimeout=="function"?clearTimeout:void 0,DC=typeof Promise=="function"?Promise:void 0,mX=typeof queueMicrotask=="function"?queueMicrotask:typeof DC<"u"?function(e){return DC.resolve(null).then(e).catch(pX)}:YN;function pX(e){setTimeout(function(){throw e})}function K5(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Hp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Hp(t)}function Au(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function IC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fh=Math.random().toString(36).slice(2),gl="__reactFiber$"+Fh,Yp="__reactProps$"+Fh,hc="__reactContainer$"+Fh,XN="__reactEvents$"+Fh,gX="__reactListeners$"+Fh,xX="__reactHandles$"+Fh;function Td(e){var t=e[gl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hc]||r[gl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=IC(e);e!==null;){if(r=e[gl])return r;e=IC(e)}return t}e=r,r=e.parentNode}return null}function Xg(e){return e=e[gl]||e[hc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(st(33))}function e2(e){return e[Yp]||null}var ZN=[],Tf=-1;function Ju(e){return{current:e}}function Kr(e){0>Tf||(e.current=ZN[Tf],ZN[Tf]=null,Tf--)}function zr(e,t){Tf++,ZN[Tf]=e.current,e.current=t}var Iu={},ps=Ju(Iu),Ks=Ju(!1),i0=Iu;function ah(e,t){var r=e.type.contextTypes;if(!r)return Iu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ys(e){return e=e.childContextTypes,e!=null}function gy(){Kr(Ks),Kr(ps)}function MC(e,t,r){if(ps.current!==Iu)throw Error(st(168));zr(ps,t),zr(Ks,r)}function TI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(st(108,tY(e)||"Unknown",a));return fn({},r,n)}function xy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Iu,i0=ps.current,zr(ps,e),zr(Ks,Ks.current),!0}function RC(e,t,r){var n=e.stateNode;if(!n)throw Error(st(169));r?(e=TI(e,t,i0),n.__reactInternalMemoizedMergedChildContext=e,Kr(Ks),Kr(ps),zr(ps,e)):Kr(Ks),zr(Ks,r)}var Xl=null,t2=!1,Y5=!1;function PI(e){Xl===null?Xl=[e]:Xl.push(e)}function vX(e){t2=!0,PI(e)}function Qu(){if(!Y5&&Xl!==null){Y5=!0;var e=0,t=Er;try{var r=Xl;for(Er=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xl=null,t2=!1}catch(a){throw Xl!==null&&(Xl=Xl.slice(e+1)),rI(Bj,Qu),a}finally{Er=t,Y5=!1}}return null}var Pf=[],Of=0,vy=null,yy=0,eo=[],to=0,o0=null,ec=1,tc="";function kd(e,t){Pf[Of++]=yy,Pf[Of++]=vy,vy=e,yy=t}function OI(e,t,r){eo[to++]=ec,eo[to++]=tc,eo[to++]=o0,o0=e;var n=ec;e=tc;var a=32-Uo(n)-1;n&=~(1<<a),r+=1;var s=32-Uo(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ec=1<<32-Uo(t)+a|r<<a|n,tc=s+e}else ec=1<<s|r<<a|n,tc=e}function Kj(e){e.return!==null&&(kd(e,1),OI(e,1,0))}function Yj(e){for(;e===vy;)vy=Pf[--Of],Pf[Of]=null,yy=Pf[--Of],Pf[Of]=null;for(;e===o0;)o0=eo[--to],eo[to]=null,tc=eo[--to],eo[to]=null,ec=eo[--to],eo[to]=null}var ki=null,yi=null,Qr=!1,Lo=null;function FI(e,t){var r=ro(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function BC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ki=e,yi=Au(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ki=e,yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=o0!==null?{id:ec,overflow:tc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ro(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ki=e,yi=null,!0):!1;default:return!1}}function JN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QN(e){if(Qr){var t=yi;if(t){var r=t;if(!BC(e,t)){if(JN(e))throw Error(st(418));t=Au(r.nextSibling);var n=ki;t&&BC(e,t)?FI(n,r):(e.flags=e.flags&-4097|2,Qr=!1,ki=e)}}else{if(JN(e))throw Error(st(418));e.flags=e.flags&-4097|2,Qr=!1,ki=e}}}function zC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ki=e}function W1(e){if(e!==ki)return!1;if(!Qr)return zC(e),Qr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!KN(e.type,e.memoizedProps)),t&&(t=yi)){if(JN(e))throw LI(),Error(st(418));for(;t;)FI(e,t),t=Au(t.nextSibling)}if(zC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yi=Au(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yi=null}}else yi=ki?Au(e.stateNode.nextSibling):null;return!0}function LI(){for(var e=yi;e;)e=Au(e.nextSibling)}function sh(){yi=ki=null,Qr=!1}function Xj(e){Lo===null?Lo=[e]:Lo.push(e)}var yX=Ec.ReactCurrentBatchConfig;function Mm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var n=r.stateNode}if(!n)throw Error(st(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,e))}return e}function H1(e,t){throw e=Object.prototype.toString.call(t),Error(st(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function UC(e){var t=e._init;return t(e._payload)}function DI(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Tu(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,N){return y===null||y.tag!==6?(y=rk(b,v.mode,N),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,N){var A=b.type;return A===jf?d(v,y,b.props.children,N,b.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===su&&UC(A)===y.type)?(N=a(y,b.props),N.ref=Mm(v,y,b),N.return=v,N):(N=qv(b.type,b.key,b.props,null,v.mode,N),N.ref=Mm(v,y,b),N.return=v,N)}function u(v,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=nk(b,v.mode,N),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function d(v,y,b,N,A){return y===null||y.tag!==7?(y=Wd(b,v.mode,N,A),y.return=v,y):(y=a(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rk(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case F1:return b=qv(y.type,y.key,y.props,null,v.mode,b),b.ref=Mm(v,null,y),b.return=v,b;case Sf:return y=nk(y,v.mode,b),y.return=v,y;case su:var N=y._init;return f(v,N(y._payload),b)}if(ep(y)||Om(y))return y=Wd(y,v.mode,b,null),y.return=v,y;H1(v,y)}return null}function h(v,y,b,N){var A=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:l(v,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case F1:return b.key===A?c(v,y,b,N):null;case Sf:return b.key===A?u(v,y,b,N):null;case su:return A=b._init,h(v,y,A(b._payload),N)}if(ep(b)||Om(b))return A!==null?null:d(v,y,b,N,null);H1(v,b)}return null}function m(v,y,b,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(b)||null,l(y,v,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F1:return v=v.get(N.key===null?b:N.key)||null,c(y,v,N,A);case Sf:return v=v.get(N.key===null?b:N.key)||null,u(y,v,N,A);case su:var S=N._init;return m(v,y,b,S(N._payload),A)}if(ep(N)||Om(N))return v=v.get(b)||null,d(y,v,N,A,null);H1(y,N)}return null}function p(v,y,b,N){for(var A=null,S=null,j=y,E=y=0,C=null;j!==null&&E<b.length;E++){j.index>E?(C=j,j=null):C=j.sibling;var I=h(v,j,b[E],N);if(I===null){j===null&&(j=C);break}e&&j&&I.alternate===null&&t(v,j),y=s(I,y,E),S===null?A=I:S.sibling=I,S=I,j=C}if(E===b.length)return r(v,j),Qr&&kd(v,E),A;if(j===null){for(;E<b.length;E++)j=f(v,b[E],N),j!==null&&(y=s(j,y,E),S===null?A=j:S.sibling=j,S=j);return Qr&&kd(v,E),A}for(j=n(v,j);E<b.length;E++)C=m(j,v,E,b[E],N),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?E:C.key),y=s(C,y,E),S===null?A=C:S.sibling=C,S=C);return e&&j.forEach(function(T){return t(v,T)}),Qr&&kd(v,E),A}function g(v,y,b,N){var A=Om(b);if(typeof A!="function")throw Error(st(150));if(b=A.call(b),b==null)throw Error(st(151));for(var S=A=null,j=y,E=y=0,C=null,I=b.next();j!==null&&!I.done;E++,I=b.next()){j.index>E?(C=j,j=null):C=j.sibling;var T=h(v,j,I.value,N);if(T===null){j===null&&(j=C);break}e&&j&&T.alternate===null&&t(v,j),y=s(T,y,E),S===null?A=T:S.sibling=T,S=T,j=C}if(I.done)return r(v,j),Qr&&kd(v,E),A;if(j===null){for(;!I.done;E++,I=b.next())I=f(v,I.value,N),I!==null&&(y=s(I,y,E),S===null?A=I:S.sibling=I,S=I);return Qr&&kd(v,E),A}for(j=n(v,j);!I.done;E++,I=b.next())I=m(j,v,E,I.value,N),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?E:I.key),y=s(I,y,E),S===null?A=I:S.sibling=I,S=I);return e&&j.forEach(function(P){return t(v,P)}),Qr&&kd(v,E),A}function x(v,y,b,N){if(typeof b=="object"&&b!==null&&b.type===jf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case F1:e:{for(var A=b.key,S=y;S!==null;){if(S.key===A){if(A=b.type,A===jf){if(S.tag===7){r(v,S.sibling),y=a(S,b.props.children),y.return=v,v=y;break e}}else if(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===su&&UC(A)===S.type){r(v,S.sibling),y=a(S,b.props),y.ref=Mm(v,S,b),y.return=v,v=y;break e}r(v,S);break}else t(v,S);S=S.sibling}b.type===jf?(y=Wd(b.props.children,v.mode,N,b.key),y.return=v,v=y):(N=qv(b.type,b.key,b.props,null,v.mode,N),N.ref=Mm(v,y,b),N.return=v,v=N)}return i(v);case Sf:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=nk(b,v.mode,N),y.return=v,v=y}return i(v);case su:return S=b._init,x(v,y,S(b._payload),N)}if(ep(b))return p(v,y,b,N);if(Om(b))return g(v,y,b,N);H1(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,b),y.return=v,v=y):(r(v,y),y=rk(b,v.mode,N),y.return=v,v=y),i(v)):r(v,y)}return x}var ih=DI(!0),II=DI(!1),by=Ju(null),wy=null,Ff=null,Zj=null;function Jj(){Zj=Ff=wy=null}function Qj(e){var t=by.current;Kr(by),e._currentValue=t}function e4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kf(e,t){wy=e,Zj=Ff=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vs=!0),e.firstContext=null)}function lo(e){var t=e._currentValue;if(Zj!==e)if(e={context:e,memoizedValue:t,next:null},Ff===null){if(wy===null)throw Error(st(308));Ff=e,wy.dependencies={lanes:0,firstContext:e}}else Ff=Ff.next=e;return t}var Pd=null;function e3(e){Pd===null?Pd=[e]:Pd.push(e)}function MI(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,e3(t)):(r.next=a.next,a.next=r),t.interleaved=r,mc(e,n)}function mc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var iu=!1;function t3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _u(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,lr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,mc(e,r)}return a=n.interleaved,a===null?(t.next=t,e3(n)):(t.next=a.next,a.next=t),n.interleaved=t,mc(e,r)}function zv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zj(e,r)}}function $C(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ky(e,t,r,n){var a=e.updateQueue;iu=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=fn({},f,h);break e;case 2:iu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);c0|=i,e.lanes=i,e.memoizedState=f}}function WC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(st(191,a));a.call(n)}}}var Zg={},kl=Ju(Zg),Xp=Ju(Zg),Zp=Ju(Zg);function Od(e){if(e===Zg)throw Error(st(174));return e}function r3(e,t){switch(zr(Zp,t),zr(Xp,e),zr(kl,Zg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:LN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=LN(t,e)}Kr(kl),zr(kl,t)}function oh(){Kr(kl),Kr(Xp),Kr(Zp)}function BI(e){Od(Zp.current);var t=Od(kl.current),r=LN(t,e.type);t!==r&&(zr(Xp,e),zr(kl,r))}function n3(e){Xp.current===e&&(Kr(kl),Kr(Xp))}var on=Ju(0);function Ny(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var X5=[];function a3(){for(var e=0;e<X5.length;e++)X5[e]._workInProgressVersionPrimary=null;X5.length=0}var Uv=Ec.ReactCurrentDispatcher,Z5=Ec.ReactCurrentBatchConfig,l0=0,dn=null,ia=null,_a=null,Sy=!1,mp=!1,Jp=0,bX=0;function Ya(){throw Error(st(321))}function s3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Go(e[r],t[r]))return!1;return!0}function i3(e,t,r,n,a,s){if(l0=s,dn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uv.current=e===null||e.memoizedState===null?SX:jX,e=r(n,a),mp){s=0;do{if(mp=!1,Jp=0,25<=s)throw Error(st(301));s+=1,_a=ia=null,t.updateQueue=null,Uv.current=AX,e=r(n,a)}while(mp)}if(Uv.current=jy,t=ia!==null&&ia.next!==null,l0=0,_a=ia=dn=null,Sy=!1,t)throw Error(st(300));return e}function o3(){var e=Jp!==0;return Jp=0,e}function hl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _a===null?dn.memoizedState=_a=e:_a=_a.next=e,_a}function co(){if(ia===null){var e=dn.alternate;e=e!==null?e.memoizedState:null}else e=ia.next;var t=_a===null?dn.memoizedState:_a.next;if(t!==null)_a=t,ia=e;else{if(e===null)throw Error(st(310));ia=e,e={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},_a===null?dn.memoizedState=_a=e:_a=_a.next=e}return _a}function Qp(e,t){return typeof t=="function"?t(e):t}function J5(e){var t=co(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var n=ia,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((l0&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,dn.lanes|=d,c0|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,Go(n,t.memoizedState)||(Vs=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,dn.lanes|=s,c0|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Q5(e){var t=co(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Go(s,t.memoizedState)||(Vs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function zI(){}function UI(e,t){var r=dn,n=co(),a=t(),s=!Go(n.memoizedState,a);if(s&&(n.memoizedState=a,Vs=!0),n=n.queue,l3(HI.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||_a!==null&&_a.memoizedState.tag&1){if(r.flags|=2048,eg(9,WI.bind(null,r,n,a,t),void 0,null),Pa===null)throw Error(st(349));l0&30||$I(r,t,a)}return a}function $I(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=dn.updateQueue,t===null?(t={lastEffect:null,stores:null},dn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WI(e,t,r,n){t.value=r,t.getSnapshot=n,VI(t)&&qI(e)}function HI(e,t,r){return r(function(){VI(t)&&qI(e)})}function VI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Go(e,r)}catch{return!0}}function qI(e){var t=mc(e,1);t!==null&&$o(t,e,1,-1)}function HC(e){var t=hl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:e},t.queue=e,e=e.dispatch=NX.bind(null,dn,e),[t.memoizedState,e]}function eg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=dn.updateQueue,t===null?(t={lastEffect:null,stores:null},dn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GI(){return co().memoizedState}function $v(e,t,r,n){var a=hl();dn.flags|=e,a.memoizedState=eg(1|t,r,void 0,n===void 0?null:n)}function r2(e,t,r,n){var a=co();n=n===void 0?null:n;var s=void 0;if(ia!==null){var i=ia.memoizedState;if(s=i.destroy,n!==null&&s3(n,i.deps)){a.memoizedState=eg(t,r,s,n);return}}dn.flags|=e,a.memoizedState=eg(1|t,r,s,n)}function VC(e,t){return $v(8390656,8,e,t)}function l3(e,t){return r2(2048,8,e,t)}function KI(e,t){return r2(4,2,e,t)}function YI(e,t){return r2(4,4,e,t)}function XI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZI(e,t,r){return r=r!=null?r.concat([e]):null,r2(4,4,XI.bind(null,t,e),r)}function c3(){}function JI(e,t){var r=co();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&s3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QI(e,t){var r=co();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&s3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eM(e,t,r){return l0&21?(Go(r,t)||(r=sI(),dn.lanes|=r,c0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vs=!0),e.memoizedState=r)}function wX(e,t){var r=Er;Er=r!==0&&4>r?r:4,e(!0);var n=Z5.transition;Z5.transition={};try{e(!1),t()}finally{Er=r,Z5.transition=n}}function tM(){return co().memoizedState}function kX(e,t,r){var n=Cu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rM(e))nM(t,r);else if(r=MI(e,t,r,n),r!==null){var a=Ts();$o(r,e,n,a),aM(r,t,n)}}function NX(e,t,r){var n=Cu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rM(e))nM(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,Go(l,i)){var c=t.interleaved;c===null?(a.next=a,e3(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=MI(e,t,a,n),r!==null&&(a=Ts(),$o(r,e,n,a),aM(r,t,n))}}function rM(e){var t=e.alternate;return e===dn||t!==null&&t===dn}function nM(e,t){mp=Sy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function aM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zj(e,r)}}var jy={readContext:lo,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useInsertionEffect:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useDeferredValue:Ya,useTransition:Ya,useMutableSource:Ya,useSyncExternalStore:Ya,useId:Ya,unstable_isNewReconciler:!1},SX={readContext:lo,useCallback:function(e,t){return hl().memoizedState=[e,t===void 0?null:t],e},useContext:lo,useEffect:VC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$v(4194308,4,XI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $v(4194308,4,e,t)},useInsertionEffect:function(e,t){return $v(4,2,e,t)},useMemo:function(e,t){var r=hl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kX.bind(null,dn,e),[n.memoizedState,e]},useRef:function(e){var t=hl();return e={current:e},t.memoizedState=e},useState:HC,useDebugValue:c3,useDeferredValue:function(e){return hl().memoizedState=e},useTransition:function(){var e=HC(!1),t=e[0];return e=wX.bind(null,e[1]),hl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=dn,a=hl();if(Qr){if(r===void 0)throw Error(st(407));r=r()}else{if(r=t(),Pa===null)throw Error(st(349));l0&30||$I(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,VC(HI.bind(null,n,s,e),[e]),n.flags|=2048,eg(9,WI.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=hl(),t=Pa.identifierPrefix;if(Qr){var r=tc,n=ec;r=(n&~(1<<32-Uo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jX={readContext:lo,useCallback:JI,useContext:lo,useEffect:l3,useImperativeHandle:ZI,useInsertionEffect:KI,useLayoutEffect:YI,useMemo:QI,useReducer:J5,useRef:GI,useState:function(){return J5(Qp)},useDebugValue:c3,useDeferredValue:function(e){var t=co();return eM(t,ia.memoizedState,e)},useTransition:function(){var e=J5(Qp)[0],t=co().memoizedState;return[e,t]},useMutableSource:zI,useSyncExternalStore:UI,useId:tM,unstable_isNewReconciler:!1},AX={readContext:lo,useCallback:JI,useContext:lo,useEffect:l3,useImperativeHandle:ZI,useInsertionEffect:KI,useLayoutEffect:YI,useMemo:QI,useReducer:Q5,useRef:GI,useState:function(){return Q5(Qp)},useDebugValue:c3,useDeferredValue:function(e){var t=co();return ia===null?t.memoizedState=e:eM(t,ia.memoizedState,e)},useTransition:function(){var e=Q5(Qp)[0],t=co().memoizedState;return[e,t]},useMutableSource:zI,useSyncExternalStore:UI,useId:tM,unstable_isNewReconciler:!1};function Po(e,t){if(e&&e.defaultProps){t=fn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function t4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var n2={isMounted:function(e){return(e=e._reactInternals)?_0(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ts(),a=Cu(e),s=sc(n,a);s.payload=t,r!=null&&(s.callback=r),t=_u(e,s,a),t!==null&&($o(t,e,a,n),zv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ts(),a=Cu(e),s=sc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=_u(e,s,a),t!==null&&($o(t,e,a,n),zv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ts(),n=Cu(e),a=sc(r,n);a.tag=2,t!=null&&(a.callback=t),t=_u(e,a,n),t!==null&&($o(t,e,n,r),zv(t,e,n))}};function qC(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!qp(r,n)||!qp(a,s):!0}function sM(e,t,r){var n=!1,a=Iu,s=t.contextType;return typeof s=="object"&&s!==null?s=lo(s):(a=Ys(t)?i0:ps.current,n=t.contextTypes,s=(n=n!=null)?ah(e,a):Iu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=n2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function GC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&n2.enqueueReplaceState(t,t.state,null)}function r4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},t3(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=lo(s):(s=Ys(t)?i0:ps.current,a.context=ah(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(t4(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&n2.enqueueReplaceState(a,a.state,null),ky(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lh(e,t){try{var r="",n=t;do r+=eY(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function ek(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function n4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _X=typeof WeakMap=="function"?WeakMap:Map;function iM(e,t,r){r=sc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_y||(_y=!0,h4=n),n4(e,t)},r}function oM(e,t,r){r=sc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){n4(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){n4(e,t),typeof n!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function KC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _X;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=UX.bind(null,e,t,r),t.then(e,e))}function YC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function XC(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sc(-1,1),t.tag=2,_u(r,t,1))),r.lanes|=1),e)}var EX=Ec.ReactCurrentOwner,Vs=!1;function Ss(e,t,r,n){t.child=e===null?II(t,null,r,n):ih(t,e.child,r,n)}function ZC(e,t,r,n,a){r=r.render;var s=t.ref;return Kf(t,a),n=i3(e,t,r,n,s,a),r=o3(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pc(e,t,a)):(Qr&&r&&Kj(t),t.flags|=1,Ss(e,t,n,a),t.child)}function JC(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!x3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,lM(e,t,s,n,a)):(e=qv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:qp,r(i,n)&&e.ref===t.ref)return pc(e,t,a)}return t.flags|=1,e=Tu(s,n),e.ref=t.ref,e.return=t,t.child=e}function lM(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(qp(s,n)&&e.ref===t.ref)if(Vs=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Vs=!0);else return t.lanes=e.lanes,pc(e,t,a)}return a4(e,t,r,n,a)}function cM(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Df,fi),fi|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zr(Df,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,zr(Df,fi),fi|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,zr(Df,fi),fi|=n;return Ss(e,t,a,r),t.child}function uM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function a4(e,t,r,n,a){var s=Ys(r)?i0:ps.current;return s=ah(t,s),Kf(t,a),r=i3(e,t,r,n,s,a),n=o3(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pc(e,t,a)):(Qr&&n&&Kj(t),t.flags|=1,Ss(e,t,r,a),t.child)}function QC(e,t,r,n,a){if(Ys(r)){var s=!0;xy(t)}else s=!1;if(Kf(t,a),t.stateNode===null)Wv(e,t),sM(t,r,n),r4(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=lo(u):(u=Ys(r)?i0:ps.current,u=ah(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&GC(t,i,n,u),iu=!1;var h=t.memoizedState;i.state=h,ky(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Ks.current||iu?(typeof d=="function"&&(t4(t,r,d,n),c=t.memoizedState),(l=iu||qC(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,RI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Po(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=lo(c):(c=Ys(r)?i0:ps.current,c=ah(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&GC(t,i,n,c),iu=!1,h=t.memoizedState,i.state=h,ky(t,n,i,a);var p=t.memoizedState;l!==f||h!==p||Ks.current||iu?(typeof m=="function"&&(t4(t,r,m,n),p=t.memoizedState),(u=iu||qC(t,r,u,n,h,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return s4(e,t,r,n,s,a)}function s4(e,t,r,n,a,s){uM(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&RC(t,r,!1),pc(e,t,s);n=t.stateNode,EX.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ih(t,e.child,null,s),t.child=ih(t,null,l,s)):Ss(e,t,l,s),t.memoizedState=n.state,a&&RC(t,r,!0),t.child}function dM(e){var t=e.stateNode;t.pendingContext?MC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&MC(e,t.context,!1),r3(e,t.containerInfo)}function eT(e,t,r,n,a){return sh(),Xj(a),t.flags|=256,Ss(e,t,r,n),t.child}var i4={dehydrated:null,treeContext:null,retryLane:0};function o4(e){return{baseLanes:e,cachePool:null,transitions:null}}function fM(e,t,r){var n=t.pendingProps,a=on.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zr(on,a&1),e===null)return QN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=i2(i,n,0,null),e=Wd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=o4(r),t.memoizedState=i4,e):u3(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return CX(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Tu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Tu(l,s):(s=Wd(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?o4(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=i4,n}return s=e.child,e=s.sibling,n=Tu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function u3(e,t){return t=i2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function V1(e,t,r,n){return n!==null&&Xj(n),ih(t,e.child,null,r),e=u3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CX(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=ek(Error(st(422))),V1(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=i2({mode:"visible",children:n.children},a,0,null),s=Wd(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ih(t,e.child,null,i),t.child.memoizedState=o4(i),t.memoizedState=i4,s);if(!(t.mode&1))return V1(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(st(419)),n=ek(s,n,void 0),V1(e,t,i,n)}if(l=(i&e.childLanes)!==0,Vs||l){if(n=Pa,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,mc(e,a),$o(n,e,a,-1))}return g3(),n=ek(Error(st(421))),V1(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$X.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,yi=Au(a.nextSibling),ki=t,Qr=!0,Lo=null,e!==null&&(eo[to++]=ec,eo[to++]=tc,eo[to++]=o0,ec=e.id,tc=e.overflow,o0=t),t=u3(t,n.children),t.flags|=4096,t)}function tT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),e4(e.return,t,r)}function tk(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function hM(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ss(e,t,n.children,r),n=on.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tT(e,r,t);else if(e.tag===19)tT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zr(on,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ny(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),tk(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ny(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}tk(t,!0,r,null,s);break;case"together":tk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),c0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(st(153));if(t.child!==null){for(e=t.child,r=Tu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TX(e,t,r){switch(t.tag){case 3:dM(t),sh();break;case 5:BI(t);break;case 1:Ys(t.type)&&xy(t);break;case 4:r3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zr(by,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zr(on,on.current&1),t.flags|=128,null):r&t.child.childLanes?fM(e,t,r):(zr(on,on.current&1),e=pc(e,t,r),e!==null?e.sibling:null);zr(on,on.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hM(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zr(on,on.current),n)break;return null;case 22:case 23:return t.lanes=0,cM(e,t,r)}return pc(e,t,r)}var mM,l4,pM,gM;mM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l4=function(){};pM=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Od(kl.current);var s=null;switch(r){case"input":a=TN(e,a),n=TN(e,n),s=[];break;case"select":a=fn({},a,{value:void 0}),n=fn({},n,{value:void 0}),s=[];break;case"textarea":a=FN(e,a),n=FN(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=py)}DN(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Hr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};gM=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rm(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PX(e,t,r){var n=t.pendingProps;switch(Yj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(t),null;case 1:return Ys(t.type)&&gy(),Xa(t),null;case 3:return n=t.stateNode,oh(),Kr(Ks),Kr(ps),a3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(W1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lo!==null&&(g4(Lo),Lo=null))),l4(e,t),Xa(t),null;case 5:n3(t);var a=Od(Zp.current);if(r=t.type,e!==null&&t.stateNode!=null)pM(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(st(166));return Xa(t),null}if(e=Od(kl.current),W1(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[gl]=t,n[Yp]=s,e=(t.mode&1)!==0,r){case"dialog":Hr("cancel",n),Hr("close",n);break;case"iframe":case"object":case"embed":Hr("load",n);break;case"video":case"audio":for(a=0;a<rp.length;a++)Hr(rp[a],n);break;case"source":Hr("error",n);break;case"img":case"image":case"link":Hr("error",n),Hr("load",n);break;case"details":Hr("toggle",n);break;case"input":uC(n,s),Hr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Hr("invalid",n);break;case"textarea":fC(n,s),Hr("invalid",n)}DN(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&$1(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$1(n.textContent,l,e),a=["children",""+l]):Bp.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Hr("scroll",n)}switch(r){case"input":L1(n),dC(n,s,!0);break;case"textarea":L1(n),hC(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=py)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HD(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[gl]=t,e[Yp]=n,mM(e,t,!1,!1),t.stateNode=e;e:{switch(i=IN(r,n),r){case"dialog":Hr("cancel",e),Hr("close",e),a=n;break;case"iframe":case"object":case"embed":Hr("load",e),a=n;break;case"video":case"audio":for(a=0;a<rp.length;a++)Hr(rp[a],e);a=n;break;case"source":Hr("error",e),a=n;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),a=n;break;case"details":Hr("toggle",e),a=n;break;case"input":uC(e,n),a=TN(e,n),Hr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=fn({},n,{value:void 0}),Hr("invalid",e);break;case"textarea":fC(e,n),a=FN(e,n),Hr("invalid",e);break;default:a=n}DN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?GD(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&VD(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zp(e,c):typeof c=="number"&&zp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Hr("scroll",e):c!=null&&Lj(e,s,c,i))}switch(r){case"input":L1(e),dC(e,n,!1);break;case"textarea":L1(e),hC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Du(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Hf(e,!!n.multiple,s,!1):n.defaultValue!=null&&Hf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=py)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xa(t),null;case 6:if(e&&t.stateNode!=null)gM(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(st(166));if(r=Od(Zp.current),Od(kl.current),W1(t)){if(n=t.stateNode,r=t.memoizedProps,n[gl]=t,(s=n.nodeValue!==r)&&(e=ki,e!==null))switch(e.tag){case 3:$1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$1(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gl]=t,t.stateNode=n}return Xa(t),null;case 13:if(Kr(on),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qr&&yi!==null&&t.mode&1&&!(t.flags&128))LI(),sh(),t.flags|=98560,s=!1;else if(s=W1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(st(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(st(317));s[gl]=t}else sh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xa(t),s=!1}else Lo!==null&&(g4(Lo),Lo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||on.current&1?ua===0&&(ua=3):g3())),t.updateQueue!==null&&(t.flags|=4),Xa(t),null);case 4:return oh(),l4(e,t),e===null&&Gp(t.stateNode.containerInfo),Xa(t),null;case 10:return Qj(t.type._context),Xa(t),null;case 17:return Ys(t.type)&&gy(),Xa(t),null;case 19:if(Kr(on),s=t.memoizedState,s===null)return Xa(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Rm(s,!1);else{if(ua!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ny(e),i!==null){for(t.flags|=128,Rm(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zr(on,on.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fn()>ch&&(t.flags|=128,n=!0,Rm(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ny(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qr)return Xa(t),null}else 2*Fn()-s.renderingStartTime>ch&&r!==1073741824&&(t.flags|=128,n=!0,Rm(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fn(),t.sibling=null,r=on.current,zr(on,n?r&1|2:r&1),t):(Xa(t),null);case 22:case 23:return p3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fi&1073741824&&(Xa(t),t.subtreeFlags&6&&(t.flags|=8192)):Xa(t),null;case 24:return null;case 25:return null}throw Error(st(156,t.tag))}function OX(e,t){switch(Yj(t),t.tag){case 1:return Ys(t.type)&&gy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oh(),Kr(Ks),Kr(ps),a3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return n3(t),null;case 13:if(Kr(on),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(st(340));sh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kr(on),null;case 4:return oh(),null;case 10:return Qj(t.type._context),null;case 22:case 23:return p3(),null;case 24:return null;default:return null}}var q1=!1,ss=!1,FX=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Lf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bn(e,t,n)}else r.current=null}function c4(e,t,r){try{r()}catch(n){bn(e,t,n)}}var rT=!1;function LX(e,t){if(qN=fy,e=wI(),Gj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(GN={focusedElem:e,selectionRange:r},fy=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){t=bt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Po(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(N){bn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return p=rT,rT=!1,p}function pp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&c4(t,r,s)}a=a.next}while(a!==n)}}function a2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function u4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xM(e){var t=e.alternate;t!==null&&(e.alternate=null,xM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gl],delete t[Yp],delete t[XN],delete t[gX],delete t[xX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vM(e){return e.tag===5||e.tag===3||e.tag===4}function nT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=py));else if(n!==4&&(e=e.child,e!==null))for(d4(e,t,r),e=e.sibling;e!==null;)d4(e,t,r),e=e.sibling}function f4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(f4(e,t,r),e=e.sibling;e!==null;)f4(e,t,r),e=e.sibling}var Ra=null,Fo=!1;function eu(e,t,r){for(r=r.child;r!==null;)yM(e,t,r),r=r.sibling}function yM(e,t,r){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(Xb,r)}catch{}switch(r.tag){case 5:ss||Lf(r,t);case 6:var n=Ra,a=Fo;Ra=null,eu(e,t,r),Ra=n,Fo=a,Ra!==null&&(Fo?(e=Ra,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ra.removeChild(r.stateNode));break;case 18:Ra!==null&&(Fo?(e=Ra,r=r.stateNode,e.nodeType===8?K5(e.parentNode,r):e.nodeType===1&&K5(e,r),Hp(e)):K5(Ra,r.stateNode));break;case 4:n=Ra,a=Fo,Ra=r.stateNode.containerInfo,Fo=!0,eu(e,t,r),Ra=n,Fo=a;break;case 0:case 11:case 14:case 15:if(!ss&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&c4(r,t,i),a=a.next}while(a!==n)}eu(e,t,r);break;case 1:if(!ss&&(Lf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){bn(r,t,l)}eu(e,t,r);break;case 21:eu(e,t,r);break;case 22:r.mode&1?(ss=(n=ss)||r.memoizedState!==null,eu(e,t,r),ss=n):eu(e,t,r);break;default:eu(e,t,r)}}function aT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FX),t.forEach(function(n){var a=WX.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ao(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ra=l.stateNode,Fo=!1;break e;case 3:Ra=l.stateNode.containerInfo,Fo=!0;break e;case 4:Ra=l.stateNode.containerInfo,Fo=!0;break e}l=l.return}if(Ra===null)throw Error(st(160));yM(s,i,a),Ra=null,Fo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){bn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bM(t,e),t=t.sibling}function bM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ao(t,e),il(e),n&4){try{pp(3,e,e.return),a2(3,e)}catch(g){bn(e,e.return,g)}try{pp(5,e,e.return)}catch(g){bn(e,e.return,g)}}break;case 1:Ao(t,e),il(e),n&512&&r!==null&&Lf(r,r.return);break;case 5:if(Ao(t,e),il(e),n&512&&r!==null&&Lf(r,r.return),e.flags&32){var a=e.stateNode;try{zp(a,"")}catch(g){bn(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$D(a,s),IN(l,i);var u=IN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?GD(a,f):d==="dangerouslySetInnerHTML"?VD(a,f):d==="children"?zp(a,f):Lj(a,d,f,u)}switch(l){case"input":PN(a,s);break;case"textarea":WD(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Hf(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Hf(a,!!s.multiple,s.defaultValue,!0):Hf(a,!!s.multiple,s.multiple?[]:"",!1))}a[Yp]=s}catch(g){bn(e,e.return,g)}}break;case 6:if(Ao(t,e),il(e),n&4){if(e.stateNode===null)throw Error(st(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){bn(e,e.return,g)}}break;case 3:if(Ao(t,e),il(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hp(t.containerInfo)}catch(g){bn(e,e.return,g)}break;case 4:Ao(t,e),il(e);break;case 13:Ao(t,e),il(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(h3=Fn())),n&4&&aT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ss=(u=ss)||d,Ao(t,e),ss=u):Ao(t,e),il(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(bt=e,d=e.child;d!==null;){for(f=bt=d;bt!==null;){switch(h=bt,m=h.child,h.tag){case 0:case 11:case 14:case 15:pp(4,h,h.return);break;case 1:Lf(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){bn(n,r,g)}}break;case 5:Lf(h,h.return);break;case 22:if(h.memoizedState!==null){iT(f);continue}}m!==null?(m.return=h,bt=m):iT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qD("display",i))}catch(g){bn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){bn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ao(t,e),il(e),n&4&&aT(e);break;case 21:break;default:Ao(t,e),il(e)}}function il(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vM(r)){var n=r;break e}r=r.return}throw Error(st(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(zp(a,""),n.flags&=-33);var s=nT(e);f4(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=nT(e);d4(e,l,i);break;default:throw Error(st(161))}}catch(c){bn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DX(e,t,r){bt=e,wM(e)}function wM(e,t,r){for(var n=(e.mode&1)!==0;bt!==null;){var a=bt,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||q1;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ss;l=q1;var u=ss;if(q1=i,(ss=c)&&!u)for(bt=a;bt!==null;)i=bt,c=i.child,i.tag===22&&i.memoizedState!==null?oT(a):c!==null?(c.return=i,bt=c):oT(a);for(;s!==null;)bt=s,wM(s),s=s.sibling;bt=a,q1=l,ss=u}sT(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,bt=s):sT(e)}}function sT(e){for(;bt!==null;){var t=bt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||a2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ss)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Po(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&WC(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}WC(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}ss||t.flags&512&&u4(t)}catch(h){bn(t,t.return,h)}}if(t===e){bt=null;break}if(r=t.sibling,r!==null){r.return=t.return,bt=r;break}bt=t.return}}function iT(e){for(;bt!==null;){var t=bt;if(t===e){bt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,bt=r;break}bt=t.return}}function oT(e){for(;bt!==null;){var t=bt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{a2(4,t)}catch(c){bn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){bn(t,a,c)}}var s=t.return;try{u4(t)}catch(c){bn(t,s,c)}break;case 5:var i=t.return;try{u4(t)}catch(c){bn(t,i,c)}}}catch(c){bn(t,t.return,c)}if(t===e){bt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,bt=l;break}bt=t.return}}var IX=Math.ceil,Ay=Ec.ReactCurrentDispatcher,d3=Ec.ReactCurrentOwner,so=Ec.ReactCurrentBatchConfig,lr=0,Pa=null,Zn=null,Wa=0,fi=0,Df=Ju(0),ua=0,tg=null,c0=0,s2=0,f3=0,gp=null,Ws=null,h3=0,ch=1/0,Yl=null,_y=!1,h4=null,Eu=null,G1=!1,pu=null,Ey=0,xp=0,m4=null,Hv=-1,Vv=0;function Ts(){return lr&6?Fn():Hv!==-1?Hv:Hv=Fn()}function Cu(e){return e.mode&1?lr&2&&Wa!==0?Wa&-Wa:yX.transition!==null?(Vv===0&&(Vv=sI()),Vv):(e=Er,e!==0||(e=window.event,e=e===void 0?16:fI(e.type)),e):1}function $o(e,t,r,n){if(50<xp)throw xp=0,m4=null,Error(st(185));Kg(e,r,n),(!(lr&2)||e!==Pa)&&(e===Pa&&(!(lr&2)&&(s2|=r),ua===4&&uu(e,Wa)),Xs(e,n),r===1&&lr===0&&!(t.mode&1)&&(ch=Fn()+500,t2&&Qu()))}function Xs(e,t){var r=e.callbackNode;yY(e,t);var n=dy(e,e===Pa?Wa:0);if(n===0)r!==null&&gC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gC(r),t===1)e.tag===0?vX(lT.bind(null,e)):PI(lT.bind(null,e)),mX(function(){!(lr&6)&&Qu()}),r=null;else{switch(iI(n)){case 1:r=Bj;break;case 4:r=nI;break;case 16:r=uy;break;case 536870912:r=aI;break;default:r=uy}r=CM(r,kM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kM(e,t){if(Hv=-1,Vv=0,lr&6)throw Error(st(327));var r=e.callbackNode;if(Yf()&&e.callbackNode!==r)return null;var n=dy(e,e===Pa?Wa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Cy(e,n);else{t=n;var a=lr;lr|=2;var s=SM();(Pa!==e||Wa!==t)&&(Yl=null,ch=Fn()+500,$d(e,t));do try{BX();break}catch(l){NM(e,l)}while(!0);Jj(),Ay.current=s,lr=a,Zn!==null?t=0:(Pa=null,Wa=0,t=ua)}if(t!==0){if(t===2&&(a=UN(e),a!==0&&(n=a,t=p4(e,a))),t===1)throw r=tg,$d(e,0),uu(e,n),Xs(e,Fn()),r;if(t===6)uu(e,n);else{if(a=e.current.alternate,!(n&30)&&!MX(a)&&(t=Cy(e,n),t===2&&(s=UN(e),s!==0&&(n=s,t=p4(e,s))),t===1))throw r=tg,$d(e,0),uu(e,n),Xs(e,Fn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(st(345));case 2:Nd(e,Ws,Yl);break;case 3:if(uu(e,n),(n&130023424)===n&&(t=h3+500-Fn(),10<t)){if(dy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ts(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=YN(Nd.bind(null,e,Ws,Yl),t);break}Nd(e,Ws,Yl);break;case 4:if(uu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Uo(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Fn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IX(n/1960))-n,10<n){e.timeoutHandle=YN(Nd.bind(null,e,Ws,Yl),n);break}Nd(e,Ws,Yl);break;case 5:Nd(e,Ws,Yl);break;default:throw Error(st(329))}}}return Xs(e,Fn()),e.callbackNode===r?kM.bind(null,e):null}function p4(e,t){var r=gp;return e.current.memoizedState.isDehydrated&&($d(e,t).flags|=256),e=Cy(e,t),e!==2&&(t=Ws,Ws=r,t!==null&&g4(t)),e}function g4(e){Ws===null?Ws=e:Ws.push.apply(Ws,e)}function MX(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Go(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function uu(e,t){for(t&=~f3,t&=~s2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Uo(t),n=1<<r;e[r]=-1,t&=~n}}function lT(e){if(lr&6)throw Error(st(327));Yf();var t=dy(e,0);if(!(t&1))return Xs(e,Fn()),null;var r=Cy(e,t);if(e.tag!==0&&r===2){var n=UN(e);n!==0&&(t=n,r=p4(e,n))}if(r===1)throw r=tg,$d(e,0),uu(e,t),Xs(e,Fn()),r;if(r===6)throw Error(st(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nd(e,Ws,Yl),Xs(e,Fn()),null}function m3(e,t){var r=lr;lr|=1;try{return e(t)}finally{lr=r,lr===0&&(ch=Fn()+500,t2&&Qu())}}function u0(e){pu!==null&&pu.tag===0&&!(lr&6)&&Yf();var t=lr;lr|=1;var r=so.transition,n=Er;try{if(so.transition=null,Er=1,e)return e()}finally{Er=n,so.transition=r,lr=t,!(lr&6)&&Qu()}}function p3(){fi=Df.current,Kr(Df)}function $d(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hX(r)),Zn!==null)for(r=Zn.return;r!==null;){var n=r;switch(Yj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gy();break;case 3:oh(),Kr(Ks),Kr(ps),a3();break;case 5:n3(n);break;case 4:oh();break;case 13:Kr(on);break;case 19:Kr(on);break;case 10:Qj(n.type._context);break;case 22:case 23:p3()}r=r.return}if(Pa=e,Zn=e=Tu(e.current,null),Wa=fi=t,ua=0,tg=null,f3=s2=c0=0,Ws=gp=null,Pd!==null){for(t=0;t<Pd.length;t++)if(r=Pd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Pd=null}return e}function NM(e,t){do{var r=Zn;try{if(Jj(),Uv.current=jy,Sy){for(var n=dn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Sy=!1}if(l0=0,_a=ia=dn=null,mp=!1,Jp=0,d3.current=null,r===null||r.return===null){ua=1,tg=t,Zn=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Wa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=YC(i);if(m!==null){m.flags&=-257,XC(m,i,l,s,t),m.mode&1&&KC(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){KC(s,u,t),g3();break e}c=Error(st(426))}}else if(Qr&&l.mode&1){var x=YC(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),XC(x,i,l,s,t),Xj(lh(c,l));break e}}s=c=lh(c,l),ua!==4&&(ua=2),gp===null?gp=[s]:gp.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=iM(s,c,t);$C(s,v);break e;case 1:l=c;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Eu===null||!Eu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=oM(s,l,t);$C(s,N);break e}}s=s.return}while(s!==null)}AM(r)}catch(A){t=A,Zn===r&&r!==null&&(Zn=r=r.return);continue}break}while(!0)}function SM(){var e=Ay.current;return Ay.current=jy,e===null?jy:e}function g3(){(ua===0||ua===3||ua===2)&&(ua=4),Pa===null||!(c0&268435455)&&!(s2&268435455)||uu(Pa,Wa)}function Cy(e,t){var r=lr;lr|=2;var n=SM();(Pa!==e||Wa!==t)&&(Yl=null,$d(e,t));do try{RX();break}catch(a){NM(e,a)}while(!0);if(Jj(),lr=r,Ay.current=n,Zn!==null)throw Error(st(261));return Pa=null,Wa=0,ua}function RX(){for(;Zn!==null;)jM(Zn)}function BX(){for(;Zn!==null&&!uY();)jM(Zn)}function jM(e){var t=EM(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?AM(e):Zn=t,d3.current=null}function AM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OX(r,t),r!==null){r.flags&=32767,Zn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ua=6,Zn=null;return}}else if(r=PX(r,t,fi),r!==null){Zn=r;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);ua===0&&(ua=5)}function Nd(e,t,r){var n=Er,a=so.transition;try{so.transition=null,Er=1,zX(e,t,r,n)}finally{so.transition=a,Er=n}return null}function zX(e,t,r,n){do Yf();while(pu!==null);if(lr&6)throw Error(st(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(st(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(bY(e,s),e===Pa&&(Zn=Pa=null,Wa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||G1||(G1=!0,CM(uy,function(){return Yf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=so.transition,so.transition=null;var i=Er;Er=1;var l=lr;lr|=4,d3.current=null,LX(e,r),bM(r,e),iX(GN),fy=!!qN,GN=qN=null,e.current=r,DX(r),dY(),lr=l,Er=i,so.transition=s}else e.current=r;if(G1&&(G1=!1,pu=e,Ey=a),s=e.pendingLanes,s===0&&(Eu=null),mY(r.stateNode),Xs(e,Fn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_y)throw _y=!1,e=h4,h4=null,e;return Ey&1&&e.tag!==0&&Yf(),s=e.pendingLanes,s&1?e===m4?xp++:(xp=0,m4=e):xp=0,Qu(),null}function Yf(){if(pu!==null){var e=iI(Ey),t=so.transition,r=Er;try{if(so.transition=null,Er=16>e?16:e,pu===null)var n=!1;else{if(e=pu,pu=null,Ey=0,lr&6)throw Error(st(331));var a=lr;for(lr|=4,bt=e.current;bt!==null;){var s=bt,i=s.child;if(bt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(bt=u;bt!==null;){var d=bt;switch(d.tag){case 0:case 11:case 15:pp(8,d,s)}var f=d.child;if(f!==null)f.return=d,bt=f;else for(;bt!==null;){d=bt;var h=d.sibling,m=d.return;if(xM(d),d===u){bt=null;break}if(h!==null){h.return=m,bt=h;break}bt=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}bt=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,bt=i;else e:for(;bt!==null;){if(s=bt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,bt=v;break e}bt=s.return}}var y=e.current;for(bt=y;bt!==null;){i=bt;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,bt=b;else e:for(i=y;bt!==null;){if(l=bt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:a2(9,l)}}catch(A){bn(l,l.return,A)}if(l===i){bt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,bt=N;break e}bt=l.return}}if(lr=a,Qu(),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(Xb,e)}catch{}n=!0}return n}finally{Er=r,so.transition=t}}return!1}function cT(e,t,r){t=lh(r,t),t=iM(e,t,1),e=_u(e,t,1),t=Ts(),e!==null&&(Kg(e,1,t),Xs(e,t))}function bn(e,t,r){if(e.tag===3)cT(e,e,r);else for(;t!==null;){if(t.tag===3){cT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Eu===null||!Eu.has(n))){e=lh(r,e),e=oM(t,e,1),t=_u(t,e,1),e=Ts(),t!==null&&(Kg(t,1,e),Xs(t,e));break}}t=t.return}}function UX(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ts(),e.pingedLanes|=e.suspendedLanes&r,Pa===e&&(Wa&r)===r&&(ua===4||ua===3&&(Wa&130023424)===Wa&&500>Fn()-h3?$d(e,0):f3|=r),Xs(e,t)}function _M(e,t){t===0&&(e.mode&1?(t=M1,M1<<=1,!(M1&130023424)&&(M1=4194304)):t=1);var r=Ts();e=mc(e,t),e!==null&&(Kg(e,t,r),Xs(e,r))}function $X(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_M(e,r)}function WX(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(t),_M(e,r)}var EM;EM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ks.current)Vs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vs=!1,TX(e,t,r);Vs=!!(e.flags&131072)}else Vs=!1,Qr&&t.flags&1048576&&OI(t,yy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wv(e,t),e=t.pendingProps;var a=ah(t,ps.current);Kf(t,r),a=i3(null,t,n,e,a,r);var s=o3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ys(n)?(s=!0,xy(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,t3(t),a.updater=n2,t.stateNode=a,a._reactInternals=t,r4(t,n,e,r),t=s4(null,t,n,!0,s,r)):(t.tag=0,Qr&&s&&Kj(t),Ss(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=VX(n),e=Po(n,e),a){case 0:t=a4(null,t,n,e,r);break e;case 1:t=QC(null,t,n,e,r);break e;case 11:t=ZC(null,t,n,e,r);break e;case 14:t=JC(null,t,n,Po(n.type,e),r);break e}throw Error(st(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Po(n,a),a4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Po(n,a),QC(e,t,n,a,r);case 3:e:{if(dM(t),e===null)throw Error(st(387));n=t.pendingProps,s=t.memoizedState,a=s.element,RI(e,t),ky(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=lh(Error(st(423)),t),t=eT(e,t,n,r,a);break e}else if(n!==a){a=lh(Error(st(424)),t),t=eT(e,t,n,r,a);break e}else for(yi=Au(t.stateNode.containerInfo.firstChild),ki=t,Qr=!0,Lo=null,r=II(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sh(),n===a){t=pc(e,t,r);break e}Ss(e,t,n,r)}t=t.child}return t;case 5:return BI(t),e===null&&QN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,KN(n,a)?i=null:s!==null&&KN(n,s)&&(t.flags|=32),uM(e,t),Ss(e,t,i,r),t.child;case 6:return e===null&&QN(t),null;case 13:return fM(e,t,r);case 4:return r3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ih(t,null,n,r):Ss(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Po(n,a),ZC(e,t,n,a,r);case 7:return Ss(e,t,t.pendingProps,r),t.child;case 8:return Ss(e,t,t.pendingProps.children,r),t.child;case 12:return Ss(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,zr(by,n._currentValue),n._currentValue=i,s!==null)if(Go(s.value,i)){if(s.children===a.children&&!Ks.current){t=pc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=sc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),e4(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(st(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),e4(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ss(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Kf(t,r),a=lo(a),n=n(a),t.flags|=1,Ss(e,t,n,r),t.child;case 14:return n=t.type,a=Po(n,t.pendingProps),a=Po(n.type,a),JC(e,t,n,a,r);case 15:return lM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Po(n,a),Wv(e,t),t.tag=1,Ys(n)?(e=!0,xy(t)):e=!1,Kf(t,r),sM(t,n,a),r4(t,n,a,r),s4(null,t,n,!0,e,r);case 19:return hM(e,t,r);case 22:return cM(e,t,r)}throw Error(st(156,t.tag))};function CM(e,t){return rI(e,t)}function HX(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(e,t,r,n){return new HX(e,t,r,n)}function x3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VX(e){if(typeof e=="function")return x3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ij)return 11;if(e===Mj)return 14}return 2}function Tu(e,t){var r=e.alternate;return r===null?(r=ro(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qv(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")x3(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case jf:return Wd(r.children,a,s,t);case Dj:i=8,a|=8;break;case AN:return e=ro(12,r,t,a|2),e.elementType=AN,e.lanes=s,e;case _N:return e=ro(13,r,t,a),e.elementType=_N,e.lanes=s,e;case EN:return e=ro(19,r,t,a),e.elementType=EN,e.lanes=s,e;case BD:return i2(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MD:i=10;break e;case RD:i=9;break e;case Ij:i=11;break e;case Mj:i=14;break e;case su:i=16,n=null;break e}throw Error(st(130,e==null?e:typeof e,""))}return t=ro(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Wd(e,t,r,n){return e=ro(7,e,n,t),e.lanes=r,e}function i2(e,t,r,n){return e=ro(22,e,n,t),e.elementType=BD,e.lanes=r,e.stateNode={isHidden:!1},e}function rk(e,t,r){return e=ro(6,e,null,t),e.lanes=r,e}function nk(e,t,r){return t=ro(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qX(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M5(0),this.expirationTimes=M5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M5(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function v3(e,t,r,n,a,s,i,l,c){return e=new qX(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ro(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},t3(s),e}function GX(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TM(e){if(!e)return Iu;e=e._reactInternals;e:{if(_0(e)!==e||e.tag!==1)throw Error(st(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(st(171))}if(e.tag===1){var r=e.type;if(Ys(r))return TI(e,r,t)}return t}function PM(e,t,r,n,a,s,i,l,c){return e=v3(r,n,!0,e,a,s,i,l,c),e.context=TM(null),r=e.current,n=Ts(),a=Cu(r),s=sc(n,a),s.callback=t??null,_u(r,s,a),e.current.lanes=a,Kg(e,a,n),Xs(e,n),e}function o2(e,t,r,n){var a=t.current,s=Ts(),i=Cu(a);return r=TM(r),t.context===null?t.context=r:t.pendingContext=r,t=sc(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_u(a,t,i),e!==null&&($o(e,a,i,s),zv(e,a,i)),i}function Ty(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function y3(e,t){uT(e,t),(e=e.alternate)&&uT(e,t)}function KX(){return null}var OM=typeof reportError=="function"?reportError:function(e){console.error(e)};function b3(e){this._internalRoot=e}l2.prototype.render=b3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(st(409));o2(e,t,null,null)};l2.prototype.unmount=b3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u0(function(){o2(null,e,null,null)}),t[hc]=null}};function l2(e){this._internalRoot=e}l2.prototype.unstable_scheduleHydration=function(e){if(e){var t=cI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cu.length&&t!==0&&t<cu[r].priority;r++);cu.splice(r,0,e),r===0&&dI(e)}};function w3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dT(){}function YX(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Ty(i);s.call(u)}}var i=PM(t,n,e,0,null,!1,!1,"",dT);return e._reactRootContainer=i,e[hc]=i.current,Gp(e.nodeType===8?e.parentNode:e),u0(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Ty(c);l.call(u)}}var c=v3(e,0,!1,null,null,!1,!1,"",dT);return e._reactRootContainer=c,e[hc]=c.current,Gp(e.nodeType===8?e.parentNode:e),u0(function(){o2(t,c,r,n)}),c}function u2(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=Ty(i);l.call(c)}}o2(t,i,e,a)}else i=YX(r,t,e,a,n);return Ty(i)}oI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tp(t.pendingLanes);r!==0&&(zj(t,r|1),Xs(t,Fn()),!(lr&6)&&(ch=Fn()+500,Qu()))}break;case 13:u0(function(){var n=mc(e,1);if(n!==null){var a=Ts();$o(n,e,1,a)}}),y3(e,1)}};Uj=function(e){if(e.tag===13){var t=mc(e,134217728);if(t!==null){var r=Ts();$o(t,e,134217728,r)}y3(e,134217728)}};lI=function(e){if(e.tag===13){var t=Cu(e),r=mc(e,t);if(r!==null){var n=Ts();$o(r,e,t,n)}y3(e,t)}};cI=function(){return Er};uI=function(e,t){var r=Er;try{return Er=e,t()}finally{Er=r}};RN=function(e,t,r){switch(t){case"input":if(PN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=e2(n);if(!a)throw Error(st(90));UD(n),PN(n,a)}}}break;case"textarea":WD(e,r);break;case"select":t=r.value,t!=null&&Hf(e,!!r.multiple,t,!1)}};XD=m3;ZD=u0;var XX={usingClientEntryPoint:!1,Events:[Xg,Cf,e2,KD,YD,m3]},Bm={findFiberByHostInstance:Td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZX={bundleType:Bm.bundleType,version:Bm.version,rendererPackageName:Bm.rendererPackageName,rendererConfig:Bm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eI(e),e===null?null:e.stateNode},findFiberByHostInstance:Bm.findFiberByHostInstance||KX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K1.isDisabled&&K1.supportsFiber)try{Xb=K1.inject(ZX),wl=K1}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XX;Pi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w3(t))throw Error(st(200));return GX(e,t,null,r)};Pi.createRoot=function(e,t){if(!w3(e))throw Error(st(299));var r=!1,n="",a=OM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=v3(e,1,!1,null,null,r,!1,n,a),e[hc]=t.current,Gp(e.nodeType===8?e.parentNode:e),new b3(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(st(188)):(e=Object.keys(e).join(","),Error(st(268,e)));return e=eI(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return u0(e)};Pi.hydrate=function(e,t,r){if(!c2(t))throw Error(st(200));return u2(null,e,t,!0,r)};Pi.hydrateRoot=function(e,t,r){if(!w3(e))throw Error(st(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=OM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=PM(t,null,e,1,r??null,a,!1,s,i),e[hc]=t.current,Gp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new l2(t)};Pi.render=function(e,t,r){if(!c2(t))throw Error(st(200));return u2(null,e,t,!1,r)};Pi.unmountComponentAtNode=function(e){if(!c2(e))throw Error(st(40));return e._reactRootContainer?(u0(function(){u2(null,null,e,!1,function(){e._reactRootContainer=null,e[hc]=null})}),!0):!1};Pi.unstable_batchedUpdates=m3;Pi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!c2(r))throw Error(st(200));if(e==null||e._reactInternals===void 0)throw Error(st(38));return u2(e,t,r,!1,n)};Pi.version="18.3.1-next-f1338f8080-20240426";function FM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FM)}catch(e){console.error(e)}}FM(),FD.exports=Pi;var d2=FD.exports,fT=d2;SN.createRoot=fT.createRoot,SN.hydrateRoot=fT.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}var gu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gu||(gu={}));const hT="popstate";function JX(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return x4("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Py(a)}return eZ(t,r,null,e)}function Mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QX(){return Math.random().toString(36).substr(2,8)}function mT(e,t){return{usr:e.state,key:e.key,idx:t}}function x4(e,t,r,n){return r===void 0&&(r=null),rg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Lh(t):t,{state:r,key:t&&t.key||n||QX()})}function Py(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eZ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=gu.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(rg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=gu.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:v})}function h(x,v){l=gu.Push;let y=x4(g.location,x,v);u=d()+1;let b=mT(y,u),N=g.createHref(y);try{i.pushState(b,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(N)}s&&c&&c({action:l,location:g.location,delta:1})}function m(x,v){l=gu.Replace;let y=x4(g.location,x,v);u=d();let b=mT(y,u),N=g.createHref(y);i.replaceState(b,"",N),s&&c&&c({action:l,location:g.location,delta:0})}function p(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:Py(x);return y=y.replace(/ $/,"%20"),Mn(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return e(a,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(hT,f),c=x,()=>{a.removeEventListener(hT,f),c=null}},createHref(x){return t(a,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return i.go(x)}};return g}var pT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pT||(pT={}));function tZ(e,t,r){return r===void 0&&(r="/"),rZ(e,t,r)}function rZ(e,t,r,n){let a=typeof t=="string"?Lh(t):t,s=N3(a.pathname||"/",r);if(s==null)return null;let i=LM(e);nZ(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=pZ(s);l=fZ(i[c],u)}return l}function LM(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Mn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Pu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LM(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:uZ(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of DM(s.path))a(s,i,c)}),t}function DM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=DM(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dZ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aZ=/^:[\w-]+$/,sZ=3,iZ=2,oZ=1,lZ=10,cZ=-2,gT=e=>e==="*";function uZ(e,t){let r=e.split("/"),n=r.length;return r.some(gT)&&(n+=cZ),t&&(n+=iZ),r.filter(a=>!gT(a)).reduce((a,s)=>a+(aZ.test(s)?sZ:s===""?oZ:lZ),n)}function dZ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fZ(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=hZ({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Pu([s,f.pathname]),pathnameBase:bZ(Pu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Pu([s,f.pathnameBase]))}return i}function hZ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mZ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function mZ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),k3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function N3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const gZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xZ=e=>gZ.test(e);function vZ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Lh(e):e,s;if(r)if(xZ(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),k3(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?s=xT(r.substring(1),"/"):s=xT(r,t)}else s=t;return{pathname:s,search:wZ(n),hash:kZ(a)}}function xT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ak(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function S3(e,t){let r=yZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function j3(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Lh(e):(a=rg({},e),Mn(!a.pathname||!a.pathname.includes("?"),ak("?","pathname","search",a)),Mn(!a.pathname||!a.pathname.includes("#"),ak("#","pathname","hash",a)),Mn(!a.search||!a.search.includes("#"),ak("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=vZ(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pu=e=>e.join("/").replace(/\/\/+/g,"/"),bZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const IM=["post","put","patch","delete"];new Set(IM);const SZ=["get",...IM];new Set(SZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(this,arguments)}const A3=k.createContext(null),jZ=k.createContext(null),ed=k.createContext(null),f2=k.createContext(null),Ol=k.createContext({outlet:null,matches:[],isDataRoute:!1}),MM=k.createContext(null);function AZ(e,t){let{relative:r}=t===void 0?{}:t;Dh()||Mn(!1);let{basename:n,navigator:a}=k.useContext(ed),{hash:s,pathname:i,search:l}=BM(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Pu([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Dh(){return k.useContext(f2)!=null}function Cc(){return Dh()||Mn(!1),k.useContext(f2).location}function RM(e){k.useContext(ed).static||k.useLayoutEffect(e)}function po(){let{isDataRoute:e}=k.useContext(Ol);return e?UZ():_Z()}function _Z(){Dh()||Mn(!1);let e=k.useContext(A3),{basename:t,future:r,navigator:n}=k.useContext(ed),{matches:a}=k.useContext(Ol),{pathname:s}=Cc(),i=JSON.stringify(S3(a,r.v7_relativeSplatPath)),l=k.useRef(!1);return RM(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=j3(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}const EZ=k.createContext(null);function CZ(e){let t=k.useContext(Ol).outlet;return t&&k.createElement(EZ.Provider,{value:e},t)}function h2(){let{matches:e}=k.useContext(Ol),t=e[e.length-1];return t?t.params:{}}function BM(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(ed),{matches:a}=k.useContext(Ol),{pathname:s}=Cc(),i=JSON.stringify(S3(a,n.v7_relativeSplatPath));return k.useMemo(()=>j3(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function TZ(e,t){return PZ(e,t)}function PZ(e,t,r,n){Dh()||Mn(!1);let{navigator:a}=k.useContext(ed),{matches:s}=k.useContext(Ol),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Cc(),d;if(t){var f;let x=typeof t=="string"?Lh(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Mn(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=tZ(e,{pathname:m}),g=IZ(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Pu([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Pu([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return t&&g?k.createElement(f2.Provider,{value:{location:ng({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gu.Pop}},g):g}function OZ(){let e=zZ(),t=NZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,null)}const FZ=k.createElement(OZ,null);class LZ extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Ol.Provider,{value:this.props.routeContext},k.createElement(MM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DZ(e){let{routeContext:t,match:r,children:n}=e,a=k.useContext(A3);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Ol.Provider,{value:t},n)}function IZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Mn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,p=!1,g=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||FZ,c&&(u<0&&h===0?($Z("route-fallback"),p=!0,x=null):u===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),y=()=>{let b;return m?b=g:p?b=x:f.route.Component?b=k.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,k.createElement(DZ,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(LZ,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var zM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zM||{}),UM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(UM||{});function MZ(e){let t=k.useContext(A3);return t||Mn(!1),t}function RZ(e){let t=k.useContext(jZ);return t||Mn(!1),t}function BZ(e){let t=k.useContext(Ol);return t||Mn(!1),t}function $M(e){let t=BZ(),r=t.matches[t.matches.length-1];return r.route.id||Mn(!1),r.route.id}function zZ(){var e;let t=k.useContext(MM),r=RZ(),n=$M();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UZ(){let{router:e}=MZ(zM.UseNavigateStable),t=$M(UM.UseNavigateStable),r=k.useRef(!1);return RM(()=>{r.current=!0}),k.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ng({fromRouteId:t},s)))},[e,t])}const vT={};function $Z(e,t,r){vT[e]||(vT[e]=!0)}function WZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _3(e){let{to:t,replace:r,state:n,relative:a}=e;Dh()||Mn(!1);let{future:s,static:i}=k.useContext(ed),{matches:l}=k.useContext(Ol),{pathname:c}=Cc(),u=po(),d=j3(t,S3(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function WM(e){return CZ(e.context)}function gr(e){Mn(!1)}function HZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=gu.Pop,navigator:s,static:i=!1,future:l}=e;Dh()&&Mn(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:s,static:i,future:ng({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=Lh(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=k.useMemo(()=>{let x=N3(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return g==null?null:k.createElement(ed.Provider,{value:u},k.createElement(f2.Provider,{children:r,value:g}))}function VZ(e){let{children:t,location:r}=e;return TZ(v4(t),r)}new Promise(()=>{});function v4(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let s=[...t,a];if(n.type===k.Fragment){r.push.apply(r,v4(n.props.children,s));return}n.type!==gr&&Mn(!1),!n.props.index||!n.props.children||Mn(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=v4(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y4.apply(this,arguments)}function qZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KZ(e,t){return e.button===0&&(!t||t==="_self")&&!GZ(e)}function b4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function YZ(e,t){let r=b4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const XZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZZ="6";try{window.__reactRouterVersion=ZZ}catch{}const JZ="startTransition",yT=PD[JZ];function QZ(e){let{basename:t,children:r,future:n,window:a}=e,s=k.useRef();s.current==null&&(s.current=JX({window:a,v5Compat:!0}));let i=s.current,[l,c]=k.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=k.useCallback(f=>{u&&yT?yT(()=>c(f)):c(f)},[c,u]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.useEffect(()=>WZ(n),[n]),k.createElement(HZ,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const eJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xu=k.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=qZ(t,XZ),{basename:m}=k.useContext(ed),p,g=!1;if(typeof u=="string"&&tJ.test(u)&&(p=u,eJ))try{let b=new URL(window.location.href),N=u.startsWith("//")?new URL(b.protocol+u):new URL(u),A=N3(N.pathname,m);N.origin===b.origin&&A!=null?u=A+N.search+N.hash:g=!0}catch{}let x=AZ(u,{relative:a}),v=rJ(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||v(b)}return k.createElement("a",y4({},h,{href:p||x,onClick:g||s?n:y,ref:r,target:c}))});var bT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bT||(bT={}));var wT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wT||(wT={}));function rJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=po(),u=Cc(),d=BM(e,{relative:i});return k.useCallback(f=>{if(KZ(f,r)){f.preventDefault();let h=n!==void 0?n:Py(u)===Py(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}function nJ(e){let t=k.useRef(b4(e)),r=k.useRef(!1),n=Cc(),a=k.useMemo(()=>YZ(n.search,r.current?null:t.current),[n.search]),s=po(),i=k.useCallback((l,c)=>{const u=b4(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,i]}function HM(e,t){return function(){return e.apply(t,arguments)}}const{toString:aJ}=Object.prototype,{getPrototypeOf:E3}=Object,{iterator:m2,toStringTag:VM}=Symbol,p2=(e=>t=>{const r=aJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xo=e=>(e=e.toLowerCase(),t=>p2(t)===e),g2=e=>t=>typeof t===e,{isArray:Ih}=Array,uh=g2("undefined");function Jg(e){return e!==null&&!uh(e)&&e.constructor!==null&&!uh(e.constructor)&&Zs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qM=Xo("ArrayBuffer");function sJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qM(e.buffer),t}const iJ=g2("string"),Zs=g2("function"),GM=g2("number"),Qg=e=>e!==null&&typeof e=="object",oJ=e=>e===!0||e===!1,Gv=e=>{if(p2(e)!=="object")return!1;const t=E3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(VM in e)&&!(m2 in e)},lJ=e=>{if(!Qg(e)||Jg(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cJ=Xo("Date"),uJ=Xo("File"),dJ=Xo("Blob"),fJ=Xo("FileList"),hJ=e=>Qg(e)&&Zs(e.pipe),mJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zs(e.append)&&((t=p2(e))==="formdata"||t==="object"&&Zs(e.toString)&&e.toString()==="[object FormData]"))},pJ=Xo("URLSearchParams"),[gJ,xJ,vJ,yJ]=["ReadableStream","Request","Response","Headers"].map(Xo),bJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ex(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ih(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Jg(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function KM(e,t){if(Jg(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YM=e=>!uh(e)&&e!==Fd;function w4(){const{caseless:e,skipUndefined:t}=YM(this)&&this||{},r={},n=(a,s)=>{const i=e&&KM(r,s)||s;Gv(r[i])&&Gv(a)?r[i]=w4(r[i],a):Gv(a)?r[i]=w4({},a):Ih(a)?r[i]=a.slice():(!t||!uh(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&ex(arguments[a],n);return r}const wJ=(e,t,r,{allOwnKeys:n}={})=>(ex(t,(a,s)=>{r&&Zs(a)?e[s]=HM(a,r):e[s]=a},{allOwnKeys:n}),e),kJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NJ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},SJ=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&E3(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},jJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},AJ=e=>{if(!e)return null;if(Ih(e))return e;let t=e.length;if(!GM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_J=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&E3(Uint8Array)),EJ=(e,t)=>{const n=(e&&e[m2]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},CJ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},TJ=Xo("HTMLFormElement"),PJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),kT=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OJ=Xo("RegExp"),XM=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ex(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},FJ=e=>{XM(e,(t,r)=>{if(Zs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LJ=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Ih(e)?n(e):n(String(e).split(t)),r},DJ=()=>{},IJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function MJ(e){return!!(e&&Zs(e.append)&&e[VM]==="FormData"&&e[m2])}const RJ=e=>{const t=new Array(10),r=(n,a)=>{if(Qg(n)){if(t.indexOf(n)>=0)return;if(Jg(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Ih(n)?[]:{};return ex(n,(i,l)=>{const c=r(i,a+1);!uh(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},BJ=Xo("AsyncFunction"),zJ=e=>e&&(Qg(e)||Zs(e))&&Zs(e.then)&&Zs(e.catch),ZM=((e,t)=>e?setImmediate:t?((r,n)=>(Fd.addEventListener("message",({source:a,data:s})=>{a===Fd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Fd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zs(Fd.postMessage)),UJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Fd):typeof process<"u"&&process.nextTick||ZM,$J=e=>e!=null&&Zs(e[m2]),Re={isArray:Ih,isArrayBuffer:qM,isBuffer:Jg,isFormData:mJ,isArrayBufferView:sJ,isString:iJ,isNumber:GM,isBoolean:oJ,isObject:Qg,isPlainObject:Gv,isEmptyObject:lJ,isReadableStream:gJ,isRequest:xJ,isResponse:vJ,isHeaders:yJ,isUndefined:uh,isDate:cJ,isFile:uJ,isBlob:dJ,isRegExp:OJ,isFunction:Zs,isStream:hJ,isURLSearchParams:pJ,isTypedArray:_J,isFileList:fJ,forEach:ex,merge:w4,extend:wJ,trim:bJ,stripBOM:kJ,inherits:NJ,toFlatObject:SJ,kindOf:p2,kindOfTest:Xo,endsWith:jJ,toArray:AJ,forEachEntry:EJ,matchAll:CJ,isHTMLForm:TJ,hasOwnProperty:kT,hasOwnProp:kT,reduceDescriptors:XM,freezeMethods:FJ,toObjectSet:LJ,toCamelCase:PJ,noop:DJ,toFiniteNumber:IJ,findKey:KM,global:Fd,isContextDefined:YM,isSpecCompliantForm:MJ,toJSONObject:RJ,isAsyncFn:BJ,isThenable:zJ,setImmediate:ZM,asap:UJ,isIterable:$J};function Yt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Re.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const JM=Yt.prototype,QM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{QM[e]={value:e}});Object.defineProperties(Yt,QM);Object.defineProperty(JM,"isAxiosError",{value:!0});Yt.from=(e,t,r,n,a,s)=>{const i=Object.create(JM);Re.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Yt.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const WJ=null;function k4(e){return Re.isPlainObject(e)||Re.isArray(e)}function eR(e){return Re.endsWith(e,"[]")?e.slice(0,-2):e}function NT(e,t,r){return e?e.concat(t).map(function(a,s){return a=eR(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function HJ(e){return Re.isArray(e)&&!e.some(k4)}const VJ=Re.toFlatObject(Re,{},null,function(t){return/^is[A-Z]/.test(t)});function x2(e,t,r){if(!Re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!Re.isUndefined(x[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(t);if(!Re.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Re.isDate(p))return p.toISOString();if(Re.isBoolean(p))return p.toString();if(!c&&Re.isBlob(p))throw new Yt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(p)||Re.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,x){let v=p;if(p&&!x&&typeof p=="object"){if(Re.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Re.isArray(p)&&HJ(p)||(Re.isFileList(p)||Re.endsWith(g,"[]"))&&(v=Re.toArray(p)))return g=eR(g),v.forEach(function(b,N){!(Re.isUndefined(b)||b===null)&&t.append(i===!0?NT([g],N,s):i===null?g:g+"[]",u(b))}),!1}return k4(p)?!0:(t.append(NT(x,g,s),u(p)),!1)}const f=[],h=Object.assign(VJ,{defaultVisitor:d,convertValue:u,isVisitable:k4});function m(p,g){if(!Re.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),Re.forEach(p,function(v,y){(!(Re.isUndefined(v)||v===null)&&a.call(t,v,Re.isString(y)?y.trim():y,g,h))===!0&&m(v,g?g.concat(y):[y])}),f.pop()}}if(!Re.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ST(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function C3(e,t){this._pairs=[],e&&x2(e,this,t)}const tR=C3.prototype;tR.append=function(t,r){this._pairs.push([t,r])};tR.toString=function(t){const r=t?function(n){return t.call(this,n,ST)}:ST;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function qJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rR(e,t,r){if(!t)return e;const n=r&&r.encode||qJ;Re.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Re.isURLSearchParams(t)?t.toString():new C3(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class jT{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Re.forEach(this.handlers,function(n){n!==null&&t(n)})}}const nR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GJ=typeof URLSearchParams<"u"?URLSearchParams:C3,KJ=typeof FormData<"u"?FormData:null,YJ=typeof Blob<"u"?Blob:null,XJ={isBrowser:!0,classes:{URLSearchParams:GJ,FormData:KJ,Blob:YJ},protocols:["http","https","file","blob","url","data"]},T3=typeof window<"u"&&typeof document<"u",N4=typeof navigator=="object"&&navigator||void 0,ZJ=T3&&(!N4||["ReactNative","NativeScript","NS"].indexOf(N4.product)<0),JJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QJ=T3&&window.location.href||"http://localhost",eQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:T3,hasStandardBrowserEnv:ZJ,hasStandardBrowserWebWorkerEnv:JJ,navigator:N4,origin:QJ},Symbol.toStringTag,{value:"Module"})),ls={...eQ,...XJ};function tQ(e,t){return x2(e,new ls.classes.URLSearchParams,{visitor:function(r,n,a,s){return ls.isNode&&Re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function rQ(e){return Re.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nQ(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function aR(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Re.isArray(a)?a.length:i,c?(Re.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Re.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&Re.isArray(a[i])&&(a[i]=nQ(a[i])),!l)}if(Re.isFormData(e)&&Re.isFunction(e.entries)){const r={};return Re.forEachEntry(e,(n,a)=>{t(rQ(n),a,r,0)}),r}return null}function aQ(e,t,r){if(Re.isString(e))try{return(t||JSON.parse)(e),Re.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const tx={transitional:nR,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Re.isObject(t);if(s&&Re.isHTMLForm(t)&&(t=new FormData(t)),Re.isFormData(t))return a?JSON.stringify(aR(t)):t;if(Re.isArrayBuffer(t)||Re.isBuffer(t)||Re.isStream(t)||Re.isFile(t)||Re.isBlob(t)||Re.isReadableStream(t))return t;if(Re.isArrayBufferView(t))return t.buffer;if(Re.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tQ(t,this.formSerializer).toString();if((l=Re.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return x2(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),aQ(t)):t}],transformResponse:[function(t){const r=this.transitional||tx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Re.isResponse(t)||Re.isReadableStream(t))return t;if(t&&Re.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Yt.from(l,Yt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ls.classes.FormData,Blob:ls.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],e=>{tx.headers[e]={}});const sQ=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iQ=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&sQ[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},AT=Symbol("internals");function zm(e){return e&&String(e).trim().toLowerCase()}function Kv(e){return e===!1||e==null?e:Re.isArray(e)?e.map(Kv):String(e)}function oQ(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sk(e,t,r,n,a){if(Re.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Re.isString(t)){if(Re.isString(n))return t.indexOf(n)!==-1;if(Re.isRegExp(n))return n.test(t)}}function cQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function uQ(e,t){const r=Re.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}let Js=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=zm(c);if(!d)throw new Error("header name must be a non-empty string");const f=Re.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Kv(l))}const i=(l,c)=>Re.forEach(l,(u,d)=>s(u,d,c));if(Re.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Re.isString(t)&&(t=t.trim())&&!lQ(t))i(iQ(t),r);else if(Re.isObject(t)&&Re.isIterable(t)){let l={},c,u;for(const d of t){if(!Re.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Re.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=zm(t),t){const n=Re.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return oQ(a);if(Re.isFunction(r))return r.call(this,a,n);if(Re.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=zm(t),t){const n=Re.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||sk(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=zm(i),i){const l=Re.findKey(n,i);l&&(!r||sk(n,n[l],l,r))&&(delete n[l],a=!0)}}return Re.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||sk(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Re.forEach(this,(a,s)=>{const i=Re.findKey(n,s);if(i){r[i]=Kv(a),delete r[s];return}const l=t?cQ(s):String(s).trim();l!==s&&delete r[s],r[l]=Kv(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Re.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[AT]=this[AT]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=zm(i);n[l]||(uQ(a,i),n[l]=!0)}return Re.isArray(t)?t.forEach(s):s(t),this}};Js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(Js.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Re.freezeMethods(Js);function ik(e,t){const r=this||tx,n=t||r,a=Js.from(n.headers);let s=n.data;return Re.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function sR(e){return!!(e&&e.__CANCEL__)}function Mh(e,t,r){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,r),this.name="CanceledError"}Re.inherits(Mh,Yt,{__CANCEL__:!0});function iR(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Yt("Request failed with status code "+r.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dQ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fQ(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function hQ(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Oy=(e,t,r=3)=>{let n=0;const a=fQ(50,250);return hQ(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},_T=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ET=e=>(...t)=>Re.asap(()=>e(...t)),mQ=ls.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ls.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ls.origin),ls.navigator&&/(msie|trident)/i.test(ls.navigator.userAgent)):()=>!0,pQ=ls.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Re.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Re.isString(n)&&l.push(`path=${n}`),Re.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Re.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xQ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function oR(e,t,r){let n=!gQ(t);return e&&(n||r==!1)?xQ(e,t):t}const CT=e=>e instanceof Js?{...e}:e;function d0(e,t){t=t||{};const r={};function n(u,d,f,h){return Re.isPlainObject(u)&&Re.isPlainObject(d)?Re.merge.call({caseless:h},u,d):Re.isPlainObject(d)?Re.merge({},d):Re.isArray(d)?d.slice():d}function a(u,d,f,h){if(Re.isUndefined(d)){if(!Re.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Re.isUndefined(d))return n(void 0,d)}function i(u,d){if(Re.isUndefined(d)){if(!Re.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(CT(u),CT(d),f,!0)};return Re.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Re.isUndefined(h)&&f!==l||(r[d]=h)}),r}const lR=e=>{const t=d0({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Js.from(i),t.url=rR(oR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Re.isFormData(r)){if(ls.hasStandardBrowserEnv||ls.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Re.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(ls.hasStandardBrowserEnv&&(n&&Re.isFunction(n)&&(n=n(t)),n||n!==!1&&mQ(t.url))){const c=a&&s&&pQ.read(s);c&&i.set(a,c)}return t},vQ=typeof XMLHttpRequest<"u",yQ=vQ&&function(e){return new Promise(function(r,n){const a=lR(e);let s=a.data;const i=Js.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function v(){if(!x)return;const b=Js.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};iR(function(j){r(j),g()},function(j){n(j),g()},A),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(n(new Yt("Request aborted",Yt.ECONNABORTED,e,x)),x=null)},x.onerror=function(N){const A=N&&N.message?N.message:"Network Error",S=new Yt(A,Yt.ERR_NETWORK,e,x);S.event=N||null,n(S),x=null},x.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||nR;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new Yt(N,A.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&Re.forEach(i.toJSON(),function(N,A){x.setRequestHeader(A,N)}),Re.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([h,p]=Oy(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=Oy(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{x&&(n(!b||b.type?new Mh(null,e,x):b),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=dQ(a.url);if(y&&ls.protocols.indexOf(y)===-1){n(new Yt("Unsupported protocol "+y+":",Yt.ERR_BAD_REQUEST,e));return}x.send(s||null)})},bQ=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Yt?d:new Mh(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Re.asap(l),c}},wQ=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},kQ=async function*(e,t){for await(const r of NQ(e))yield*wQ(r,t)},NQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},TT=(e,t,r,n)=>{const a=kQ(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},PT=64*1024,{isFunction:Y1}=Re,SQ=(({Request:e,Response:t})=>({Request:e,Response:t}))(Re.global),{ReadableStream:OT,TextEncoder:FT}=Re.global,LT=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jQ=e=>{e=Re.merge.call({skipUndefined:!0},SQ,e);const{fetch:t,Request:r,Response:n}=e,a=t?Y1(t):typeof fetch=="function",s=Y1(r),i=Y1(n);if(!a)return!1;const l=a&&Y1(OT),c=a&&(typeof FT=="function"?(p=>g=>p.encode(g))(new FT):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&LT(()=>{let p=!1;const g=new r(ls.origin,{body:new OT,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=i&&l&&LT(()=>Re.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(g,x)=>{let v=g&&g[p];if(v)return v.call(g);throw new Yt(`Response type '${p}' is not supported`,Yt.ERR_NOT_SUPPORT,x)})});const h=async p=>{if(p==null)return 0;if(Re.isBlob(p))return p.size;if(Re.isSpecCompliantForm(p))return(await new r(ls.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(p)||Re.isArrayBuffer(p))return p.byteLength;if(Re.isURLSearchParams(p)&&(p=p+""),Re.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const x=Re.toFiniteNumber(p.getContentLength());return x??h(g)};return async p=>{let{url:g,method:x,data:v,signal:y,cancelToken:b,timeout:N,onDownloadProgress:A,onUploadProgress:S,responseType:j,headers:E,withCredentials:C="same-origin",fetchOptions:I}=lR(p),T=t||fetch;j=j?(j+"").toLowerCase():"text";let P=bQ([y,b&&b.toAbortSignal()],N),H=null;const q=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let ae;try{if(S&&u&&x!=="get"&&x!=="head"&&(ae=await m(E,v))!==0){let pe=new r(g,{method:"POST",body:v,duplex:"half"}),F;if(Re.isFormData(v)&&(F=pe.headers.get("content-type"))&&E.setContentType(F),pe.body){const[M,B]=_T(ae,Oy(ET(S)));v=TT(pe.body,PT,M,B)}}Re.isString(C)||(C=C?"include":"omit");const R=s&&"credentials"in r.prototype,z={...I,signal:P,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:v,duplex:"half",credentials:R?C:void 0};H=s&&new r(g,z);let Y=await(s?T(H,I):T(g,z));const U=d&&(j==="stream"||j==="response");if(d&&(A||U&&q)){const pe={};["status","statusText","headers"].forEach(D=>{pe[D]=Y[D]});const F=Re.toFiniteNumber(Y.headers.get("content-length")),[M,B]=A&&_T(F,Oy(ET(A),!0))||[];Y=new n(TT(Y.body,PT,M,()=>{B&&B(),q&&q()}),pe)}j=j||"text";let Q=await f[Re.findKey(f,j)||"text"](Y,p);return!U&&q&&q(),await new Promise((pe,F)=>{iR(pe,F,{data:Q,headers:Js.from(Y.headers),status:Y.status,statusText:Y.statusText,config:p,request:H})})}catch(R){throw q&&q(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,p,H),{cause:R.cause||R}):Yt.from(R,R&&R.code,p,H)}}},AQ=new Map,cR=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=AQ;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:jQ(t)),d=u;return u};cR();const P3={http:WJ,xhr:yQ,fetch:{get:cR}};Re.forEach(P3,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const DT=e=>`- ${e}`,_Q=e=>Re.isFunction(e)||e===null||e===!1;function EQ(e,t){e=Re.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!_Q(n)&&(a=P3[(l=String(n)).toLowerCase()],a===void 0))throw new Yt(`Unknown adapter '${l}'`);if(a&&(Re.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(DT).join(`
`):" "+DT(i[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const uR={getAdapter:EQ,adapters:P3};function ok(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mh(null,e)}function IT(e){return ok(e),e.headers=Js.from(e.headers),e.data=ik.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uR.getAdapter(e.adapter||tx.adapter,e)(e).then(function(n){return ok(e),n.data=ik.call(e,e.transformResponse,n),n.headers=Js.from(n.headers),n},function(n){return sR(n)||(ok(e),n&&n.response&&(n.response.data=ik.call(e,e.transformResponse,n.response),n.response.headers=Js.from(n.response.headers))),Promise.reject(n)})}const dR="1.13.2",v2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{v2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const MT={};v2.transitional=function(t,r,n){function a(s,i){return"[Axios v"+dR+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new Yt(a(i," has been removed"+(r?" in "+r:"")),Yt.ERR_DEPRECATED);return r&&!MT[i]&&(MT[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};v2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function CQ(e,t,r){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new Yt("option "+s+" must be "+c,Yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Yt("Unknown option "+s,Yt.ERR_BAD_OPTION)}}const Yv={assertOptions:CQ,validators:v2},ol=Yv.validators;let Hd=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jT,response:new jT}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=d0(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Yv.assertOptions(n,{silentJSONParsing:ol.transitional(ol.boolean),forcedJSONParsing:ol.transitional(ol.boolean),clarifyTimeoutError:ol.transitional(ol.boolean)},!1),a!=null&&(Re.isFunction(a)?r.paramsSerializer={serialize:a}:Yv.assertOptions(a,{encode:ol.function,serialize:ol.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Yv.assertOptions(r,{baseUrl:ol.spelling("baseURL"),withXsrfToken:ol.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Re.merge(s.common,s[r.method]);s&&Re.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Js.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const p=[IT.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],g=l[f++];try{m=p(m)}catch(x){g.call(this,x);break}}try{d=IT.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=d0(this.defaults,t);const r=oR(t.baseURL,t.url,t.allowAbsoluteUrls);return rR(r,t.params,t.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(t){Hd.prototype[t]=function(r,n){return this.request(d0(n||{},{method:t,url:r,data:(n||{}).data}))}});Re.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(d0(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Hd.prototype[t]=r(),Hd.prototype[t+"Form"]=r(!0)});let TQ=class fR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new Mh(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new fR(function(a){t=a}),cancel:t}}};function PQ(e){return function(r){return e.apply(null,r)}}function OQ(e){return Re.isObject(e)&&e.isAxiosError===!0}const S4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(S4).forEach(([e,t])=>{S4[t]=e});function hR(e){const t=new Hd(e),r=HM(Hd.prototype.request,t);return Re.extend(r,Hd.prototype,t,{allOwnKeys:!0}),Re.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return hR(d0(e,a))},r}const Bn=hR(tx);Bn.Axios=Hd;Bn.CanceledError=Mh;Bn.CancelToken=TQ;Bn.isCancel=sR;Bn.VERSION=dR;Bn.toFormData=x2;Bn.AxiosError=Yt;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=PQ;Bn.isAxiosError=OQ;Bn.mergeConfig=d0;Bn.AxiosHeaders=Js;Bn.formToJSON=e=>aR(Re.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=uR.getAdapter;Bn.HttpStatusCode=S4;Bn.default=Bn;const{Axios:t7e,AxiosError:r7e,CanceledError:n7e,isCancel:a7e,CancelToken:s7e,VERSION:i7e,all:o7e,Cancel:l7e,isAxiosError:c7e,spread:u7e,toFormData:d7e,AxiosHeaders:f7e,HttpStatusCode:h7e,formToJSON:m7e,getAdapter:p7e,mergeConfig:g7e}=Bn,Ae=Bn.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json"}});Ae.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const mR=k.createContext(void 0),FQ=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(null),[s,i]=k.useState(!0),l=async()=>{try{const f=(await Ae.get("/profile")).data;r(f),localStorage.setItem("user",JSON.stringify(f))}catch(d){console.error("Failed to refresh user",d)}};k.useEffect(()=>{(async()=>{const f=localStorage.getItem("token"),h=localStorage.getItem("user");if(f){a(f),h&&r(JSON.parse(h));try{const m=await Ae.get("/profile");r(m.data),localStorage.setItem("user",JSON.stringify(m.data))}catch(m){console.error("Failed to fetch user profile",m)}}i(!1)})()},[]);const c=(d,f)=>{localStorage.setItem("token",d),localStorage.setItem("user",JSON.stringify(f)),a(d),r(f)},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),r(null)};return o.jsx(mR.Provider,{value:{user:t,token:n,login:c,logout:u,refreshUser:l,isAuthenticated:!!n,isLoading:s},children:e})},ma=()=>{const e=k.useContext(mR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},LQ={schoolName:"My School",primaryColor:"#2563eb",secondaryColor:"#475569",accentColor:"#f59e0b"},pR=k.createContext(void 0),DQ=({children:e})=>{const[t,r]=k.useState(LQ),[n,a]=k.useState(!0),s=async()=>{try{const l=await Ae.get("/settings/public");r(l.data),i(l.data)}catch(l){console.error("Failed to fetch theme settings:",l)}finally{a(!1)}},i=l=>{const c=document.documentElement;c.style.setProperty("--primary-color",l.primaryColor),c.style.setProperty("--secondary-color",l.secondaryColor),c.style.setProperty("--accent-color",l.accentColor),document.title=l.schoolName};return k.useEffect(()=>{s()},[]),o.jsx(pR.Provider,{value:{settings:t,refreshSettings:s,loading:n},children:e})},O3=()=>{const e=k.useContext(pR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},IQ=k.createContext(void 0),MQ=({children:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState(null),[s,i]=k.useState(!0),l=k.useCallback(async()=>{try{i(!0);const d=await Ae.get("/branches");if(r(d.data),!n&&d.data.length>0){const f=d.data.find(h=>h.isMain)}}catch(d){console.error("Failed to fetch branches",d)}finally{i(!1)}},[n]);k.useEffect(()=>{l()},[]);const c=t.find(d=>d.id===n)||null,u=n===null;return o.jsx(IQ.Provider,{value:{branches:t,selectedBranchId:n,selectedBranch:c,setSelectedBranchId:a,loading:s,refreshBranches:l,isAllBranchesSelected:u},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ot=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>k.createElement("svg",{ref:d,...RQ,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${BQ(e)}`,l].join(" "),...u},[...t.map(([f,h])=>k.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=ot("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ot("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=ot("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=ot("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=ot("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=ot("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ot("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=ot("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=ot("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ot("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ot("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=ot("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=ot("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ot("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=ot("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ot("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ot("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=ot("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ot("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=ot("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=ot("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ot("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=ot("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ot("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=ot("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ot("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=ot("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=ot("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=ot("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=ot("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ot("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=ot("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=ot("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=ot("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ot("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ot("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ot("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ot("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=ot("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=ot("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ot("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ot("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=ot("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=ot("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=ot("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=ot("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=ot("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ot("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=ot("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=ot("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ot("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bee=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,s]=k.useState(!1),[i,l]=k.useState(""),[c,u]=k.useState(!1),{login:d}=ma(),f=po(),h=async m=>{var p,g;m.preventDefault(),l(""),u(!0);try{const x=await Ae.post("/auth/login",{email:e,password:r}),{token:v,user:y}=x.data;d(v,y),f("/")}catch(x){l(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to login. Please check your credentials.")}finally{u(!1)}};return o.jsxs("div",{className:"min-h-screen md:h-screen flex flex-col md:flex-row bg-white dark:bg-slate-900 md:overflow-hidden",children:[o.jsxs("div",{className:"hidden md:flex md:w-1/2 bg-[#0056b3] text-white p-6 md:p-12 flex-col justify-between relative h-full",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-600 to-blue-800 opacity-50 z-0"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"bg-white/10 p-2 rounded-lg backdrop-blur-sm",children:o.jsx(Ai,{size:28,className:"text-white"})}),o.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Sync Portal"})]}),o.jsxs("div",{className:"space-y-6 max-w-lg",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:"Empowering Education Through Technology"}),o.jsx("p",{className:"text-blue-100 text-lg leading-relaxed opacity-90",children:"Manage students, track attendance, monitor grades, and streamline your school operations all in one place."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 max-w-lg",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[o.jsx(ea,{className:"mb-3 text-blue-200",size:24}),o.jsx("h3",{className:"font-semibold",children:"Grades"}),o.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Track academic progress"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[o.jsx(en,{className:"mb-3 text-blue-200",size:24}),o.jsx("h3",{className:"font-semibold",children:"Students"}),o.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Manage enrollment"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[o.jsx(Va,{className:"mb-3 text-blue-200",size:24}),o.jsx("h3",{className:"font-semibold",children:"Schedule"}),o.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Organize timetables"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/10 hover:bg-white/20 transition-colors",children:[o.jsx(KQ,{className:"mb-3 text-blue-200",size:24}),o.jsx("h3",{className:"font-semibold",children:"Reports"}),o.jsx("p",{className:"text-sm text-blue-100 opacity-80",children:"Generate Insights"})]})]})]}),o.jsxs("div",{className:"relative z-10 mt-12 md:mt-0 text-sm text-blue-200 opacity-60",children:[" ",new Date().getFullYear()," Sync Portal. All rights reserved."]})]}),o.jsx("div",{className:"md:w-1/2 flex items-center justify-center p-6 md:p-12 bg-white dark:bg-slate-900 md:h-full md:overflow-y-auto",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 md:hidden mb-6",children:[o.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:o.jsx(Ai,{size:24,className:"text-white"})}),o.jsx("span",{className:"text-xl font-bold tracking-tight text-blue-900 dark:text-white",children:"Sync Portal"})]}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sign in to access your dashboard"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-5",children:[i&&o.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-4 rounded-lg text-sm border border-red-100 dark:border-red-800 flex items-center",children:i}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email or ID"}),o.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:"block w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-slate-800",placeholder:"student@school.edu"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),o.jsx("a",{href:"#",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:a?"text":"password",required:!0,value:r,onChange:m=>n(m.target.value),className:"block w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10 bg-white dark:bg-slate-800",placeholder:"Enter your password"}),o.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer",children:a?o.jsx(GQ,{size:20}):o.jsx(sg,{size:20})})]})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-600 dark:text-gray-400",children:"Keep me signed in"})]}),o.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:c?o.jsx(ig,{size:20,className:"animate-spin"}):"Sign in"})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Need help?"," ",o.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Contact IT Support"})]})})]})})]})},WT=({children:e,onRefresh:t,className:r="",threshold:n=80,disabled:a=!1})=>{const[s,i]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(0),f=k.useRef(null),h=k.useRef(0),m=k.useRef(0),p=k.useCallback(N=>{var S;a||l||(((S=f.current)==null?void 0:S.scrollTop)||0)>0||(h.current=N.touches[0].clientY,i(!0))},[a,l]),g=k.useCallback(N=>{var E;if(!s||a||l)return;if((((E=f.current)==null?void 0:E.scrollTop)||0)>0){i(!1),d(0);return}m.current=N.touches[0].clientY;const S=Math.max(0,m.current-h.current),j=Math.min(S*.4,n*1.5);d(j)},[s,a,l,n]),x=k.useCallback(async()=>{if(!(!s||a)){if(i(!1),u>=n){c(!0),"vibrate"in navigator&&navigator.vibrate(10);try{await t()}finally{c(!1)}}d(0)}},[s,u,n,t,a]),v=Math.min(u/n,1),y=.5+v*.5,b=u>=n;return o.jsxs("div",{ref:f,className:`relative overflow-auto ${r}`,onTouchStart:p,onTouchMove:g,onTouchEnd:x,children:[o.jsx("div",{className:"absolute left-0 right-0 flex justify-center items-center pointer-events-none z-50 transition-transform duration-200",style:{top:-40,transform:`translateY(${u}px)`},children:o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${b?"bg-blue-600 text-white":"bg-white text-blue-600 shadow-lg border border-gray-100"}`,style:{opacity:v,transform:`scale(${y})`},children:o.jsx(Ou,{size:20,className:`transition-transform duration-300 ${l?"animate-spin":""}`,style:{transform:`rotate(${u*3}deg)`}})})}),l&&o.jsxs("div",{className:"sticky top-0 left-0 right-0 bg-blue-600 text-white py-2 px-4 text-center text-sm font-medium z-40 flex items-center justify-center gap-2",children:[o.jsx(Ou,{size:14,className:"animate-spin"}),"Refreshing..."]}),o.jsx("div",{style:{transform:s?`translateY(${u}px)`:"translateY(0)",transition:s?"none":"transform 0.3s ease-out"},children:e})]})},Hs=({className:e="",variant:t="rectangular",width:r,height:n,animation:a="shimmer"})=>{const s="bg-gray-200",i={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"},l={pulse:"animate-pulse",shimmer:"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1.5s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/60 before:to-transparent",none:""},c={width:r,height:n};return o.jsx("div",{className:`${s} ${i[t]} ${l[a]} ${e}`,style:c})},wee=({size:e=40,className:t=""})=>o.jsx(Hs,{variant:"circular",width:e,height:e,className:t}),lk=({className:e=""})=>o.jsxs("div",{className:`bg-white rounded-xl p-4 shadow-sm border border-gray-100 ${e}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Hs,{variant:"rectangular",width:40,height:40,className:"rounded-lg"}),o.jsx(Hs,{variant:"rectangular",width:60,height:24,className:"rounded-full"})]}),o.jsx(Hs,{height:14,width:"60%",className:"mb-2"}),o.jsx(Hs,{height:28,width:"80%"})]}),kee=({className:e=""})=>o.jsxs("div",{className:`flex items-center gap-4 p-4 ${e}`,children:[o.jsx(wee,{size:44}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Hs,{height:16,width:"70%",className:"mb-2"}),o.jsx(Hs,{height:12,width:"50%"})]}),o.jsx(Hs,{height:20,width:60,className:"rounded-full"})]}),Nee=()=>o.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx(Hs,{height:28,width:200,className:"mb-2"}),o.jsx(Hs,{height:16,width:300})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>o.jsxs("div",{className:"bg-white rounded-xl p-4 flex flex-col items-center gap-3",children:[o.jsx(Hs,{variant:"rectangular",width:40,height:40,className:"rounded-lg"}),o.jsx(Hs,{height:14,width:60})]},t))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(lk,{}),o.jsx(lk,{}),o.jsx(lk,{})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between",children:[o.jsx(Hs,{height:20,width:150}),o.jsx(Hs,{height:16,width:60})]}),o.jsx("div",{className:"divide-y divide-gray-100",children:Array.from({length:5}).map((e,t)=>o.jsx(kee,{},t))})]})]}),See=({children:e,className:t="",onCardChange:r})=>{const n=k.useRef(null),[a,s]=k.useState(0),i=k.useCallback(()=>{const l=n.current;if(!l)return;const c=l.scrollLeft,u=l.offsetWidth*.85,d=Math.round(c/u);d!==a&&d>=0&&d<e.length&&(s(d),r==null||r(d))},[a,e.length,r]);return o.jsxs("div",{className:t,children:[o.jsx("div",{ref:n,onScroll:i,className:"flex gap-4 overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4 -mx-4 px-4",style:{scrollBehavior:"smooth"},children:dc.Children.map(e,(l,c)=>o.jsx("div",{className:"flex-shrink-0 w-[85%] snap-center",children:l},c))}),e.length>1&&o.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:dc.Children.map(e,(l,c)=>o.jsx("button",{onClick:()=>{const u=n.current;if(u){const d=u.offsetWidth*.85+16;u.scrollTo({left:d*c,behavior:"smooth"}),s(c)}},className:`w-2 h-2 rounded-full transition-all duration-200 ${c===a?"bg-blue-600 w-6":"bg-gray-300 hover:bg-gray-400"}`},c))})]})},jee=({actions:e,position:t="bottom-right",className:r=""})=>{const[n,a]=k.useState(!1),[s,i]=k.useState(!0),l=po(),{user:c}=ma(),u=dc.useRef(0),f=e||(()=>{const g=c==null?void 0:c.role;return g==="PARENT"?[{icon:o.jsx(E4,{size:20}),label:"Pay Fees",onClick:()=>l("/pay"),color:"bg-green-500"},{icon:o.jsx(Wo,{size:20}),label:"Message School",onClick:()=>l("/communication"),color:"bg-blue-500"}]:g==="TEACHER"?[{icon:o.jsx(zT,{size:20}),label:"Take Attendance",onClick:()=>l("/academics/attendance"),color:"bg-orange-500"},{icon:o.jsx(ea,{size:20}),label:"Enter Grades",onClick:()=>l("/academics/gradebook"),color:"bg-purple-500"},{icon:o.jsx(Wo,{size:20}),label:"Announcement",onClick:()=>l("/communication"),color:"bg-blue-500"}]:[{icon:o.jsx(gee,{size:20}),label:"Add Student",onClick:()=>l("/students"),color:"bg-blue-500"},{icon:o.jsx(E4,{size:20}),label:"Record Payment",onClick:()=>l("/finance"),color:"bg-green-500"},{icon:o.jsx(zT,{size:20}),label:"Attendance",onClick:()=>l("/attendance"),color:"bg-orange-500"},{icon:o.jsx(Wo,{size:20}),label:"Announcement",onClick:()=>l("/communication"),color:"bg-purple-500"}]})();k.useEffect(()=>{const g=()=>{const x=window.scrollY;x>u.current&&x>100?(i(!1),a(!1)):i(!0),u.current=x};return window.addEventListener("scroll",g,{passive:!0}),()=>window.removeEventListener("scroll",g)},[]);const h=()=>{"vibrate"in navigator&&navigator.vibrate(5),a(!n)},m=g=>{"vibrate"in navigator&&navigator.vibrate(5),a(!1),g.onClick()},p=t==="bottom-center"?"bottom-20 left-1/2 -translate-x-1/2":"bottom-20 right-4";return o.jsxs(o.Fragment,{children:[n&&o.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 md:hidden",onClick:()=>a(!1)}),o.jsxs("div",{className:`fixed z-50 md:hidden transition-all duration-300 ${p} ${r} ${s?"translate-y-0 opacity-100":"translate-y-16 opacity-0 pointer-events-none"}`,style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[o.jsx("div",{className:`absolute bottom-16 right-0 flex flex-col-reverse items-end gap-3 transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:f.map((g,x)=>o.jsxs("button",{onClick:()=>m(g),className:"flex items-center gap-3 animate-scale-in",style:{animationDelay:`${x*50}ms`},children:[o.jsx("span",{className:"px-3 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg shadow-lg whitespace-nowrap",children:g.label}),o.jsx("div",{className:`w-12 h-12 rounded-full ${g.color||"bg-blue-500"} text-white flex items-center justify-center shadow-lg active:scale-95 transition-transform`,children:g.icon})]},x))}),o.jsx("button",{onClick:h,className:`w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-xl active:scale-95 transition-all duration-300 ${n?"rotate-45 bg-gray-700":"rotate-0"}`,children:n?o.jsx(ra,{size:24}):o.jsx(fa,{size:24})})]})]})},Aee=()=>{const[e,t]=k.useState({isListening:!1,transcript:"",error:null,isSupported:!1}),r=k.useRef(null);k.useEffect(()=>{const i=window.SpeechRecognition||window.webkitSpeechRecognition;if(i){const l=new i;l.continuous=!1,l.interimResults=!0,l.lang="en-US",l.onresult=c=>{const u=Array.from(c.results).map(d=>d[0].transcript).join("");t(d=>({...d,transcript:u}))},l.onerror=c=>{let u="Speech recognition error";switch(c.error){case"not-allowed":u="Microphone access denied";break;case"no-speech":u="No speech detected";break;case"network":u="Network error";break}t(d=>({...d,error:u,isListening:!1}))},l.onend=()=>{t(c=>({...c,isListening:!1}))},r.current=l,t(c=>({...c,isSupported:!0}))}return()=>{r.current&&r.current.abort()}},[]);const n=k.useCallback(()=>{if(r.current){t(i=>({...i,isListening:!0,error:null,transcript:""}));try{r.current.start()}catch{}}},[]),a=k.useCallback(()=>{r.current&&(r.current.stop(),t(i=>({...i,isListening:!1})))},[]),s=k.useCallback(()=>{t(i=>({...i,transcript:"",error:null}))},[]);return{...e,startListening:n,stopListening:a,resetTranscript:s}},_ee=({onResult:e,className:t="",size:r=20})=>{const{isSupported:n,isListening:a,transcript:s,startListening:i,stopListening:l}=Aee();return k.useEffect(()=>{s&&!a&&e(s)},[s,a,e]),n?o.jsx("button",{onClick:a?l:i,className:`p-2 rounded-xl transition-all duration-200 ${a?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"} ${t}`,title:a?"Stop listening":"Voice search",children:a?o.jsx(ree,{size:r}):o.jsx(nee,{size:r})}):null},Eee=()=>{const[e,t]=k.useState(()=>typeof window>"u"?"system":localStorage.getItem("theme")||"system"),[r,n]=k.useState(!1),a=k.useCallback(()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,[]),s=k.useCallback(c=>{const u=c==="dark"||c==="system"&&a();n(u),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",u?"#1e293b":"#2563eb")},[a]),i=k.useCallback(c=>{t(c),localStorage.setItem("theme",c),s(c)},[s]),l=k.useCallback(()=>{i(r?"light":"dark")},[r,i]);return k.useEffect(()=>{s(e);const c=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{e==="system"&&s("system")};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[e,s]),{theme:e,isDark:r,setTheme:i,toggleTheme:l}},Cee={light:5,medium:10,heavy:20,selection:3,success:[10,50,10],warning:[20,50,20],error:[30,50,30,50,30]},Tee=()=>"vibrate"in navigator,Pee=(e="light")=>{if(!Tee())return!1;try{const t=Cee[e];return navigator.vibrate(t),!0}catch{return!1}},NR=()=>Pee("light"),Oee=({showLabel:e=!1,className:t=""})=>{const{isDark:r,toggleTheme:n}=Eee(),a=()=>{NR(),n()};return o.jsx("button",{onClick:a,className:`p-2.5 rounded-xl transition-all duration-200 ${r?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${t}`,title:r?"Switch to light mode":"Switch to dark mode",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r?o.jsx(aee,{size:20}):o.jsx(hee,{size:20}),e&&o.jsx("span",{className:"text-sm font-medium",children:r?"Dark":"Light"})]})})},Fee=()=>{var d;const{user:e}=ma(),[t,r]=k.useState(null),[n,a]=k.useState(!0),[s,i]=k.useState(!1),l=k.useCallback(async()=>{try{const f=await Ae.get("/dashboard/stats");r(f.data)}catch(f){console.error("Error fetching dashboard stats:",f)}finally{a(!1)}},[]);k.useEffect(()=>{(e==null?void 0:e.role)!=="PARENT"&&l()},[e,l]);const c=async()=>{i(!0),await l(),i(!1)};if((e==null?void 0:e.role)==="PARENT")return o.jsx(_3,{to:"/my-children",replace:!0});if(n)return o.jsx(Nee,{});if((t==null?void 0:t.role)==="TEACHER"){const f=t.stats,{todaySchedule:h,recentAssessments:m,myClasses:p}=t;return o.jsx(WT,{onRefresh:c,className:"min-h-screen",children:o.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Teacher Dashboard"}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Welcome back, ",(d=e==null?void 0:e.fullName)==null?void 0:d.split(" ")[0],". Here is your academic overview."]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl flex items-center justify-center mb-3",children:o.jsx(en,{size:20,className:"md:w-6 md:h-6"})}),o.jsx("p",{className:"text-[11px] md:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"My Students"}),o.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:f.totalStudents})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-xl flex items-center justify-center mb-3",children:o.jsx(Ai,{size:20,className:"md:w-6 md:h-6"})}),o.jsx("p",{className:"text-[11px] md:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"My Classes"}),o.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:f.totalClasses})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-xl flex items-center justify-center mb-3",children:o.jsx(_l,{size:20,className:"md:w-6 md:h-6"})}),o.jsx("p",{className:"text-[11px] md:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Today"}),o.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:f.todayScheduleCount})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[o.jsxs("h2",{className:"text-base md:text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[o.jsx(Va,{size:18,className:"text-blue-500"}),"Today's Schedule"]}),o.jsx("span",{className:"text-[10px] md:text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full",children:new Date().toLocaleDateString("en-US",{weekday:"short"})})]}),o.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:h.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No classes today."}):h.map(g=>o.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center gap-4 active:bg-gray-100 dark:active:bg-slate-700",children:[o.jsxs("div",{className:"text-center min-w-[60px]",children:[o.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:g.startTime}),o.jsx("div",{className:"text-[10px] text-gray-400",children:g.endTime})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-bold text-blue-900 dark:text-blue-400 truncate",children:g.subject.name}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:g.class.name})]}),o.jsx(xu,{to:"/academics/attendance",className:"px-3 py-1.5 text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 active:bg-blue-200 transition-colors",children:"Mark"})]},g.id))})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"p-4 md:p-6 border-b border-gray-100 dark:border-slate-700",children:o.jsxs("h2",{className:"text-base md:text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[o.jsx(ag,{size:18,className:"text-green-500"}),"Recent Assessments"]})}),o.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:m.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No recent assessments."}):m.map(g=>o.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center gap-4 active:bg-gray-100 dark:active:bg-slate-700",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(ea,{size:18})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:g.title}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[g.class.name,"  ",g.subject.name]})]}),o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsx("div",{className:"text-xs font-bold text-gray-900 dark:text-white",children:g._count.results}),o.jsx(xu,{to:"/academics/gradebook",className:"text-[10px] text-blue-600 dark:text-blue-400 font-medium",children:"Grade"})]})]},g.id))})]})]})]})})}const u=t;return o.jsx(WT,{onRefresh:c,className:"min-h-screen",children:o.jsxs("div",{className:"p-4 md:p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Welcome back, here's what's happening today."})]}),o.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[{icon:en,label:"Students",path:"/students",color:"blue"},{icon:ti,label:"Finance",path:"/finance",color:"green"},{icon:ea,label:"Classes",path:"/classes",color:"purple"},{icon:ag,label:"Attendance",path:"/attendance",color:"orange"}].map(f=>o.jsxs(xu,{to:f.path,className:`p-3 md:p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 flex flex-col items-center justify-center gap-2 hover:bg-${f.color}-50 dark:hover:bg-slate-700 active:scale-95 transition-all group`,children:[o.jsx("div",{className:`p-2 md:p-3 bg-${f.color}-100 dark:bg-${f.color}-900/30 text-${f.color}-600 dark:text-${f.color}-400 rounded-xl group-hover:bg-${f.color}-200 dark:group-hover:bg-${f.color}-900/50 transition-colors`,children:o.jsx(f.icon,{size:20,className:"md:w-6 md:h-6"})}),o.jsx("span",{className:"text-[10px] md:text-xs font-medium text-gray-700 dark:text-gray-300 text-center",children:f.label})]},f.label))}),o.jsxs("div",{className:"hidden md:grid md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-2xl shadow-sm text-white",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:o.jsx(ti,{size:20})}),o.jsx("span",{className:"text-xs font-medium bg-white/20 px-2 py-1 rounded-full backdrop-blur-sm",children:"Today"})]}),o.jsx("h3",{className:"text-green-100 text-sm font-medium",children:"Today's Collection"}),o.jsxs("p",{className:"text-3xl font-bold",children:["ZMW ",(u==null?void 0:u.dailyRevenue.toLocaleString())||"0"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:o.jsx(gc,{size:20})}),o.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded-full",children:"Outstanding"})]}),o.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Outstanding Fees"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["ZMW ",(u==null?void 0:u.outstandingFees.toLocaleString())||"0"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:o.jsx(en,{size:20})}),o.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:"Active"})]}),o.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Active Students"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.activeStudents)||"0"})]})]}),o.jsx("div",{className:"md:hidden mb-6",children:o.jsxs(See,{children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-5 rounded-2xl shadow-sm text-white h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:o.jsx(ti,{size:22})}),o.jsx("span",{className:"text-xs font-medium bg-white/20 px-2.5 py-1 rounded-full backdrop-blur-sm",children:"Today"})]}),o.jsx("h3",{className:"text-green-100 text-sm font-medium mb-1",children:"Today's Collection"}),o.jsxs("p",{className:"text-3xl font-bold",children:["ZMW ",(u==null?void 0:u.dailyRevenue.toLocaleString())||"0"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-2.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl",children:o.jsx(gc,{size:22})}),o.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 px-2.5 py-1 rounded-full",children:"Outstanding"})]}),o.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Outstanding Fees"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["ZMW ",(u==null?void 0:u.outstandingFees.toLocaleString())||"0"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-2.5 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl",children:o.jsx(en,{size:22})}),o.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2.5 py-1 rounded-full",children:"Active"})]}),o.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:"Active Students"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.activeStudents)||"0"})]})]})}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-white",children:"Recent Payments"}),o.jsx(xu,{to:"/finance",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 font-medium",children:"View All"})]}),o.jsx("div",{className:"hidden md:block overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Student"}),o.jsx("th",{className:"px-6 py-3",children:"Class"}),o.jsx("th",{className:"px-6 py-3",children:"Amount"}),o.jsx("th",{className:"px-6 py-3",children:"Method"}),o.jsx("th",{className:"px-6 py-3",children:"Time"}),o.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:(u==null?void 0:u.recentPayments.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No recent payments"})}):u==null?void 0:u.recentPayments.map(f=>{var h;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:[f.student.firstName," ",f.student.lastName]}),o.jsx("td",{className:"px-6 py-4",children:((h=f.student.class)==null?void 0:h.name)||"N/A"}),o.jsxs("td",{className:`px-6 py-4 font-semibold ${f.status==="VOIDED"?"line-through text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-white"}`,children:["ZMW ",Number(f.amount).toLocaleString()]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium
                          ${f.method==="CASH"?"bg-green-100 text-green-700":f.method==="MOBILE_MONEY"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:f.method.replace("_"," ")})}),o.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"px-6 py-4",children:f.status==="VOIDED"?o.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:"Voided"}):o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Completed"})})]},f.id)})})]})}),o.jsx("div",{className:"md:hidden divide-y divide-gray-100 dark:divide-slate-700",children:(u==null?void 0:u.recentPayments.length)===0?o.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No recent payments"}):u==null?void 0:u.recentPayments.map(f=>{var h;return o.jsxs("div",{className:"p-4 active:bg-gray-50 dark:active:bg-slate-700 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[f.student.firstName," ",f.student.lastName]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:((h=f.student.class)==null?void 0:h.name)||"N/A"})]}),o.jsxs("span",{className:`text-lg font-bold ${f.status==="VOIDED"?"line-through text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-white"}`,children:["ZMW ",Number(f.amount).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium
                        ${f.method==="CASH"?"bg-green-100 text-green-700":f.method==="MOBILE_MONEY"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:f.method.replace("_"," ")}),f.status==="VOIDED"&&o.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-[10px] font-medium",children:"Voided"})]}),o.jsx("span",{className:"text-xs text-gray-400",children:new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},f.id)})})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Dy={};Dy.version="0.18.5";var SR=1252,Lee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],M3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},R3=function(e){Lee.indexOf(e)!=-1&&(SR=M3[0]=e)};function Dee(){R3(1252)}var Bo=function(e){R3(e)};function B3(){Bo(1200),Dee()}function HT(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Iee(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function jR(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var np=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Iee(e.slice(2)):t==254&&r==255?jR(e.slice(2)):t==65279?e.slice(1):e},X1=function(t){return String.fromCharCode(t)},VT=function(t){return String.fromCharCode(t)},lg,vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cg(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=vu.charAt(s)+vu.charAt(i)+vu.charAt(l)+vu.charAt(c);return t}function Ei(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=vu.indexOf(e.charAt(u++)),i=vu.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=vu.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=vu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Tc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ru(e){return Jt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function qT(e){return Jt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var gi=function(t){return Jt?Tc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function y2(e){if(typeof ArrayBuffer>"u")return gi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function rd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Mee(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function z3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return z3(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ea=Jt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Tc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Ree(e){for(var t=[],r=0,n=e.length+250,a=Ru(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ru(65535),n=65530)}return t.push(a.slice(0,r)),Ea(t)}var Ps=/\u0000/g,ap=/[\u0001-\u0006]/g;function Xf(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function zo(e,t){var r=""+e;return r.length>=t?r:wn("0",t-r.length)+r}function U3(e,t){var r=""+e;return r.length>=t?r:wn(" ",t-r.length)+r}function Iy(e,t){var r=""+e;return r.length>=t?r:r+wn(" ",t-r.length)}function Bee(e,t){var r=""+Math.round(e);return r.length>=t?r:wn("0",t-r.length)+r}function zee(e,t){var r=""+e;return r.length>=t?r:wn("0",t-r.length)+r}var GT=Math.pow(2,32);function ff(e,t){if(e>GT||e<-GT)return Bee(e,t);var r=Math.round(e);return zee(r,t)}function My(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var KT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ck=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Uee(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},YT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$ee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ry(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Ld(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=Kee(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var AR=new Date(1899,11,31,0,0,0),Wee=AR.getTime(),Hee=new Date(1900,2,1,0,0,0);function _R(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Hee&&(r+=24*60*60*1e3),(r-(Wee+(e.getTimezoneOffset()-AR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function $3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Vee(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function qee(e){var t=e<0?12:11,r=$3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Gee(e){var t=$3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ug(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=qee(e):t===10?r=e.toFixed(10).substr(0,12):r=Gee(e),$3(Vee(r.toUpperCase()))}function f0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ug(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return fo(14,_R(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Kee(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Yee(e,t,r,n){var a="",s=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return ck[r.m-1][1];case 5:return ck[r.m-1][0];default:return ck[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return KT[r.q][0];default:return KT[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?zo(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=zo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?zo(c,u):"";return d}function yu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var ER=/%/g;function Xee(e,t,r){var n=t.replace(ER,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+wn("%",a)}function Zee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function CR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+CR(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var TR=/# (\?+)( ?)\/( ?)(\d+)/;function Jee(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?wn(" ",e[1].length+1+e[4].length):U3(i,e[1].length)+e[2]+"/"+e[3]+zo(l,e[4].length))}function Qee(e,t,r){return r+(t===0?"":""+t)+wn(" ",e[1].length+2+e[4].length)}var PR=/^#*0*\.([0#]+)/,OR=/\).*[0#]/,FR=/\(###\) ###\\?-####/;function js(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function XT(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ZT(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ete(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function tte(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function qi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(OR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qi("n",n,r):"("+qi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zee(e,t,r);if(t.indexOf("%")!==-1)return Xee(e,t,r);if(t.indexOf("E")!==-1)return CR(t,r);if(t.charCodeAt(0)===36)return"$"+qi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ff(c,t.length);if(t.match(/^[#?]+$/))return a=ff(r,0),a==="0"&&(a=""),a.length>t.length?a:js(t.substr(0,t.length-a.length))+a;if(s=t.match(TR))return Jee(s,c,u);if(t.match(/^#+0+$/))return u+ff(c,t.length-t.indexOf("0"));if(s=t.match(PR))return a=XT(r,s[1].length).replace(/^([^\.]+)$/,"$1."+js(s[1])).replace(/\.$/,"."+js(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+wn("0",js(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+XT(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+yu(ff(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qi(e,t,-r):yu(""+(Math.floor(r)+ete(r,s[1].length)))+"."+zo(ZT(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return qi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Xf(qi(e,t.replace(/[\\-]/g,""),r)),i=0,Xf(Xf(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<a.length?a.charAt(i++):p==="0"?"0":""}));if(t.match(FR))return a=qi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Ry(c,Math.pow(10,i)-1,!1),a=""+u,d=ic("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Iy(l[2],i),d.length<s[4].length&&(d=js(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Ry(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?U3(l[1],i)+s[2]+"/"+s[3]+Iy(l[2],i):wn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=ff(r,0),t.length<=a.length?a:js(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return js(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=ZT(r,s[1].length),r<0?"-"+qi(e,t,-r):yu(tte(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?zo(0,3-p.length):"")+p})+"."+zo(i,s[1].length);switch(t){case"###,##0.00":return qi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=yu(ff(c,0));return m!=="0"?u+m:"";case"###,###.00":return qi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return qi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function rte(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nte(e,t,r){var n=t.replace(ER,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+wn("%",a)}function LR(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LR(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ul(e,t,r){if(e.charCodeAt(0)===40&&!t.match(OR)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ul("n",n,r):"("+ul("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return rte(e,t,r);if(t.indexOf("%")!==-1)return nte(e,t,r);if(t.indexOf("E")!==-1)return LR(t,r);if(t.charCodeAt(0)===36)return"$"+ul(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+zo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:js(t.substr(0,t.length-a.length))+a;if(s=t.match(TR))return Qee(s,c,u);if(t.match(/^#+0+$/))return u+zo(c,t.length-t.indexOf("0"));if(s=t.match(PR))return a=(""+r).replace(/^([^\.]+)$/,"$1."+js(s[1])).replace(/\.$/,"."+js(s[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+wn("0",js(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+yu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ul(e,t,-r):yu(""+r)+"."+wn("0",s[1].length);if(s=t.match(/^#,#*,#0/))return ul(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Xf(ul(e,t.replace(/[\\-]/g,""),r)),i=0,Xf(Xf(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<a.length?a.charAt(i++):p==="0"?"0":""}));if(t.match(FR))return a=ul(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Ry(c,Math.pow(10,i)-1,!1),a=""+u,d=ic("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Iy(l[2],i),d.length<s[4].length&&(d=js(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Ry(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?U3(l[1],i)+s[2]+"/"+s[3]+Iy(l[2],i):wn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:js(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return js(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ul(e,t,-r):yu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?zo(0,3-p.length):"")+p})+"."+zo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=yu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return ul(e,t.slice(0,t.lastIndexOf(".")),r)+js(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ic(e,t,r){return(r|0)===r?ul(e,t,r):qi(e,t,r)}function ate(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var DR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":My(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(DR))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ste(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!My(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Ld(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Ld(t,r),u==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=Ld(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,h="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(DR)){if(u==null&&(u=Ld(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rh(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var x=0,v=0,y;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[i].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[i].v.match(/[Hh]/)&&(x=1),x<2&&a[i].v.match(/[Mm]/)&&(x=2),x<3&&a[i].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",N;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Yee(a[i].t.charCodeAt(0),a[i].v,u,v),a[i].t="t";break;case"n":case"?":for(N=i+1;a[N]!=null&&((l=a[N].t)==="?"||l==="D"||(l===" "||l==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[i].v+=a[N].v,a[N]={v:"",t:";"},++N;b+=a[i].v,i=N-1;break;case"G":a[i].t="t",a[i].v=f0(t,r);break}var A="",S,j;if(b.length>0){b.charCodeAt(0)==40?(S=t<0&&b.charCodeAt(0)===45?-t:t,j=ic("n",b,S)):(S=t<0&&n>1?-t:t,j=ic("n",b,S),S<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),N=j.length-1;var E=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){E=i;break}var C=a.length;if(E===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(N>=a[i].v.length-1?(N-=a[i].v.length,a[i].v=j.substr(N+1,a[i].v.length)):N<0?a[i].v="":(a[i].v=j.substr(0,N+1),N=-1),a[i].t="t",C=i);N>=0&&C<a.length&&(a[C].v=j.substr(0,N+1)+a[C].v)}else if(E!==a.length&&j.indexOf("E")===-1){for(N=j.indexOf(".")-1,i=E;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")-1:a[i].v.length-1,A=a[i].v.substr(d+1);d>=0;--d)N>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(A=j.charAt(N--)+A);a[i].v=A,a[i].t="t",C=i}for(N>=0&&C<a.length&&(a[C].v=j.substr(0,N+1)+a[C].v),N=j.indexOf(".")+1,i=E;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==E)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")+1:0,A=a[i].v.substr(0,d);d<a[i].v.length;++d)N<j.length&&(A+=j.charAt(N++));a[i].v=A,a[i].t="t",C=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(S=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=ic(a[i].t,a[i].v,S),a[i].t="t");var I="";for(i=0;i!==a.length;++i)a[i]!=null&&(I+=a[i].v);return I}var JT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QT(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function ite(e,t){var r=ate(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(JT),l=r[1].match(JT);return QT(t,i)?[n,r[0]]:QT(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function fo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Mt)[e],n==null&&(n=r.table&&r.table[YT[e]]||Mt[YT[e]]),n==null&&(n=$ee[e]||"General");break}if(My(n,0))return f0(t,r);t instanceof Date&&(t=_R(t,r.date1904));var a=ite(n,t);if(My(a[1]))return f0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ste(a[1],t,r,a[0])}function oc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Mt[r]==null){t<0&&(t=r);continue}if(Mt[r]==e){t=r;break}}t<0&&(t=391)}return Mt[t]=e,t}function b2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&oc(e[t],t)}function Bh(){Mt=Uee()}var ote={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},IR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function lte(e){var t=typeof e=="number"?Mt[e]:e;return t=t.replace(IR,"(\\d+)"),new RegExp("^"+t+"$")}function cte(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(IR)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var ute=function(){var e={};e.version="1.2.0";function t(){for(var j=0,E=new Array(256),C=0;C!=256;++C)j=C,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,E[C]=j;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(j){var E=0,C=0,I=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)T[I]=j[I];for(I=0;I!=256;++I)for(C=j[I],E=256+I;E<4096;E+=256)C=T[E]=C>>>8^j[C&255];var P=[];for(I=1;I!=16;++I)P[I-1]=typeof Int32Array<"u"?T.subarray(I*256,I*256+256):T.slice(I*256,I*256+256);return P}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],x=a[11],v=a[12],y=a[13],b=a[14];function N(j,E){for(var C=E^-1,I=0,T=j.length;I<T;)C=C>>>8^r[(C^j.charCodeAt(I++))&255];return~C}function A(j,E){for(var C=E^-1,I=j.length-15,T=0;T<I;)C=b[j[T++]^C&255]^y[j[T++]^C>>8&255]^v[j[T++]^C>>16&255]^x[j[T++]^C>>>24]^g[j[T++]]^p[j[T++]]^m[j[T++]]^h[j[T++]]^f[j[T++]]^d[j[T++]]^u[j[T++]]^c[j[T++]]^l[j[T++]]^i[j[T++]]^s[j[T++]]^r[j[T++]];for(I+=15;T<I;)C=C>>>8^r[(C^j[T++])&255];return~C}function S(j,E){for(var C=E^-1,I=0,T=j.length,P=0,H=0;I<T;)P=j.charCodeAt(I++),P<128?C=C>>>8^r[(C^P)&255]:P<2048?(C=C>>>8^r[(C^(192|P>>6&31))&255],C=C>>>8^r[(C^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,H=j.charCodeAt(I++)&1023,C=C>>>8^r[(C^(240|P>>8&7))&255],C=C>>>8^r[(C^(128|P>>2&63))&255],C=C>>>8^r[(C^(128|H>>6&15|(P&3)<<4))&255],C=C>>>8^r[(C^(128|H&63))&255]):(C=C>>>8^r[(C^(224|P>>12&15))&255],C=C>>>8^r[(C^(128|P>>6&63))&255],C=C>>>8^r[(C^(128|P&63))&255]);return~C}return e.table=r,e.bstr=N,e.buf=A,e.str=S,e}(),Pt=function(){var t={};t.version="1.2.1";function r(te,fe){for(var oe=te.split("/"),le=fe.split("/"),he=0,me=0,Te=Math.min(oe.length,le.length);he<Te;++he){if(me=oe[he].length-le[he].length)return me;if(oe[he]!=le[he])return oe[he]<le[he]?-1:1}return oe.length-le.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var fe=te.lastIndexOf("/");return fe===-1?te:te.slice(0,fe+1)}function a(te){if(te.charAt(te.length-1)=="/")return a(te.slice(0,-1));var fe=te.lastIndexOf("/");return fe===-1?te:te.slice(fe+1)}function s(te,fe){typeof fe=="string"&&(fe=new Date(fe));var oe=fe.getHours();oe=oe<<6|fe.getMinutes(),oe=oe<<5|fe.getSeconds()>>>1,te.write_shift(2,oe);var le=fe.getFullYear()-1980;le=le<<4|fe.getMonth()+1,le=le<<5|fe.getDate(),te.write_shift(2,le)}function i(te){var fe=te.read_shift(2)&65535,oe=te.read_shift(2)&65535,le=new Date,he=oe&31;oe>>>=5;var me=oe&15;oe>>>=4,le.setMilliseconds(0),le.setFullYear(oe+1980),le.setMonth(me-1),le.setDate(he);var Te=fe&31;fe>>>=5;var Be=fe&63;return fe>>>=6,le.setHours(fe),le.setMinutes(Be),le.setSeconds(Te<<1),le}function l(te){Ua(te,0);for(var fe={},oe=0;te.l<=te.length-4;){var le=te.read_shift(2),he=te.read_shift(2),me=te.l+he,Te={};switch(le){case 21589:oe=te.read_shift(1),oe&1&&(Te.mtime=te.read_shift(4)),he>5&&(oe&2&&(Te.atime=te.read_shift(4)),oe&4&&(Te.ctime=te.read_shift(4))),Te.mtime&&(Te.mt=new Date(Te.mtime*1e3));break}te.l=me,fe[le]=Te}return fe}var c;function u(){return c||(c={})}function d(te,fe){if(te[0]==80&&te[1]==75)return ye(te,fe);if((te[0]|32)==109&&(te[1]|32)==105)return ys(te,fe);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var oe=3,le=512,he=0,me=0,Te=0,Be=0,Pe=0,Le=[],Ie=te.slice(0,512);Ua(Ie,0);var tt=f(Ie);switch(oe=tt[0],oe){case 3:le=512;break;case 4:le=4096;break;case 0:if(tt[1]==0)return ye(te,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}le!==512&&(Ie=te.slice(0,le),Ua(Ie,28));var lt=te.slice(0,le);h(Ie,oe);var gt=Ie.read_shift(4,"i");if(oe===3&&gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+gt);Ie.l+=4,Te=Ie.read_shift(4,"i"),Ie.l+=4,Ie.chk("00100000","Mini Stream Cutoff Size: "),Be=Ie.read_shift(4,"i"),he=Ie.read_shift(4,"i"),Pe=Ie.read_shift(4,"i"),me=Ie.read_shift(4,"i");for(var it=-1,pt=0;pt<109&&(it=Ie.read_shift(4,"i"),!(it<0));++pt)Le[pt]=it;var $t=m(te,le);x(Pe,me,$t,le,Le);var br=y($t,Te,Le,le);br[Te].name="!Directory",he>0&&Be!==H&&(br[Be].name="!MiniFAT"),br[Le[0]].name="!FAT",br.fat_addrs=Le,br.ssz=le;var Cr={},Un=[],yo=[],Ml=[];b(Te,br,$t,Un,he,Cr,yo,Be),p(yo,Ml,Un),Un.shift();var el={FileIndex:yo,FullPaths:Ml};return fe&&fe.raw&&(el.raw={header:lt,sectors:$t}),el}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(q,"Header Signature: "),te.l+=16;var fe=te.read_shift(2,"u");return[te.read_shift(2,"u"),fe]}function h(te,fe){var oe=9;switch(te.l+=2,oe=te.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function m(te,fe){for(var oe=Math.ceil(te.length/fe)-1,le=[],he=1;he<oe;++he)le[he-1]=te.slice(he*fe,(he+1)*fe);return le[oe-1]=te.slice(oe*fe),le}function p(te,fe,oe){for(var le=0,he=0,me=0,Te=0,Be=0,Pe=oe.length,Le=[],Ie=[];le<Pe;++le)Le[le]=Ie[le]=le,fe[le]=oe[le];for(;Be<Ie.length;++Be)le=Ie[Be],he=te[le].L,me=te[le].R,Te=te[le].C,Le[le]===le&&(he!==-1&&Le[he]!==he&&(Le[le]=Le[he]),me!==-1&&Le[me]!==me&&(Le[le]=Le[me])),Te!==-1&&(Le[Te]=le),he!==-1&&le!=Le[le]&&(Le[he]=Le[le],Ie.lastIndexOf(he)<Be&&Ie.push(he)),me!==-1&&le!=Le[le]&&(Le[me]=Le[le],Ie.lastIndexOf(me)<Be&&Ie.push(me));for(le=1;le<Pe;++le)Le[le]===le&&(me!==-1&&Le[me]!==me?Le[le]=Le[me]:he!==-1&&Le[he]!==he&&(Le[le]=Le[he]));for(le=1;le<Pe;++le)if(te[le].type!==0){if(Be=le,Be!=Le[Be])do Be=Le[Be],fe[le]=fe[Be]+"/"+fe[le];while(Be!==0&&Le[Be]!==-1&&Be!=Le[Be]);Le[le]=-1}for(fe[0]+="/",le=1;le<Pe;++le)te[le].type!==2&&(fe[le]+="/")}function g(te,fe,oe){for(var le=te.start,he=te.size,me=[],Te=le;oe&&he>0&&Te>=0;)me.push(fe.slice(Te*P,Te*P+P)),he-=P,Te=Cd(oe,Te*4);return me.length===0?He(0):Ea(me).slice(0,te.size)}function x(te,fe,oe,le,he){var me=H;if(te===H){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Te=oe[te],Be=(le>>>2)-1;if(!Te)return;for(var Pe=0;Pe<Be&&(me=Cd(Te,Pe*4))!==H;++Pe)he.push(me);x(Cd(Te,le-4),fe-1,oe,le,he)}}function v(te,fe,oe,le,he){var me=[],Te=[];he||(he=[]);var Be=le-1,Pe=0,Le=0;for(Pe=fe;Pe>=0;){he[Pe]=!0,me[me.length]=Pe,Te.push(te[Pe]);var Ie=oe[Math.floor(Pe*4/le)];if(Le=Pe*4&Be,le<4+Le)throw new Error("FAT boundary crossed: "+Pe+" 4 "+le);if(!te[Ie])break;Pe=Cd(te[Ie],Le)}return{nodes:me,data:dP([Te])}}function y(te,fe,oe,le){var he=te.length,me=[],Te=[],Be=[],Pe=[],Le=le-1,Ie=0,tt=0,lt=0,gt=0;for(Ie=0;Ie<he;++Ie)if(Be=[],lt=Ie+fe,lt>=he&&(lt-=he),!Te[lt]){Pe=[];var it=[];for(tt=lt;tt>=0;){it[tt]=!0,Te[tt]=!0,Be[Be.length]=tt,Pe.push(te[tt]);var pt=oe[Math.floor(tt*4/le)];if(gt=tt*4&Le,le<4+gt)throw new Error("FAT boundary crossed: "+tt+" 4 "+le);if(!te[pt]||(tt=Cd(te[pt],gt),it[tt]))break}me[lt]={nodes:Be,data:dP([Pe])}}return me}function b(te,fe,oe,le,he,me,Te,Be){for(var Pe=0,Le=le.length?2:0,Ie=fe[te].data,tt=0,lt=0,gt;tt<Ie.length;tt+=128){var it=Ie.slice(tt,tt+128);Ua(it,64),lt=it.read_shift(2),gt=Y3(it,0,lt-Le),le.push(gt);var pt={name:gt,type:it.read_shift(1),color:it.read_shift(1),L:it.read_shift(4,"i"),R:it.read_shift(4,"i"),C:it.read_shift(4,"i"),clsid:it.read_shift(16),state:it.read_shift(4,"i"),start:0,size:0},$t=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);$t!==0&&(pt.ct=N(it,it.l-8));var br=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);br!==0&&(pt.mt=N(it,it.l-8)),pt.start=it.read_shift(4,"i"),pt.size=it.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=H,pt.name=""),pt.type===5?(Pe=pt.start,he>0&&Pe!==H&&(fe[Pe].name="!StreamData")):pt.size>=4096?(pt.storage="fat",fe[pt.start]===void 0&&(fe[pt.start]=v(oe,pt.start,fe.fat_addrs,fe.ssz)),fe[pt.start].name=pt.name,pt.content=fe[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:Pe!==H&&pt.start!==H&&fe[Pe]&&(pt.content=g(pt,fe[Pe].data,(fe[Be]||{}).data))),pt.content&&Ua(pt.content,0),me[gt]=pt,Te.push(pt)}}function N(te,fe){return new Date((pi(te,fe+4)/1e7*Math.pow(2,32)+pi(te,fe)/1e7-11644473600)*1e3)}function A(te,fe){return u(),d(c.readFileSync(te),fe)}function S(te,fe){var oe=fe&&fe.type;switch(oe||Jt&&Buffer.isBuffer(te)&&(oe="buffer"),oe||"base64"){case"file":return A(te,fe);case"base64":return d(gi(Ei(te)),fe);case"binary":return d(gi(te),fe)}return d(te,fe)}function j(te,fe){var oe=fe||{},le=oe.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=le+"/",te.FileIndex[0]={name:le,type:5}),oe.CLSID&&(te.FileIndex[0].clsid=oe.CLSID),E(te)}function E(te){var fe="Sh33tJ5";if(!Pt.find(te,"/"+fe)){var oe=He(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,te.FileIndex.push({name:fe,type:2,content:oe,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+fe),C(te)}}function C(te,fe){j(te);for(var oe=!1,le=!1,he=te.FullPaths.length-1;he>=0;--he){var me=te.FileIndex[he];switch(me.type){case 0:le?oe=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(me.R*me.L*me.C)&&(oe=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!fe)){var Te=new Date(1987,1,19),Be=0,Pe=Object.create?Object.create(null):{},Le=[];for(he=0;he<te.FullPaths.length;++he)Pe[te.FullPaths[he]]=!0,te.FileIndex[he].type!==0&&Le.push([te.FullPaths[he],te.FileIndex[he]]);for(he=0;he<Le.length;++he){var Ie=n(Le[he][0]);le=Pe[Ie],le||(Le.push([Ie,{name:a(Ie).replace("/",""),type:1,clsid:R,ct:Te,mt:Te,content:null}]),Pe[Ie]=!0)}for(Le.sort(function(gt,it){return r(gt[0],it[0])}),te.FullPaths=[],te.FileIndex=[],he=0;he<Le.length;++he)te.FullPaths[he]=Le[he][0],te.FileIndex[he]=Le[he][1];for(he=0;he<Le.length;++he){var tt=te.FileIndex[he],lt=te.FullPaths[he];if(tt.name=a(lt).replace("/",""),tt.L=tt.R=tt.C=-(tt.color=1),tt.size=tt.content?tt.content.length:0,tt.start=0,tt.clsid=tt.clsid||R,he===0)tt.C=Le.length>1?1:-1,tt.size=0,tt.type=5;else if(lt.slice(-1)=="/"){for(Be=he+1;Be<Le.length&&n(te.FullPaths[Be])!=lt;++Be);for(tt.C=Be>=Le.length?-1:Be,Be=he+1;Be<Le.length&&n(te.FullPaths[Be])!=n(lt);++Be);tt.R=Be>=Le.length?-1:Be,tt.type=1}else n(te.FullPaths[he+1]||"")==n(lt)&&(tt.R=he+1),tt.type=2}}}function I(te,fe){var oe=fe||{};if(oe.fileType=="mad")return Ot(te,oe);switch(C(te),oe.fileType){case"zip":return Ft(te,oe)}var le=function(gt){for(var it=0,pt=0,$t=0;$t<gt.FileIndex.length;++$t){var br=gt.FileIndex[$t];if(br.content){var Cr=br.content.length;Cr>0&&(Cr<4096?it+=Cr+63>>6:pt+=Cr+511>>9)}}for(var Un=gt.FullPaths.length+3>>2,yo=it+7>>3,Ml=it+127>>7,el=yo+pt+Un+Ml,bo=el+127>>7,tl=bo<=109?0:Math.ceil((bo-109)/127);el+bo+tl+127>>7>bo;)tl=++bo<=109?0:Math.ceil((bo-109)/127);var oi=[1,tl,bo,Ml,Un,pt,it,0];return gt.FileIndex[0].size=it<<6,oi[7]=(gt.FileIndex[0].start=oi[0]+oi[1]+oi[2]+oi[3]+oi[4]+oi[5])+(oi[6]+7>>3),oi}(te),he=He(le[7]<<9),me=0,Te=0;{for(me=0;me<8;++me)he.write_shift(1,ae[me]);for(me=0;me<8;++me)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),me=0;me<3;++me)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,le[2]),he.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:H),he.write_shift(4,le[3]),he.write_shift(-4,le[1]?le[0]-1:H),he.write_shift(4,le[1]),me=0;me<109;++me)he.write_shift(-4,me<le[2]?le[1]+me:-1)}if(le[1])for(Te=0;Te<le[1];++Te){for(;me<236+Te*127;++me)he.write_shift(-4,me<le[2]?le[1]+me:-1);he.write_shift(-4,Te===le[1]-1?H:Te+1)}var Be=function(gt){for(Te+=gt;me<Te-1;++me)he.write_shift(-4,me+1);gt&&(++me,he.write_shift(-4,H))};for(Te=me=0,Te+=le[1];me<Te;++me)he.write_shift(-4,z.DIFSECT);for(Te+=le[2];me<Te;++me)he.write_shift(-4,z.FATSECT);Be(le[3]),Be(le[4]);for(var Pe=0,Le=0,Ie=te.FileIndex[0];Pe<te.FileIndex.length;++Pe)Ie=te.FileIndex[Pe],Ie.content&&(Le=Ie.content.length,!(Le<4096)&&(Ie.start=Te,Be(Le+511>>9)));for(Be(le[6]+7>>3);he.l&511;)he.write_shift(-4,z.ENDOFCHAIN);for(Te=me=0,Pe=0;Pe<te.FileIndex.length;++Pe)Ie=te.FileIndex[Pe],Ie.content&&(Le=Ie.content.length,!(!Le||Le>=4096)&&(Ie.start=Te,Be(Le+63>>6)));for(;he.l&511;)he.write_shift(-4,z.ENDOFCHAIN);for(me=0;me<le[4]<<2;++me){var tt=te.FullPaths[me];if(!tt||tt.length===0){for(Pe=0;Pe<17;++Pe)he.write_shift(4,0);for(Pe=0;Pe<3;++Pe)he.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)he.write_shift(4,0);continue}Ie=te.FileIndex[me],me===0&&(Ie.start=Ie.size?Ie.start-1:H);var lt=me===0&&oe.root||Ie.name;if(Le=2*(lt.length+1),he.write_shift(64,lt,"utf16le"),he.write_shift(2,Le),he.write_shift(1,Ie.type),he.write_shift(1,Ie.color),he.write_shift(-4,Ie.L),he.write_shift(-4,Ie.R),he.write_shift(-4,Ie.C),Ie.clsid)he.write_shift(16,Ie.clsid,"hex");else for(Pe=0;Pe<4;++Pe)he.write_shift(4,0);he.write_shift(4,Ie.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Ie.start),he.write_shift(4,Ie.size),he.write_shift(4,0)}for(me=1;me<te.FileIndex.length;++me)if(Ie=te.FileIndex[me],Ie.size>=4096)if(he.l=Ie.start+1<<9,Jt&&Buffer.isBuffer(Ie.content))Ie.content.copy(he,he.l,0,Ie.size),he.l+=Ie.size+511&-512;else{for(Pe=0;Pe<Ie.size;++Pe)he.write_shift(1,Ie.content[Pe]);for(;Pe&511;++Pe)he.write_shift(1,0)}for(me=1;me<te.FileIndex.length;++me)if(Ie=te.FileIndex[me],Ie.size>0&&Ie.size<4096)if(Jt&&Buffer.isBuffer(Ie.content))Ie.content.copy(he,he.l,0,Ie.size),he.l+=Ie.size+63&-64;else{for(Pe=0;Pe<Ie.size;++Pe)he.write_shift(1,Ie.content[Pe]);for(;Pe&63;++Pe)he.write_shift(1,0)}if(Jt)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function T(te,fe){var oe=te.FullPaths.map(function(Pe){return Pe.toUpperCase()}),le=oe.map(function(Pe){var Le=Pe.split("/");return Le[Le.length-(Pe.slice(-1)=="/"?2:1)]}),he=!1;fe.charCodeAt(0)===47?(he=!0,fe=oe[0].slice(0,-1)+fe):he=fe.indexOf("/")!==-1;var me=fe.toUpperCase(),Te=he===!0?oe.indexOf(me):le.indexOf(me);if(Te!==-1)return te.FileIndex[Te];var Be=!me.match(ap);for(me=me.replace(Ps,""),Be&&(me=me.replace(ap,"!")),Te=0;Te<oe.length;++Te)if((Be?oe[Te].replace(ap,"!"):oe[Te]).replace(Ps,"")==me||(Be?le[Te].replace(ap,"!"):le[Te]).replace(Ps,"")==me)return te.FileIndex[Te];return null}var P=64,H=-2,q="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(te,fe,oe){u();var le=I(te,oe);c.writeFileSync(fe,le)}function U(te){for(var fe=new Array(te.length),oe=0;oe<te.length;++oe)fe[oe]=String.fromCharCode(te[oe]);return fe.join("")}function Q(te,fe){var oe=I(te,fe);switch(fe&&fe.type||"buffer"){case"file":return u(),c.writeFileSync(fe.filename,oe),oe;case"binary":return typeof oe=="string"?oe:U(oe);case"base64":return cg(typeof oe=="string"?oe:U(oe));case"buffer":if(Jt)return Buffer.isBuffer(oe)?oe:Tc(oe);case"array":return typeof oe=="string"?gi(oe):oe}return oe}var pe;function F(te){try{var fe=te.InflateRaw,oe=new fe;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)pe=te;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function M(te,fe){if(!pe)return Qt(te,fe);var oe=pe.InflateRaw,le=new oe,he=le._processChunk(te.slice(te.l),le._finishFlushFlag);return te.l+=le.bytesRead,he}function B(te){return pe?pe.deflateRawSync(te):nt(te)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(te){var fe=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var K=typeof Uint8Array<"u",ce=K?new Uint8Array(256):[],xe=0;xe<256;++xe)ce[xe]=ee(xe);function G(te,fe){var oe=ce[te&255];return fe<=8?oe>>>8-fe:(oe=oe<<8|ce[te>>8&255],fe<=16?oe>>>16-fe:(oe=oe<<8|ce[te>>16&255],oe>>>24-fe))}function Ce(te,fe){var oe=fe&7,le=fe>>>3;return(te[le]|(oe<=6?0:te[le+1]<<8))>>>oe&3}function Ve(te,fe){var oe=fe&7,le=fe>>>3;return(te[le]|(oe<=5?0:te[le+1]<<8))>>>oe&7}function Se(te,fe){var oe=fe&7,le=fe>>>3;return(te[le]|(oe<=4?0:te[le+1]<<8))>>>oe&15}function ue(te,fe){var oe=fe&7,le=fe>>>3;return(te[le]|(oe<=3?0:te[le+1]<<8))>>>oe&31}function Me(te,fe){var oe=fe&7,le=fe>>>3;return(te[le]|(oe<=1?0:te[le+1]<<8))>>>oe&127}function rt(te,fe,oe){var le=fe&7,he=fe>>>3,me=(1<<oe)-1,Te=te[he]>>>le;return oe<8-le||(Te|=te[he+1]<<8-le,oe<16-le)||(Te|=te[he+2]<<16-le,oe<24-le)||(Te|=te[he+3]<<24-le),Te&me}function We(te,fe,oe){var le=fe&7,he=fe>>>3;return le<=5?te[he]|=(oe&7)<<le:(te[he]|=oe<<le&255,te[he+1]=(oe&7)>>8-le),fe+3}function ve(te,fe,oe){var le=fe&7,he=fe>>>3;return oe=(oe&1)<<le,te[he]|=oe,fe+1}function Ue(te,fe,oe){var le=fe&7,he=fe>>>3;return oe<<=le,te[he]|=oe&255,oe>>>=8,te[he+1]=oe,fe+8}function Je(te,fe,oe){var le=fe&7,he=fe>>>3;return oe<<=le,te[he]|=oe&255,oe>>>=8,te[he+1]=oe&255,te[he+2]=oe>>>8,fe+16}function dt(te,fe){var oe=te.length,le=2*oe>fe?2*oe:fe+5,he=0;if(oe>=fe)return te;if(Jt){var me=qT(le);if(te.copy)te.copy(me);else for(;he<te.length;++he)me[he]=te[he];return me}else if(K){var Te=new Uint8Array(le);if(Te.set)Te.set(te);else for(;he<oe;++he)Te[he]=te[he];return Te}return te.length=le,te}function be(te){for(var fe=new Array(te),oe=0;oe<te;++oe)fe[oe]=0;return fe}function at(te,fe,oe){var le=1,he=0,me=0,Te=0,Be=0,Pe=te.length,Le=K?new Uint16Array(32):be(32);for(me=0;me<32;++me)Le[me]=0;for(me=Pe;me<oe;++me)te[me]=0;Pe=te.length;var Ie=K?new Uint16Array(Pe):be(Pe);for(me=0;me<Pe;++me)Le[he=te[me]]++,le<he&&(le=he),Ie[me]=0;for(Le[0]=0,me=1;me<=le;++me)Le[me+16]=Be=Be+Le[me-1]<<1;for(me=0;me<Pe;++me)Be=te[me],Be!=0&&(Ie[me]=Le[Be+16]++);var tt=0;for(me=0;me<Pe;++me)if(tt=te[me],tt!=0)for(Be=G(Ie[me],le)>>le-tt,Te=(1<<le+4-tt)-1;Te>=0;--Te)fe[Be|Te<<tt]=tt&15|me<<4;return le}var ht=K?new Uint16Array(512):be(512),_t=K?new Uint16Array(32):be(32);if(!K){for(var Ct=0;Ct<512;++Ct)ht[Ct]=0;for(Ct=0;Ct<32;++Ct)_t[Ct]=0}(function(){for(var te=[],fe=0;fe<32;fe++)te.push(5);at(te,_t,32);var oe=[];for(fe=0;fe<=143;fe++)oe.push(8);for(;fe<=255;fe++)oe.push(9);for(;fe<=279;fe++)oe.push(7);for(;fe<=287;fe++)oe.push(8);at(oe,ht,288)})();var xt=function(){for(var fe=K?new Uint8Array(32768):[],oe=0,le=0;oe<V.length-1;++oe)for(;le<V[oe+1];++le)fe[le]=oe;for(;le<32768;++le)fe[le]=29;var he=K?new Uint8Array(259):[];for(oe=0,le=0;oe<X.length-1;++oe)for(;le<X[oe+1];++le)he[le]=oe;function me(Be,Pe){for(var Le=0;Le<Be.length;){var Ie=Math.min(65535,Be.length-Le),tt=Le+Ie==Be.length;for(Pe.write_shift(1,+tt),Pe.write_shift(2,Ie),Pe.write_shift(2,~Ie&65535);Ie-- >0;)Pe[Pe.l++]=Be[Le++]}return Pe.l}function Te(Be,Pe){for(var Le=0,Ie=0,tt=K?new Uint16Array(32768):[];Ie<Be.length;){var lt=Math.min(65535,Be.length-Ie);if(lt<10){for(Le=We(Pe,Le,+(Ie+lt==Be.length)),Le&7&&(Le+=8-(Le&7)),Pe.l=Le/8|0,Pe.write_shift(2,lt),Pe.write_shift(2,~lt&65535);lt-- >0;)Pe[Pe.l++]=Be[Ie++];Le=Pe.l*8;continue}Le=We(Pe,Le,+(Ie+lt==Be.length)+2);for(var gt=0;lt-- >0;){var it=Be[Ie];gt=(gt<<5^it)&32767;var pt=-1,$t=0;if((pt=tt[gt])&&(pt|=Ie&-32768,pt>Ie&&(pt-=32768),pt<Ie))for(;Be[pt+$t]==Be[Ie+$t]&&$t<250;)++$t;if($t>2){it=he[$t],it<=22?Le=Ue(Pe,Le,ce[it+1]>>1)-1:(Ue(Pe,Le,3),Le+=5,Ue(Pe,Le,ce[it-23]>>5),Le+=3);var br=it<8?0:it-4>>2;br>0&&(Je(Pe,Le,$t-X[it]),Le+=br),it=fe[Ie-pt],Le=Ue(Pe,Le,ce[it]>>3),Le-=3;var Cr=it<4?0:it-2>>1;Cr>0&&(Je(Pe,Le,Ie-pt-V[it]),Le+=Cr);for(var Un=0;Un<$t;++Un)tt[gt]=Ie&32767,gt=(gt<<5^Be[Ie])&32767,++Ie;lt-=$t-1}else it<=143?it=it+48:Le=ve(Pe,Le,1),Le=Ue(Pe,Le,ce[it]),tt[gt]=Ie&32767,++Ie}Le=Ue(Pe,Le,0)-1}return Pe.l=(Le+7)/8|0,Pe.l}return function(Pe,Le){return Pe.length<8?me(Pe,Le):Te(Pe,Le)}}();function nt(te){var fe=He(50+Math.floor(te.length*1.1)),oe=xt(te,fe);return fe.slice(0,oe)}var Qe=K?new Uint16Array(32768):be(32768),tr=K?new Uint16Array(32768):be(32768),jt=K?new Uint16Array(128):be(128),$r=1,ar=1;function dr(te,fe){var oe=ue(te,fe)+257;fe+=5;var le=ue(te,fe)+1;fe+=5;var he=Se(te,fe)+4;fe+=4;for(var me=0,Te=K?new Uint8Array(19):be(19),Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,Le=K?new Uint8Array(8):be(8),Ie=K?new Uint8Array(8):be(8),tt=Te.length,lt=0;lt<he;++lt)Te[D[lt]]=me=Ve(te,fe),Pe<me&&(Pe=me),Le[me]++,fe+=3;var gt=0;for(Le[0]=0,lt=1;lt<=Pe;++lt)Ie[lt]=gt=gt+Le[lt-1]<<1;for(lt=0;lt<tt;++lt)(gt=Te[lt])!=0&&(Be[lt]=Ie[gt]++);var it=0;for(lt=0;lt<tt;++lt)if(it=Te[lt],it!=0){gt=ce[Be[lt]]>>8-it;for(var pt=(1<<7-it)-1;pt>=0;--pt)jt[gt|pt<<it]=it&7|lt<<3}var $t=[];for(Pe=1;$t.length<oe+le;)switch(gt=jt[Me(te,fe)],fe+=gt&7,gt>>>=3){case 16:for(me=3+Ce(te,fe),fe+=2,gt=$t[$t.length-1];me-- >0;)$t.push(gt);break;case 17:for(me=3+Ve(te,fe),fe+=3;me-- >0;)$t.push(0);break;case 18:for(me=11+Me(te,fe),fe+=7;me-- >0;)$t.push(0);break;default:$t.push(gt),Pe<gt&&(Pe=gt);break}var br=$t.slice(0,oe),Cr=$t.slice(oe);for(lt=oe;lt<286;++lt)br[lt]=0;for(lt=le;lt<30;++lt)Cr[lt]=0;return $r=at(br,Qe,286),ar=at(Cr,tr,30),fe}function qa(te,fe){if(te[0]==3&&!(te[1]&3))return[Ru(fe),2];for(var oe=0,le=0,he=qT(fe||1<<18),me=0,Te=he.length>>>0,Be=0,Pe=0;!(le&1);){if(le=Ve(te,oe),oe+=3,le>>>1)le>>1==1?(Be=9,Pe=5):(oe=dr(te,oe),Be=$r,Pe=ar);else{oe&7&&(oe+=8-(oe&7));var Le=te[oe>>>3]|te[(oe>>>3)+1]<<8;if(oe+=32,Le>0)for(!fe&&Te<me+Le&&(he=dt(he,me+Le),Te=he.length);Le-- >0;)he[me++]=te[oe>>>3],oe+=8;continue}for(;;){!fe&&Te<me+32767&&(he=dt(he,me+32767),Te=he.length);var Ie=rt(te,oe,Be),tt=le>>>1==1?ht[Ie]:Qe[Ie];if(oe+=tt&15,tt>>>=4,!(tt>>>8&255))he[me++]=tt;else{if(tt==256)break;tt-=257;var lt=tt<8?0:tt-4>>2;lt>5&&(lt=0);var gt=me+X[tt];lt>0&&(gt+=rt(te,oe,lt),oe+=lt),Ie=rt(te,oe,Pe),tt=le>>>1==1?_t[Ie]:tr[Ie],oe+=tt&15,tt>>>=4;var it=tt<4?0:tt-2>>1,pt=V[tt];for(it>0&&(pt+=rt(te,oe,it),oe+=it),!fe&&Te<gt&&(he=dt(he,gt+100),Te=he.length);me<gt;)he[me]=he[me-pt],++me}}}return fe?[he,oe+7>>>3]:[he.slice(0,me),oe+7>>>3]}function Qt(te,fe){var oe=te.slice(te.l||0),le=qa(oe,fe);return te.l+=le[1],le[0]}function Li(te,fe){if(te)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function ye(te,fe){var oe=te;Ua(oe,0);var le=[],he=[],me={FileIndex:le,FullPaths:he};j(me,{root:fe.root});for(var Te=oe.length-4;(oe[Te]!=80||oe[Te+1]!=75||oe[Te+2]!=5||oe[Te+3]!=6)&&Te>=0;)--Te;oe.l=Te+4,oe.l+=4;var Be=oe.read_shift(2);oe.l+=6;var Pe=oe.read_shift(4);for(oe.l=Pe,Te=0;Te<Be;++Te){oe.l+=20;var Le=oe.read_shift(4),Ie=oe.read_shift(4),tt=oe.read_shift(2),lt=oe.read_shift(2),gt=oe.read_shift(2);oe.l+=8;var it=oe.read_shift(4),pt=l(oe.slice(oe.l+tt,oe.l+tt+lt));oe.l+=tt+lt+gt;var $t=oe.l;oe.l=it+4,Dt(oe,Le,Ie,me,pt),oe.l=$t}return me}function Dt(te,fe,oe,le,he){te.l+=2;var me=te.read_shift(2),Te=te.read_shift(2),Be=i(te);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=te.read_shift(4),Le=te.read_shift(4),Ie=te.read_shift(4),tt=te.read_shift(2),lt=te.read_shift(2),gt="",it=0;it<tt;++it)gt+=String.fromCharCode(te[te.l++]);if(lt){var pt=l(te.slice(te.l,te.l+lt));(pt[21589]||{}).mt&&(Be=pt[21589].mt),((he||{})[21589]||{}).mt&&(Be=he[21589].mt)}te.l+=lt;var $t=te.slice(te.l,te.l+Le);switch(Te){case 8:$t=M(te,Ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Te)}var br=!1;me&8&&(Pe=te.read_shift(4),Pe==134695760&&(Pe=te.read_shift(4),br=!0),Le=te.read_shift(4),Ie=te.read_shift(4)),Le!=fe&&Li(br,"Bad compressed size: "+fe+" != "+Le),Ie!=oe&&Li(br,"Bad uncompressed size: "+oe+" != "+Ie),An(le,gt,$t,{unsafe:!0,mt:Be})}function Ft(te,fe){var oe=fe||{},le=[],he=[],me=He(1),Te=oe.compression?8:0,Be=0,Pe=0,Le=0,Ie=0,tt=0,lt=te.FullPaths[0],gt=lt,it=te.FileIndex[0],pt=[],$t=0;for(Pe=1;Pe<te.FullPaths.length;++Pe)if(gt=te.FullPaths[Pe].slice(lt.length),it=te.FileIndex[Pe],!(!it.size||!it.content||gt=="Sh33tJ5")){var br=Ie,Cr=He(gt.length);for(Le=0;Le<gt.length;++Le)Cr.write_shift(1,gt.charCodeAt(Le)&127);Cr=Cr.slice(0,Cr.l),pt[tt]=ute.buf(it.content,0);var Un=it.content;Te==8&&(Un=B(Un)),me=He(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,Be),me.write_shift(2,Te),it.mt?s(me,it.mt):me.write_shift(4,0),me.write_shift(-4,pt[tt]),me.write_shift(4,Un.length),me.write_shift(4,it.content.length),me.write_shift(2,Cr.length),me.write_shift(2,0),Ie+=me.length,le.push(me),Ie+=Cr.length,le.push(Cr),Ie+=Un.length,le.push(Un),me=He(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,Be),me.write_shift(2,Te),me.write_shift(4,0),me.write_shift(-4,pt[tt]),me.write_shift(4,Un.length),me.write_shift(4,it.content.length),me.write_shift(2,Cr.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,br),$t+=me.l,he.push(me),$t+=Cr.length,he.push(Cr),++tt}return me=He(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,tt),me.write_shift(2,tt),me.write_shift(4,$t),me.write_shift(4,Ie),me.write_shift(2,0),Ea([Ea(le),Ea(he),me])}var It={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function At(te,fe){if(te.ctype)return te.ctype;var oe=te.name||"",le=oe.match(/\.([^\.]+)$/);return le&&It[le[1]]||fe&&(le=(oe=fe).match(/[\.\\]([^\.\\])+$/),le&&It[le[1]])?It[le[1]]:"application/octet-stream"}function qt(te){for(var fe=cg(te),oe=[],le=0;le<fe.length;le+=76)oe.push(fe.slice(le,le+76));return oe.join(`\r
`)+`\r
`}function aa(te){var fe=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Le){var Ie=Le.charCodeAt(0).toString(16).toUpperCase();return"="+(Ie.length==1?"0"+Ie:Ie)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],le=fe.split(`\r
`),he=0;he<le.length;++he){var me=le[he];if(me.length==0){oe.push("");continue}for(var Te=0;Te<me.length;){var Be=76,Pe=me.slice(Te,Te+Be);Pe.charAt(Be-1)=="="?Be--:Pe.charAt(Be-2)=="="?Be-=2:Pe.charAt(Be-3)=="="&&(Be-=3),Pe=me.slice(Te,Te+Be),Te+=Be,Te<me.length&&(Pe+="="),oe.push(Pe)}}return oe.join(`\r
`)}function Ge(te){for(var fe=[],oe=0;oe<te.length;++oe){for(var le=te[oe];oe<=te.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+te[++oe];fe.push(le)}for(var he=0;he<fe.length;++he)fe[he]=fe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return gi(fe.join(`\r
`))}function vr(te,fe,oe){for(var le="",he="",me="",Te,Be=0;Be<10;++Be){var Pe=fe[Be];if(!Pe||Pe.match(/^\s*$/))break;var Le=Pe.match(/^(.*?):\s*([^\s].*)$/);if(Le)switch(Le[1].toLowerCase()){case"content-location":le=Le[2].trim();break;case"content-type":me=Le[2].trim();break;case"content-transfer-encoding":he=Le[2].trim();break}}switch(++Be,he.toLowerCase()){case"base64":Te=gi(Ei(fe.slice(Be).join("")));break;case"quoted-printable":Te=Ge(fe.slice(Be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Ie=An(te,le.slice(oe.length),Te,{unsafe:!0});me&&(Ie.ctype=me)}function ys(te,fe){if(U(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=fe&&fe.root||"",le=(Jt&&Buffer.isBuffer(te)?te.toString("binary"):U(te)).split(`\r
`),he=0,me="";for(he=0;he<le.length;++he)if(me=le[he],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),oe||(oe=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),me.slice(0,oe.length)!=oe););var Te=(le[1]||"").match(/boundary="(.*?)"/);if(!Te)throw new Error("MAD cannot find boundary");var Be="--"+(Te[1]||""),Pe=[],Le=[],Ie={FileIndex:Pe,FullPaths:Le};j(Ie);var tt,lt=0;for(he=0;he<le.length;++he){var gt=le[he];gt!==Be&&gt!==Be+"--"||(lt++&&vr(Ie,le.slice(tt,he),oe),tt=he)}return Ie}function Ot(te,fe){var oe=fe||{},le=oe.boundary||"SheetJS";le="------="+le;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],me=te.FullPaths[0],Te=me,Be=te.FileIndex[0],Pe=1;Pe<te.FullPaths.length;++Pe)if(Te=te.FullPaths[Pe].slice(me.length),Be=te.FileIndex[Pe],!(!Be.size||!Be.content||Te=="Sh33tJ5")){Te=Te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($t){return"_x"+$t.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($t){return"_u"+$t.charCodeAt(0).toString(16)+"_"});for(var Le=Be.content,Ie=Jt&&Buffer.isBuffer(Le)?Le.toString("binary"):U(Le),tt=0,lt=Math.min(1024,Ie.length),gt=0,it=0;it<=lt;++it)(gt=Ie.charCodeAt(it))>=32&&gt<128&&++tt;var pt=tt>=lt*4/5;he.push(le),he.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Te),he.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),he.push("Content-Type: "+At(Be,Te)),he.push(""),he.push(pt?aa(Ie):qt(Ie))}return he.push(le+`--\r
`),he.join(`\r
`)}function bs(te){var fe={};return j(fe,te),fe}function An(te,fe,oe,le){var he=le&&le.unsafe;he||j(te);var me=!he&&Pt.find(te,fe);if(!me){var Te=te.FullPaths[0];fe.slice(0,Te.length)==Te?Te=fe:(Te.slice(-1)!="/"&&(Te+="/"),Te=(Te+fe).replace("//","/")),me={name:a(fe),type:2},te.FileIndex.push(me),te.FullPaths.push(Te),he||Pt.utils.cfb_gc(te)}return me.content=oe,me.size=oe?oe.length:0,le&&(le.CLSID&&(me.clsid=le.CLSID),le.mt&&(me.mt=le.mt),le.ct&&(me.ct=le.ct)),me}function ya(te,fe){j(te);var oe=Pt.find(te,fe);if(oe){for(var le=0;le<te.FileIndex.length;++le)if(te.FileIndex[le]==oe)return te.FileIndex.splice(le,1),te.FullPaths.splice(le,1),!0}return!1}function Wr(te,fe,oe){j(te);var le=Pt.find(te,fe);if(le){for(var he=0;he<te.FileIndex.length;++he)if(te.FileIndex[he]==le)return te.FileIndex[he].name=a(oe),te.FullPaths[he]=oe,!0}return!1}function yr(te){C(te,!0)}return t.find=T,t.read=S,t.parse=d,t.write=Q,t.writeFile=Y,t.utils={cfb_new:bs,cfb_add:An,cfb_del:ya,cfb_mov:Wr,cfb_gc:yr,ReadShift:yp,CheckField:a9,prep_blob:Ua,bconcat:Ea,use_zlib:F,_deflateRaw:nt,_inflateRaw:Qt,consts:z},t}();function dte(e){return typeof e=="string"?y2(e):Array.isArray(e)?Mee(e):e}function ax(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=y2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?xl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([dte(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=rd(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function fte(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function jn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function eP(e,t){for(var r=[],n=jn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function w2(e){for(var t=[],r=jn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function k2(e){for(var t=[],r=jn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function hte(e){for(var t=[],r=jn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var By=new Date(1899,11,30,0,0,0);function ha(e,t){var r=e.getTime(),n=By.getTime()+(e.getTimezoneOffset()-By.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var MR=new Date,mte=By.getTime()+(MR.getTimezoneOffset()-By.getTimezoneOffset())*6e4,tP=MR.getTimezoneOffset();function N2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+mte),t.getTimezoneOffset()!==tP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-tP)*6e4),t}function pte(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var rP=new Date("2017-02-19T19:06:09.000Z"),RR=isNaN(rP.getFullYear())?new Date("2/19/17"):rP,gte=RR.getFullYear()==2017;function Yr(e,t){var r=new Date(e);if(gte)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(RR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function h0(e,t){if(Jt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return xl(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return xl(jR(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return xl(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return xl(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Xr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Xr(e[r]));return t}function wn(e,t){for(var r="";r.length<t;)r+=e;return r}function Ho(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var xte=["january","february","march","april","may","june","july","august","september","october","november","december"];function hh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&xte.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var vte=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}}();function BR(e){return e?e.content&&e.type?h0(e.content,!0):e.data?np(e.data):e.asNodeBuffer&&Jt?np(e.asNodeBuffer().toString("binary")):e.asBinary?np(e.asBinary()):e._data&&e._data.getContent?np(h0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function zR(e){if(!e)return null;if(e.data)return HT(e.data);if(e.asNodeBuffer&&Jt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?HT(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function yte(e){return e&&e.name.slice(-4)===".bin"?zR(e):BR(e)}function Ji(e,t){for(var r=e.FullPaths||jn(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function W3(e,t){var r=Ji(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Gn(e,t,r){if(!r)return yte(W3(e,t));if(!t)return null;try{return Gn(e,t)}catch{return null}}function xi(e,t,r){if(!r)return BR(W3(e,t));if(!t)return null;try{return xi(e,t)}catch{return null}}function bte(e,t,r){return zR(W3(e,t))}function nP(e){for(var t=e.FullPaths||jn(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Zt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Jt?n=Tc(r):n=Ree(r),Pt.utils.cfb_add(e,t,n)}Pt.utils.cfb_add(e,t,r)}else e.file(t,r)}function H3(){return Pt.utils.cfb_new()}function UR(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function sp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var zn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,wte=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,aP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,kte=/<[^>]*>/g,xs=zn.match(aP)?aP:kte,Nte=/<\w*:/,Ste=/<(\/?)\w+:/;function Ut(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(wte),l=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Fl(e){return e.replace(Ste,"<$1")}var $R={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},V3=w2($R),cr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return $R[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),q3=/[&<>'"]/g,jte=/[\u0000-\u0008\u000b-\u001f]/g;function Ar(e){var t=e+"";return t.replace(q3,function(r){return V3[r]}).replace(jte,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function sP(e){return Ar(e).replace(/ /g,"_x0020_")}var WR=/[\u0000-\u001f]/g;function G3(e){var t=e+"";return t.replace(q3,function(r){return V3[r]}).replace(/\n/g,"<br/>").replace(WR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Ate(e){var t=e+"";return t.replace(q3,function(r){return V3[r]}).replace(WR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var iP=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function _te(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function qr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function uk(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function oP(e){var t=Ru(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function lP(e){return Tc(e,"binary").toString("utf8")}var Z1="foo bar baz",Pr=Jt&&(lP(Z1)==uk(Z1)&&lP||oP(Z1)==uk(Z1)&&oP)||uk,xl=Jt?function(e){return Tc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},dg=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),HR=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Ete=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Cte=/<\/?(?:vt:)?variant>/g,Tte=/<(?:vt:)([^>]*)>([\s\S]*)</;function cP(e,t){var r=Ut(e),n=e.match(Ete(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Cte,"").match(Tte);i&&a.push({v:Pr(i[2]),t:i[1]})}),a}var VR=/(^\s|\s$|\n)/;function $a(e,t){return"<"+e+(t.match(VR)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function fg(e){return jn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ct(e,t,r){return"<"+e+(r!=null?fg(r):"")+(t!=null?(t.match(VR)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function C4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Pte(e,t){switch(typeof e){case"string":var r=ct("vt:lpwstr",Ar(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ct((e|0)==e?"vt:i4":"vt:r8",Ar(String(e)));case"boolean":return ct("vt:bool",e?"true":"false")}if(e instanceof Date)return ct("vt:filetime",C4(e));throw new Error("Unable to serialize "+e)}function K3(e){if(Jt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Pr(rd(z3(e)));throw new Error("Bad input format: expected Buffer or string")}var hg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ca={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},T0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Ote(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Fte(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var uP=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},dP=Jt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Tc(t)})):uP(e)}:uP,fP=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(rc(e,a)));return n.join("").replace(Ps,"")},Y3=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ps,""):fP(e,t,r)}:fP,hP=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},qR=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):hP(e,t,r)}:hP,mP=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(bf(e,a)));return n.join("")},sx=Jt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):mP(t,r,n)}:mP,GR=function(e,t){var r=pi(e,t);return r>0?sx(e,t+4,t+4+r-1):""},KR=GR,YR=function(e,t){var r=pi(e,t);return r>0?sx(e,t+4,t+4+r-1):""},XR=YR,ZR=function(e,t){var r=2*pi(e,t);return r>0?sx(e,t+4,t+4+r-1):""},JR=ZR,QR=function(t,r){var n=pi(t,r);return n>0?Y3(t,r+4,r+4+n):""},e9=QR,t9=function(e,t){var r=pi(e,t);return r>0?sx(e,t+4,t+4+r):""},r9=t9,n9=function(e,t){return Ote(e,t)},zy=n9,X3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Jt&&(KR=function(t,r){if(!Buffer.isBuffer(t))return GR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},XR=function(t,r){if(!Buffer.isBuffer(t))return YR(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},JR=function(t,r){if(!Buffer.isBuffer(t))return ZR(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},e9=function(t,r){if(!Buffer.isBuffer(t))return QR(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},r9=function(t,r){if(!Buffer.isBuffer(t))return t9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},zy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):n9(t,r)},X3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var bf=function(e,t){return e[t]},rc=function(e,t){return e[t+1]*256+e[t]},Lte=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},pi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Cd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Dte=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yp(e,t){var r="",n,a,s=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Jt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(rc(this,u)),u+=2;e*=2;break;case"utf8":r=sx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Y3(this,this.l,this.l+e);break;case"wstr":return yp.call(this,e,"dbcs");case"lpstr-ansi":r=KR(this,this.l),e=4+pi(this,this.l);break;case"lpstr-cp":r=XR(this,this.l),e=4+pi(this,this.l);break;case"lpwstr":r=JR(this,this.l),e=4+2*pi(this,this.l);break;case"lpp4":e=4+pi(this,this.l),r=e9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+pi(this,this.l),r=r9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=bf(this,this.l+e++))!==0;)s.push(X1(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=rc(this,this.l+e))!==0;)s.push(X1(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=bf(this,u),this.l=u+1,l=yp.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(X1(rc(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=bf(this,u),this.l=u+1,l=yp.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(X1(bf(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=bf(this,this.l),this.l++,n;case 2:return n=(t==="i"?Lte:rc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Cd:Dte)(this,this.l),this.l+=4,n):(a=pi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=zy(this,this.l):a=zy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=qR(this,this.l,e);break}}return this.l+=e,r}var Ite=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Mte=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Rte=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Bte(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Rte(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Ite(this,t,this.l);break;case 8:if(n=8,r==="f"){Fte(this,t,this.l);break}case 16:break;case-4:n=4,Mte(this,t,this.l);break}return this.l+=n,this}function a9(e,t){var r=qR(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ua(e,t){e.l=t,e.read_shift=yp,e.chk=a9,e.write_shift=Bte}function gs(e,t){e.l+=t}function He(e){var t=Ru(e);return Ua(t,0),t}function Pc(e,t,r){if(e){var n,a,s;Ua(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=yg[l]||yg[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function ri(){var e=[],t=Jt?256:2048,r=function(u){var d=He(u);return Ua(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),Ea(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function Xe(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=yg[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&X3(r)&&e.push(r)}}function bp(e,t,r){var n=Xr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function pP(e,t,r){var n=Xr(e);return n.s=bp(n.s,t.s,r),n.e=bp(n.e,t.s,r),n}function wp(e,t){if(e.cRel&&e.c<0)for(e=Xr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Bt(e);return!e.cRel&&e.cRel!=null&&(r=$te(r)),!e.rRel&&e.rRel!=null&&(r=zte(r)),r}function dk(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+cn(e.s.c)+":"+(e.e.cRel?"":"$")+cn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Rn(e.s.r)+":"+(e.e.rRel?"":"$")+Rn(e.e.r):wp(e.s,t.biff)+":"+wp(e.e,t.biff)}function Z3(e){return parseInt(Ute(e),10)-1}function Rn(e){return""+(e+1)}function zte(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ute(e){return e.replace(/\$(\d+)$/,"$1")}function J3(e){for(var t=Wte(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function cn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function $te(e){return e.replace(/^([A-Z])/,"$$$1")}function Wte(e){return e.replace(/^\$([A-Z])/,"$1")}function Hte(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function un(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Bt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ni(e){var t=e.indexOf(":");return t==-1?{s:un(e),e:un(e)}:{s:un(e.slice(0,t)),e:un(e.slice(t+1))}}function Xt(e,t){return typeof t>"u"||typeof t=="number"?Xt(e.s,e.e):(typeof e!="string"&&(e=Bt(e)),typeof t!="string"&&(t=Bt(t)),e==t?e:e+":"+t)}function ur(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function gP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=fo(e.z,r?ha(t):t)}catch{}try{return e.w=fo((e.XF||{}).numFmtId||(r?14:0),r?ha(t):t)}catch{return""+t}}function xc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Oc[e.v]||e.v:t==null?gP(e,e.v):gP(e,t))}function nd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function s9(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?un(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=ur(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=i+f,g=l+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Mt[14],n.cellDates?(m.t="d",m.w=fo(m.z,ha(m.v))):(m.t="n",m.v=ha(m.v),m.w=fo(m.z,m.v))):m.t="s";if(a)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(m.z=s[p][g].z),s[p][g]=m;else{var x=Bt({c:g,r:p});s[x]&&s[x].z&&(m.z=s[x].z),s[x]=m}}}return u.s.c<1e7&&(s["!ref"]=Xt(u)),s}function zh(e,t){return s9(null,e,t)}function Vte(e){return e.read_shift(4,"i")}function Vo(e,t){return t||(t=He(4)),t.write_shift(4,e),t}function hs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ca(e,t){var r=!1;return t==null&&(r=!0,t=He(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function qte(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Gte(e,t){return t||(t=He(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Q3(e,t){var r=e.l,n=e.read_shift(1),a=hs(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(qte(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function Kte(e,t){var r=!1;return t==null&&(r=!0,t=He(15+4*e.t.length)),t.write_shift(1,0),Ca(e.t,t),r?t.slice(0,t.l):t}var Yte=Q3;function Xte(e,t){var r=!1;return t==null&&(r=!0,t=He(23+4*e.t.length)),t.write_shift(1,1),Ca(e.t,t),t.write_shift(4,1),Gte({},t),r?t.slice(0,t.l):t}function go(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function P0(e,t){return t==null&&(t=He(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function O0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function F0(e,t){return t==null&&(t=He(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Zte=hs,i9=Ca;function eA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Uy(e,t){var r=!1;return t==null&&(r=!0,t=He(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Jte=hs,T4=eA,tA=Uy;function rA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?zy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Cd(t,0)>>2;return r?a/100:a}function o9(e,t){t==null&&(t=He(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function l9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Qte(e,t){return t||(t=He(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var L0=l9,Uh=Qte;function cs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function m0(e,t){return(t||He(8)).write_shift(8,e,"f")}function ere(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=qd[a];u&&(t.rgb=pg(u));break;case 2:t.rgb=pg([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function $y(e,t){if(t||(t=He(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function tre(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function rre(e,t){t||(t=He(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function c9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function nre(e){return c9(e,1)}function are(e){return c9(e,2)}var nA=2,$s=3,J1=11,xP=12,Wy=19,Q1=64,sre=65,ire=71,ore=4108,lre=4126,ja=80,u9=81,cre=[ja,u9],P4={1:{n:"CodePage",t:nA},2:{n:"Category",t:ja},3:{n:"PresentationFormat",t:ja},4:{n:"ByteCount",t:$s},5:{n:"LineCount",t:$s},6:{n:"ParagraphCount",t:$s},7:{n:"SlideCount",t:$s},8:{n:"NoteCount",t:$s},9:{n:"HiddenCount",t:$s},10:{n:"MultimediaClipCount",t:$s},11:{n:"ScaleCrop",t:J1},12:{n:"HeadingPairs",t:ore},13:{n:"TitlesOfParts",t:lre},14:{n:"Manager",t:ja},15:{n:"Company",t:ja},16:{n:"LinksUpToDate",t:J1},17:{n:"CharacterCount",t:$s},19:{n:"SharedDoc",t:J1},22:{n:"HyperlinksChanged",t:J1},23:{n:"AppVersion",t:$s,p:"version"},24:{n:"DigSig",t:sre},26:{n:"ContentType",t:ja},27:{n:"ContentStatus",t:ja},28:{n:"Language",t:ja},29:{n:"Version",t:ja},255:{},2147483648:{n:"Locale",t:Wy},2147483651:{n:"Behavior",t:Wy},1919054434:{}},O4={1:{n:"CodePage",t:nA},2:{n:"Title",t:ja},3:{n:"Subject",t:ja},4:{n:"Author",t:ja},5:{n:"Keywords",t:ja},6:{n:"Comments",t:ja},7:{n:"Template",t:ja},8:{n:"LastAuthor",t:ja},9:{n:"RevNumber",t:ja},10:{n:"EditTime",t:Q1},11:{n:"LastPrinted",t:Q1},12:{n:"CreatedDate",t:Q1},13:{n:"ModifiedDate",t:Q1},14:{n:"PageCount",t:$s},15:{n:"WordCount",t:$s},16:{n:"CharCount",t:$s},17:{n:"Thumbnail",t:ire},18:{n:"Application",t:ja},19:{n:"DocSecurity",t:$s},255:{},2147483648:{n:"Locale",t:Wy},2147483651:{n:"Behavior",t:Wy},1919054434:{}},vP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ure=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function dre(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var fre=dre([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qd=Xr(fre),Oc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},d9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},F4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ev={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function aA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hre(e){var t=aA();if(!e||!e.match)return t;var r={};if((e.match(xs)||[]).forEach(function(n){var a=Ut(n);switch(a[0].replace(Nte,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[F4[a.ContentType]]!==void 0&&t[F4[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ca.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function f9(e,t){var r=hte(F4),n=[],a;n[n.length]=zn,n[n.length]=ct("Types",null,{xmlns:ca.CT,"xmlns:xsd":ca.xsd,"xmlns:xsi":ca.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ct("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ct("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:ev[c][t.bookType]||ev[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ct("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:ev[c][t.bookType]||ev[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ct("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var er={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function mg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function kp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(xs)||[]).forEach(function(a){var s=Ut(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:sp(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}function Zf(e){var t=[zn,ct("Relationships",null,{xmlns:ca.RELS})];return jn(e["!id"]).forEach(function(r){t[t.length]=ct("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Sr(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[er.HLINK,er.XPATH,er.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var mre="application/vnd.oasis.opendocument.spreadsheet";function pre(e,t){for(var r=K3(e),n,a;n=hg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ut(n[0],!1),a.path=="/"&&a.type!==mre)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function gre(e){var t=[zn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function yP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function xre(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function vre(e){var t=[zn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(yP(e[r][0],e[r][1])),t.push(xre("",e[r][0]));return t.push(yP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function h9(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Dy.version+"</meta:generator></office:meta></office:document-meta>"}var io=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],yre=function(){for(var e=new Array(io.length),t=0;t<io.length;++t){var r=io[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function m9(e){var t={};e=Pr(e);for(var r=0;r<io.length;++r){var n=io[r],a=e.match(yre[r]);a!=null&&a.length>0&&(t[n[1]]=cr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Yr(t[n[1]]))}return t}function fk(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Ar(t),n[n.length]=r?ct(e,t,r):$a(e,t))}function p9(e,t){var r=t||{},n=[zn,ct("cp:coreProperties",null,{"xmlns:cp":ca.CORE_PROPS,"xmlns:dc":ca.dc,"xmlns:dcterms":ca.dcterms,"xmlns:dcmitype":ca.dcmitype,"xmlns:xsi":ca.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&fk("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:C4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&fk("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:C4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=io.length;++s){var i=io[s],l=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&fk(i[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Gd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],g9=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function x9(e,t,r,n){var a=[];if(typeof e=="string")a=cP(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?cP(t,n).map(function(d){return d.v}):t,l=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function bre(e,t,r){var n={};return t||(t={}),e=Pr(e),Gd.forEach(function(a){var s=(e.match(dg(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=cr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&x9(n.HeadingPairs,n.TitlesOfParts,t,r),t}function v9(e){var t=[],r=ct;return e||(e={}),e.Application="SheetJS",t[t.length]=zn,t[t.length]=ct("Properties",null,{xmlns:ca.EXT_PROPS,"xmlns:vt":ca.vt}),Gd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Ar(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Ar(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var wre=/<[^>]+>[^<]*/g;function kre(e,t){var r={},n="",a=e.match(wre);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=Ut(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=cr(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=cr(d);break;case"bool":r[n]=qr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Yr(d);break;case"cy":case"error":r[n]=cr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function y9(e){var t=[zn,ct("Properties",null,{xmlns:ca.CUST_PROPS,"xmlns:vt":ca.vt})];if(!e)return t.join("");var r=1;return jn(e).forEach(function(a){++r,t[t.length]=ct("property",Pte(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ar(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var L4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},hk;function Nre(e,t,r){hk||(hk=w2(L4)),t=hk[t]||t,e[t]=r}function Sre(e,t){var r=[];return jn(L4).map(function(n){for(var a=0;a<io.length;++a)if(io[a][1]==n)return io[a];for(a=0;a<Gd.length;++a)if(Gd[a][1]==n)return Gd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push($a(L4[n[1]]||n[1],a))}}),ct("DocumentProperties",r.join(""),{xmlns:mi.o})}function jre(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&jn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<io.length;++i)if(s==io[i][1])return;for(i=0;i<Gd.length;++i)if(s==Gd[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ct(sP(s),l,{"dt:dt":c}))}}),t&&jn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),a.push(ct(sP(s),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+mi.o+'">'+a.join("")+"</"+n+">"}function sA(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Are(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=He(8);return i.write_shift(4,n),i.write_shift(4,a),i}function b9(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function w9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function k9(e,t,r){return t===31?w9(e):b9(e,t,r)}function D4(e,t,r){return k9(e,t,r===!1?0:4)}function _re(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return k9(e,t,0)}function Ere(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ps,""),e.l-a&2&&(e.l+=2)}return r}function Cre(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ps,"");return r}function Tre(e){var t=e.l,r=Hy(e,u9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Hy(e,$s);return[r,n]}function Pre(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Tre(e));return r}function bP(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Ps,"").replace(ap,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function N9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Ore(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Hy(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==xP&&n!==t&&cre.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===xP?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return b9(e,n,4).replace(Ps,"");case 31:return w9(e);case 64:return sA(e);case 65:return N9(e);case 71:return Ore(e);case 80:return D4(e,n,!s.raw).replace(Ps,"");case 81:return _re(e,n).replace(Ps,"");case 4108:return Pre(e);case 4126:case 4127:return n==4127?Ere(e):Cre(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function wP(e,t){var r=He(4),n=He(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=He(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Are(t);break;case 31:case 80:for(n=He(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ea([r,n])}function kP(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(y,b){return y[1]-b[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var p=t[s[i][0]];if(h[p.n]=Hy(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Bo(l=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[i][0]===1){if(l=h.CodePage=Hy(e,nA),Bo(l),c!==-1){var g=e.l;e.l=s[c][1],u=bP(e,l),e.l=g}}else if(s[i][0]===0){if(l===0){c=i,e.l=s[i+1][1];continue}u=bP(e,l)}else{var x=u[s[i][0]],v;switch(e[e.l]){case 65:e.l+=4,v=N9(e);break;case 30:e.l+=4,v=D4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=D4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=Tn(e,4);break;case 64:e.l+=4,v=Yr(sA(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=v}}return e.l=r+n,h}var S9=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Fre(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function NP(e,t,r){var n=He(8),a=[],s=[],i=8,l=0,c=He(8),u=He(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),i+=8+c.length,!t){u=He(8),u.write_shift(4,0),a.unshift(u);var d=[He(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=He(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Ea(d),s.unshift(c),i+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(S9.indexOf(e[l][0])>-1||g9.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}c=wP(p.t,h)}else{var x=Fre(h);x==-1&&(x=31,h=String(h)),c=wP(x,h)}s.push(c),u=He(8),u.write_shift(4,t?m:2+l),a.push(u),i+=8+c.length}var v=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,v),v+=s[l].length;return n.write_shift(4,i),n.write_shift(4,s.length),Ea([n].concat(a).concat(s))}function SP(e,t,r){var n=e.content;if(!n)return{};Ua(n,0);var a,s,i,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Pt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=kP(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=kP(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[s,i],h}function jP(e,t,r,n,a,s){var i=He(a?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Pt.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var c=NP(e,r,n);if(l.push(c),a){var u=NP(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),l.push(u)}return Ea(l)}function tu(e,t){return e.read_shift(t),null}function Lre(e,t){t||(t=He(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Dre(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Tn(e,t){return e.read_shift(t)===1}function As(e,t){return t||(t=He(2)),t.write_shift(2,+!!e),t}function Kn(e){return e.read_shift(2,"u")}function Qi(e,t){return t||(t=He(2)),t.write_shift(2,e),t}function j9(e,t){return Dre(e,t,Kn)}function Ire(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function A9(e,t,r){return r||(r=He(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function ix(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Mre(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,c={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Rre(e){var t=e.t||"",r=He(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=He(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ea(a)}function p0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ox(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):p0(e,n,r)}function D0(e,t,r){if(r.biff>5)return ox(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function _9(e,t,r){return r||(r=He(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Bre(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function zre(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ps,"");return n&&(e.l+=24),a}function Ure(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Ps,"");return r+i}function $re(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return zre(e);case"0303000000000000c000000000000046":return Ure(e);default:throw new Error("Unsupported Moniker "+r)}}function tv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ps,""):"";return r}function AP(e,t){t||(t=He(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Wre(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,c,u="",d,f;a&16&&(s=tv(e,r-e.l)),a&128&&(i=tv(e,r-e.l)),(a&257)===257&&(l=tv(e,r-e.l)),(a&257)===1&&(c=$re(e,r-e.l)),a&8&&(u=tv(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=sA(e)),e.l=r;var h=i||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function Hre(e){var t=He(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),AP(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&AP(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function E9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function C9(e,t){var r=E9(e);return r[3]=0,r}function Ll(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function g0(e,t,r,n){return n||(n=He(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Vre(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function qre(e,t,r){return t===0?"":D0(e,t,r)}function Gre(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function T9(e){var t=e.read_shift(2),r=rA(e);return[t,r]}function Kre(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ix(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function S2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function P9(e,t){return t||(t=He(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function O9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Yre=O9;function F9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Xre(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Zre(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Za(e){e.l+=2,e.l+=e.read_shift(2)}var Jre={0:Za,4:Za,5:Za,6:Za,7:Zre,8:Za,9:Za,10:Za,11:Za,12:Za,13:Xre,14:Za,15:Za,16:Za,17:Za,18:Za,19:Za,20:Za,21:F9};function Qre(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Jre[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function rv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function iA(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=He(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function ene(e,t){return t===0||e.read_shift(2),1200}function tne(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=D0(e,0,r);return e.read_shift(t+n-e.l),a}function rne(e,t){var r=!t||t.biff==8,n=He(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function nne(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function ane(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=ix(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function sne(e,t){var r=!t||t.biff>=8?2:1,n=He(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function ine(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Mre(e));return s.Count=n,s.Unique=a,s}function one(e,t){var r=He(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Rre(e[a]);var s=Ea([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function lne(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function cne(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function une(e){var t=Vre(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function dne(e){return e.read_shift(2),e.read_shift(4)}function _P(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function fne(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:c,TabRatio:u}}function hne(){var e=He(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function mne(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function pne(e){var t=He(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function gne(){}function xne(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ix(e,0,r),n}function vne(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=He(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function yne(e){var t=Ll(e);return t.isst=e.read_shift(4),t}function bne(e,t,r,n){var a=He(10);return g0(e,t,n,a),a.write_shift(4,r),a}function wne(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ll(e);r.biff==2&&e.l++;var s=ox(e,n-e.l,r);return a.val=s,a}function kne(e,t,r,n,a){var s=!a||a.biff==8,i=He(8+ +s+(1+s)*r.length);return g0(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function Nne(e,t,r){var n=e.read_shift(2),a=D0(e,0,r);return[n,a]}function Sne(e,t,r,n){var a=r&&r.biff==5;n||(n=He(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var jne=D0;function EP(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c}}}function Ane(e,t){var r=t.biff==8||!t.biff?4:2,n=He(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function _ne(e){var t=e.read_shift(2),r=e.read_shift(2),n=T9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Ene(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(T9(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function Cne(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function Tne(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=ure[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Pne(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Tne(e,t,n.fStyle,r),n}function CP(e,t,r,n){var a=r&&r.biff==5;n||(n=He(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function One(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Fne(e){var t=He(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function TP(e,t,r){var n=Ll(e);(r.biff==2||t==9)&&++e.l;var a=Ire(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Lne(e,t,r,n,a,s){var i=He(8);return g0(e,t,n,i),A9(r,s,i),i}function Dne(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ll(e),a=cs(e);return n.val=a,n}function Ine(e,t,r,n){var a=He(14);return g0(e,t,n,a),m0(r,a),a}var PP=qre;function Mne(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=p0(e,s),l=[];n>e.l;)l.push(ox(e));return[s,a,i,l]}function OP(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Kre(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Rne=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function FP(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=p0(e,i,r);a&32&&(u=Rne[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:Qoe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function L9(e,t,r){if(r.biff<8)return Bne(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Gre(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Bne(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ix(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function zne(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=p0(e,n,r),i=p0(e,a,r);return[s,i]}function Une(e,t,r){var n=O9(e);e.l++;var a=e.read_shift(1);return t-=8,[ele(e,t,r),a,n]}function LP(e,t,r){var n=Yre(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Zoe(e,t,r)]}function $ne(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Wne(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=D0(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function Hne(e,t,r){return Wne(e,t,r)}function Vne(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(S2(e));return r}function qne(e){var t=He(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)P9(e[r],t);return t}function Gne(e,t,r){if(r&&r.biff<8)return Yne(e,t,r);var n=F9(e),a=Qre(e,t-22,n[1]);return{cmo:n,ft:a}}var Kne={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Yne(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((Kne[n]||gs)(e,t,r)),{cmo:[a,n,s],ft:i}}function Xne(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Bre(e,6,r);var l=e.read_shift(2);e.read_shift(2),Kn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=p0(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Zne(e,t){var r=S2(e);e.l+=16;var n=Wre(e,t-24);return[r,n]}function Jne(e){var t=He(24),r=un(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ea([t,Hre(e[1])])}function Qne(e,t){e.read_shift(2);var r=S2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ps,""),[r,n]}function eae(e){var t=e[1].Tooltip,r=He(10+2*(t.length+1));r.write_shift(2,2048);var n=un(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function tae(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=vP[r]||r,r=e.read_shift(2),t[1]=vP[r]||r,t}function rae(e){return e||(e=He(4)),e.write_shift(2,1),e.write_shift(2,1),e}function nae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(C9(e));return r}function aae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(C9(e));return r}function sae(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function D9(e,t,r){if(!r.cellStyles)return gs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function iae(e,t){var r=He(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oae(e,t){var r={};return t<32||(e.l+=16,r.header=cs(e),r.footer=cs(e),e.l+=2),r}function lae(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function cae(e){for(var t=He(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var uae=Ll,dae=j9,fae=ox;function hae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function mae(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ll(e);++e.l;var a=D0(e,t-7,r);return n.t="str",n.val=a,n}function pae(e){var t=Ll(e);++e.l;var r=cs(e);return t.t="n",t.val=r,t}function gae(e,t,r){var n=He(15);return dx(n,e,t),n.write_shift(8,r,"f"),n}function xae(e){var t=Ll(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function vae(e,t,r){var n=He(9);return dx(n,e,t),n.write_shift(2,r),n}function yae(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function bae(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function wae(e,t,r){var n=e.l+t,a=Ll(e),s=e.read_shift(2),i=p0(e,s,r);return e.l=n,a.t="str",a.val=i,a}var kae=[2,3,48,49,131,139,140,245],I4=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=w2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Ru(1);switch(c.type){case"base64":d=gi(Ei(l));break;case"binary":d=gi(l);break;case"buffer":case"array":d=l;break}Ua(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var b=[],N={},A=Math.min(d.length,f==2?521:x-10-(m?264:0)),S=p?32:11;d.l<A&&d[d.l]!=13;)switch(N={},N.name=lg.utils.decode(y,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,N.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),f==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&b.push(N),f!=2&&(d.l+=p?13:14),N.type){case"B":(!m||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var j=0,E=0;for(u[0]=[],E=0;E!=b.length;++E)u[0][E]=b[E].name;for(;g-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++j]=[],E=0,E=0;E!=b.length;++E){var C=d.slice(d.l,d.l+b[E].len);d.l+=b[E].len,Ua(C,0);var I=lg.utils.decode(y,C);switch(b[E].type){case"C":I.trim().length&&(u[j][E]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[j][E]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[j][E]=I;break;case"F":u[j][E]=parseFloat(I.trim());break;case"+":case"I":u[j][E]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[j][E]=!0;break;case"N":case"F":u[j][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][E]="##MEMO##"+(p?parseInt(I.trim(),10):C.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[j][E]=+I||0);break;case"@":u[j][E]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[j][E]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[j][E]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][E]=-C.read_shift(-8,"f");break;case"B":if(m&&b[E].len==8){u[j][E]=C.read_shift(8,"f");break}case"G":case"P":C.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=zh(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return nd(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&Bo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ri(),f=Gy(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=l["!cols"]||[],g=0,x=0,v=0,y=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++v;continue}if(h[g]!=null){if(++v,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(x=0;x<1024;++x)if(h.indexOf(h[g]+"_"+x)==-1){h[g]+="_"+x;break}}}}var b=ur(l["!ref"]),N=[],A=[],S=[];for(g=0;g<=b.e.c-b.s.c;++g){var j="",E="",C=0,I=[];for(x=0;x<m.length;++x)m[x][g]!=null&&I.push(m[x][g]);if(I.length==0||h[g]==null){N[g]="?";continue}for(x=0;x<I.length;++x){switch(typeof I[x]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=I[x]instanceof Date?"D":"C";break;default:E="C"}C=Math.max(C,String(I[x]).length),j=j&&j!=E?"C":E}C>250&&(C=250),E=((p[g]||{}).DBF||{}).type,E=="C"&&p[g].DBF.len>C&&(C=p[g].DBF.len),j=="B"&&E=="N"&&(j="N",S[g]=p[g].DBF.dec,C=p[g].DBF.len),A[g]=j=="C"||E=="N"?C:s[j]||0,y+=A[g],N[g]=j}var T=d.next(32);for(T.write_shift(4,318902576),T.write_shift(4,m.length),T.write_shift(2,296+32*v),T.write_shift(2,y),g=0;g<4;++g)T.write_shift(4,0);for(T.write_shift(4,0|(+t[SR]||3)<<8),g=0,x=0;g<h.length;++g)if(h[g]!=null){var P=d.next(32),H=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,H,"sbcs"),P.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),P.write_shift(4,x),P.write_shift(1,A[g]||s[N[g]]||0),P.write_shift(1,S[g]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),x+=A[g]||s[N[g]]||0}var q=d.next(264);for(q.write_shift(4,13),g=0;g<65;++g)q.write_shift(4,0);for(g=0;g<m.length;++g){var ae=d.next(y);for(ae.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(N[x]){case"L":ae.write_shift(1,m[g][x]==null?63:m[g][x]?84:70);break;case"B":ae.write_shift(8,m[g][x]||0,"f");break;case"N":var R="0";for(typeof m[g][x]=="number"&&(R=m[g][x].toFixed(S[x]||0)),v=0;v<A[x]-R.length;++v)ae.write_shift(1,32);ae.write_shift(1,R,"sbcs");break;case"D":m[g][x]?(ae.write_shift(4,("0000"+m[g][x].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(m[g][x].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+m[g][x].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[g][x]!=null?m[g][x]:"").slice(0,A[x]);for(ae.write_shift(1,z,"sbcs"),v=0;v<A[x]-z.length;++v)ae.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),I9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+jn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?VT(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:VT(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(Ei(h),m);case"binary":return s(h,m);case"buffer":return s(Jt&&Buffer.isBuffer(h)?h.toString("binary"):rd(h),m);case"array":return s(h0(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var p=h.split(/[\n\r]+/),g=-1,x=-1,v=0,y=0,b=[],N=[],A=null,S={},j=[],E=[],C=[],I=0,T;for(+m.codepage>=0&&Bo(+m.codepage);v!==p.length;++v){I=0;var P=p[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=P.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),q=H[0],ae;if(P.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&N.push(P.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,z=!1,Y=!1,U=!1,Q=-1,pe=-1;for(y=1;y<H.length;++y)switch(H[y].charAt(0)){case"A":break;case"X":x=parseInt(H[y].slice(1))-1,z=!0;break;case"Y":for(g=parseInt(H[y].slice(1))-1,z||(x=0),T=b.length;T<=g;++T)b[T]=[];break;case"K":ae=H[y].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(Ho(ae))?isNaN(hh(ae).getDate())||(ae=Yr(ae)):(ae=Ho(ae),A!==null&&Rh(A)&&(ae=N2(ae))),R=!0;break;case"E":U=!0;var F=Jf(H[y].slice(1),{r:g,c:x});b[g][x]=[b[g][x],F];break;case"S":Y=!0,b[g][x]=[b[g][x],"S5S"];break;case"G":break;case"R":Q=parseInt(H[y].slice(1))-1;break;case"C":pe=parseInt(H[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}if(R&&(b[g][x]&&b[g][x].length==2?b[g][x][0]=ae:b[g][x]=ae,A=null),Y){if(U)throw new Error("SYLK shared formula cannot have own formula");var M=Q>-1&&b[Q][pe];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");b[g][x][1]=eB(M[1],{r:g-Q,c:x-pe})}break;case"F":var B=0;for(y=1;y<H.length;++y)switch(H[y].charAt(0)){case"X":x=parseInt(H[y].slice(1))-1,++B;break;case"Y":for(g=parseInt(H[y].slice(1))-1,T=b.length;T<=g;++T)b[T]=[];break;case"M":I=parseInt(H[y].slice(1))/20;break;case"F":break;case"G":break;case"P":A=N[parseInt(H[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=H[y].slice(1).split(" "),T=parseInt(C[0],10);T<=parseInt(C[1],10);++T)I=parseInt(C[2],10),E[T-1]=I===0?{hidden:!0}:{wch:I},Bu(E[T-1]);break;case"C":x=parseInt(H[y].slice(1))-1,E[x]||(E[x]={});break;case"R":g=parseInt(H[y].slice(1))-1,j[g]||(j[g]={}),I>0?(j[g].hpt=I,j[g].hpx=ph(I)):I===0&&(j[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}B<1&&(A=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}}return j.length>0&&(S["!rows"]=j),E.length>0&&(S["!cols"]=E),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,S]}function i(h,m){var p=a(h,m),g=p[0],x=p[1],v=zh(g,m);return jn(x).forEach(function(y){v[y]=x[y]}),v}function l(h,m){return nd(i(h,m),m)}function c(h,m,p,g){var x="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+fA(h.f,{r:p,c:g}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,m){m.forEach(function(p,g){var x="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=gg(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=xg(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,m){m.forEach(function(p,g){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*vg(p.hpx)+";"),x.length>2&&h.push(x+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],x=ur(h["!ref"]),v,y=Array.isArray(h),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var N=x.s.r;N<=x.e.r;++N)for(var A=x.s.c;A<=x.e.c;++A){var S=Bt({r:N,c:A});v=y?(h[N]||[])[A]:h[S],!(!v||v.v==null&&(!v.f||v.F))&&g.push(c(v,h,N,A))}return p.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),M9=function(){function e(s,i){switch(i.type){case"base64":return t(Ei(s),i);case"binary":return t(s,i);case"buffer":return t(Jt&&Buffer.isBuffer(s)?s.toString("binary"):rd(s),i);case"array":return t(h0(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Ho(p))?isNaN(hh(p).getDate())?f[c][u]=p:f[c][u]=Yr(p):f[c][u]=Ho(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return zh(e(s,i),i)}function n(s,i){return nd(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=ur(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=Bt({r:m,c:p});if(f=h?(c[m]||[])[p]:c[g],!f){i(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,x,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=fo(f.z||Mt[14],ha(Yr(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),R9=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,x=0,v=[];x!==m.length;++x){var y=m[x].trim().split(":");if(y[0]==="cell"){var b=un(y[1]);if(v.length<=b.r)for(p=v.length;p<=b.r;++p)v[p]||(v[p]=[]);switch(p=b.r,g=b.c,y[2]){case"t":v[p][g]=e(y[3]);break;case"v":v[p][g]=+y[3];break;case"vtf":var N=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[p][g]=!!+y[4];break;default:v[p][g]=+y[4];break}y[2]=="vtf"&&(v[p][g]=[v[p][g],N])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return zh(r(f,h),h)}function a(f,h){return nd(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",x=ni(f["!ref"]),v=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var b=x.s.c;b<=x.e.c;++b)if(g=Bt({r:y,c:b}),p=v?(f[y]||[])[b]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var N=ha(Yr(p.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=p.w||fo(p.z||Mt[14],N);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),mh=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Ho(d))?isNaN(hh(d).getDate())?f[h][m]=d:f[h][m]=Yr(d):f[h][m]=Ho(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var x=10,v=0,y=0;y<=g;++y)v=p[y].indexOf(" "),v==-1?v=p[y].length:v++,x=Math.max(x,v);for(y=0;y<=g;++y){m[y]=[];var b=0;for(e(p[y].slice(0,x).trim(),m,y,b,h),b=1;b<=(p[y].length-x)/10+1;++b)e(p[y].slice(x+(b-1)*10,x+b*10).trim(),m,y,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[p.pop()[1]]||44}function s(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var x=0,v=0,y=0,b=0,N=0,A=m.charCodeAt(0),S=!1,j=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?lte(h.dateNF):null;function I(){var T=d.slice(b,N),P={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)P.t="z";else if(h.raw)P.t="s",P.v=T;else if(T.trim().length===0)P.t="s",P.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(P.t="s",P.v=T.slice(2,-1).replace(/""/g,'"')):Mie(T)?(P.t="n",P.f=T.slice(1)):(P.t="s",P.v=T);else if(T=="TRUE")P.t="b",P.v=!0;else if(T=="FALSE")P.t="b",P.v=!1;else if(!isNaN(y=Ho(T)))P.t="n",h.cellText!==!1&&(P.w=T),P.v=y;else if(!isNaN(hh(T).getDate())||C&&T.match(C)){P.z=h.dateNF||Mt[14];var H=0;C&&T.match(C)&&(T=cte(T,h.dateNF,T.match(C)||[]),H=1),h.cellDates?(P.t="d",P.v=Yr(T,H)):(P.t="n",P.v=ha(Yr(T,H))),h.cellText!==!1&&(P.w=fo(P.z,P.v instanceof Date?ha(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=T;if(P.t=="z"||(h.dense?(p[x]||(p[x]=[]),p[x][v]=P):p[Bt({c:v,r:x})]=P),b=N+1,E=d.charCodeAt(b),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),j==A)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;N<d.length;++N)switch(j=d.charCodeAt(N)){case 34:E===34&&(S=!S);break;case A:case 10:case 13:if(!S&&I())break e;break}return N-b>0&&I(),p["!ref"]=Xt(g),p}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):zh(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:bA(d,f);switch(f.type){case"base64":h=Ei(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof lg<"u"||(h=Jt&&Buffer.isBuffer(d)?d.toString("binary"):rd(d));break;case"array":h=h0(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Pr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Pr(h):f.type=="binary"&&typeof lg<"u",h.slice(0,19)=="socialcalc:version:"?R9.to_sheet(f.type=="string"?h:Pr(h),f):i(h,f)}function c(d,f){return nd(l(d,f),f)}function u(d){for(var f=[],h=ur(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var x=[],v=h.s.c;v<=h.e.c;++v){var y=Bt({r:g,c:v});if(m=p?(d[g]||[])[v]:d[y],!m||m.v==null){x.push("          ");continue}for(var b=(m.w||(xc(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function Nae(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=I9.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return mh.to_workbook(e,t)}}var Kd=function(){function e(F,M,B){if(F){Ua(F,F.l||0);for(var D=B.Enum||Q;F.l<F.length;){var X=F.read_shift(2),V=D[X]||D[65535],ee=F.read_shift(2),K=F.l+ee,ce=V.f&&V.f(F,ee,B);if(F.l=K,M(ce,V,X))return}}}function t(F,M){switch(M.type){case"base64":return r(gi(Ei(F)),M);case"binary":return r(gi(F),M);case"buffer":case"array":return r(F,M)}throw"Unsupported type "+M.type}function r(F,M){if(!F)return F;var B=M||{},D=B.dense?[]:{},X="Sheet1",V="",ee=0,K={},ce=[],xe=[],G={s:{r:0,c:0},e:{r:0,c:0}},Ce=B.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)B.Enum=Q,e(F,function(Me,rt,We){switch(We){case 0:B.vers=Me,Me>=4096&&(B.qpro=!0);break;case 6:G=Me;break;case 204:Me&&(V=Me);break;case 222:V=Me;break;case 15:case 51:B.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:We==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=B.dateNF||Mt[14],B.cellDates&&(Me[1].t="d",Me[1].v=N2(Me[1].v))),B.qpro&&Me[3]>ee&&(D["!ref"]=Xt(G),K[X]=D,ce.push(X),D=B.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ee=Me[3],X=V||"Sheet"+(ee+1),V="");var ve=B.dense?(D[Me[0].r]||[])[Me[0].c]:D[Bt(Me[0])];if(ve){ve.t=Me[1].t,ve.v=Me[1].v,Me[1].z!=null&&(ve.z=Me[1].z),Me[1].f!=null&&(ve.f=Me[1].f);break}B.dense?(D[Me[0].r]||(D[Me[0].r]=[]),D[Me[0].r][Me[0].c]=Me[1]):D[Bt(Me[0])]=Me[1];break}},B);else if(F[2]==26||F[2]==14)B.Enum=pe,F[2]==14&&(B.qpro=!0,F.l=0),e(F,function(Me,rt,We){switch(We){case 204:X=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>ee&&(D["!ref"]=Xt(G),K[X]=D,ce.push(X),D=B.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ee=Me[3],X="Sheet"+(ee+1)),Ce>0&&Me[0].r>=Ce)break;B.dense?(D[Me[0].r]||(D[Me[0].r]=[]),D[Me[0].r][Me[0].c]=Me[1]):D[Bt(Me[0])]=Me[1],G.e.c<Me[0].c&&(G.e.c=Me[0].c),G.e.r<Me[0].r&&(G.e.r=Me[0].r);break;case 27:Me[14e3]&&(xe[Me[14e3][0]]=Me[14e3][1]);break;case 1537:xe[Me[0]]=Me[1],Me[0]==ee&&(X=Me[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(D["!ref"]=Xt(G),K[V||X]=D,ce.push(V||X),!xe.length)return{SheetNames:ce,Sheets:K};for(var Ve={},Se=[],ue=0;ue<xe.length;++ue)K[ce[ue]]?(Se.push(xe[ue]||ce[ue]),Ve[xe[ue]]=K[xe[ue]]||K[ce[ue]]):(Se.push(xe[ue]),Ve[xe[ue]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Ve}}function n(F,M){var B=M||{};if(+B.codepage>=0&&Bo(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var D=ri(),X=ur(F["!ref"]),V=Array.isArray(F),ee=[];ut(D,0,s(1030)),ut(D,6,c(X));for(var K=Math.min(X.e.r,8191),ce=X.s.r;ce<=K;++ce)for(var xe=Rn(ce),G=X.s.c;G<=X.e.c;++G){ce===X.s.r&&(ee[G]=cn(G));var Ce=ee[G]+xe,Ve=V?(F[ce]||[])[G]:F[Ce];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")(Ve.v|0)==Ve.v&&Ve.v>=-32768&&Ve.v<=32767?ut(D,13,m(ce,G,Ve.v)):ut(D,14,g(ce,G,Ve.v));else{var Se=xc(Ve);ut(D,15,f(ce,G,Se.slice(0,239)))}}return ut(D,1),D.end()}function a(F,M){var B=M||{};if(+B.codepage>=0&&Bo(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var D=ri();ut(D,0,i(F));for(var X=0,V=0;X<F.SheetNames.length;++X)(F.Sheets[F.SheetNames[X]]||{})["!ref"]&&ut(D,27,U(F.SheetNames[X],V++));var ee=0;for(X=0;X<F.SheetNames.length;++X){var K=F.Sheets[F.SheetNames[X]];if(!(!K||!K["!ref"])){for(var ce=ur(K["!ref"]),xe=Array.isArray(K),G=[],Ce=Math.min(ce.e.r,8191),Ve=ce.s.r;Ve<=Ce;++Ve)for(var Se=Rn(Ve),ue=ce.s.c;ue<=ce.e.c;++ue){Ve===ce.s.r&&(G[ue]=cn(ue));var Me=G[ue]+Se,rt=xe?(K[Ve]||[])[ue]:K[Me];if(!(!rt||rt.t=="z"))if(rt.t=="n")ut(D,23,I(Ve,ue,ee,rt.v));else{var We=xc(rt);ut(D,22,j(Ve,ue,ee,We.slice(0,239)))}}++ee}}return ut(D,1),D.end()}function s(F){var M=He(2);return M.write_shift(2,F),M}function i(F){var M=He(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var B=0,D=0,X=0,V=0;V<F.SheetNames.length;++V){var ee=F.SheetNames[V],K=F.Sheets[ee];if(!(!K||!K["!ref"])){++X;var ce=ni(K["!ref"]);B<ce.e.r&&(B=ce.e.r),D<ce.e.c&&(D=ce.e.c)}}return B>8191&&(B=8191),M.write_shift(2,B),M.write_shift(1,X),M.write_shift(1,D),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function l(F,M,B){var D={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&B.qpro?(D.s.c=F.read_shift(1),F.l++,D.s.r=F.read_shift(2),D.e.c=F.read_shift(1),F.l++,D.e.r=F.read_shift(2),D):(D.s.c=F.read_shift(2),D.s.r=F.read_shift(2),M==12&&B.qpro&&(F.l+=2),D.e.c=F.read_shift(2),D.e.r=F.read_shift(2),M==12&&B.qpro&&(F.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function c(F){var M=He(8);return M.write_shift(2,F.s.c),M.write_shift(2,F.s.r),M.write_shift(2,F.e.c),M.write_shift(2,F.e.r),M}function u(F,M,B){var D=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(D[0].c=F.read_shift(1),D[3]=F.read_shift(1),D[0].r=F.read_shift(2),F.l+=2):(D[2]=F.read_shift(1),D[0].c=F.read_shift(2),D[0].r=F.read_shift(2)),D}function d(F,M,B){var D=F.l+M,X=u(F,M,B);if(X[1].t="s",B.vers==20768){F.l++;var V=F.read_shift(1);return X[1].v=F.read_shift(V,"utf8"),X}return B.qpro&&F.l++,X[1].v=F.read_shift(D-F.l,"cstr"),X}function f(F,M,B){var D=He(7+B.length);D.write_shift(1,255),D.write_shift(2,M),D.write_shift(2,F),D.write_shift(1,39);for(var X=0;X<D.length;++X){var V=B.charCodeAt(X);D.write_shift(1,V>=128?95:V)}return D.write_shift(1,0),D}function h(F,M,B){var D=u(F,M,B);return D[1].v=F.read_shift(2,"i"),D}function m(F,M,B){var D=He(7);return D.write_shift(1,255),D.write_shift(2,M),D.write_shift(2,F),D.write_shift(2,B,"i"),D}function p(F,M,B){var D=u(F,M,B);return D[1].v=F.read_shift(8,"f"),D}function g(F,M,B){var D=He(13);return D.write_shift(1,255),D.write_shift(2,M),D.write_shift(2,F),D.write_shift(8,B,"f"),D}function x(F,M,B){var D=F.l+M,X=u(F,M,B);if(X[1].v=F.read_shift(8,"f"),B.qpro)F.l=D;else{var V=F.read_shift(2);N(F.slice(F.l,F.l+V),X),F.l+=V}return X}function v(F,M,B){var D=M&32768;return M&=-32769,M=(D?F:0)+(M>=8192?M-16384:M),(D?"":"$")+(B?cn(M):Rn(M))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(F,M){Ua(F,0);for(var B=[],D=0,X="",V="",ee="",K="";F.l<F.length;){var ce=F[F.l++];switch(ce){case 0:B.push(F.read_shift(8,"f"));break;case 1:V=v(M[0].c,F.read_shift(2),!0),X=v(M[0].r,F.read_shift(2),!1),B.push(V+X);break;case 2:{var xe=v(M[0].c,F.read_shift(2),!0),G=v(M[0].r,F.read_shift(2),!1);V=v(M[0].c,F.read_shift(2),!0),X=v(M[0].r,F.read_shift(2),!1),B.push(xe+G+":"+V+X)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(F.read_shift(2));break;case 6:{for(var Ce="";ce=F[F.l++];)Ce+=String.fromCharCode(ce);B.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:K=B.pop(),ee=B.pop(),B.push(["AND","OR"][ce-20]+"("+ee+","+K+")");break;default:if(ce<32&&b[ce])K=B.pop(),ee=B.pop(),B.push(ee+b[ce]+K);else if(y[ce]){if(D=y[ce][1],D==69&&(D=F[F.l++]),D>B.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+B.join("|")+"|");return}var Ve=B.slice(-D);B.length-=D,B.push(y[ce][0]+"("+Ve.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}B.length==1?M[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function A(F){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=F.read_shift(2),M[3]=F[F.l++],M[0].c=F[F.l++],M}function S(F,M){var B=A(F);return B[1].t="s",B[1].v=F.read_shift(M-4,"cstr"),B}function j(F,M,B,D){var X=He(6+D.length);X.write_shift(2,F),X.write_shift(1,B),X.write_shift(1,M),X.write_shift(1,39);for(var V=0;V<D.length;++V){var ee=D.charCodeAt(V);X.write_shift(1,ee>=128?95:ee)}return X.write_shift(1,0),X}function E(F,M){var B=A(F);B[1].v=F.read_shift(2);var D=B[1].v>>1;if(B[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return B[1].v=D,B}function C(F,M){var B=A(F),D=F.read_shift(4),X=F.read_shift(4),V=F.read_shift(2);if(V==65535)return D===0&&X===3221225472?(B[1].t="e",B[1].v=15):D===0&&X===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ee=V&32768;return V=(V&32767)-16446,B[1].v=(1-ee*2)*(X*Math.pow(2,V+32)+D*Math.pow(2,V)),B}function I(F,M,B,D){var X=He(14);if(X.write_shift(2,F),X.write_shift(1,B),X.write_shift(1,M),D==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var V=0,ee=0,K=0,ce=0;return D<0&&(V=1,D=-D),ee=Math.log2(D)|0,D/=Math.pow(2,ee-31),ce=D>>>0,ce&2147483648||(D/=2,++ee,ce=D>>>0),D-=ce,ce|=2147483648,ce>>>=0,D*=Math.pow(2,32),K=D>>>0,X.write_shift(4,K),X.write_shift(4,ce),ee+=16383+(V?32768:0),X.write_shift(2,ee),X}function T(F,M){var B=C(F);return F.l+=M-14,B}function P(F,M){var B=A(F),D=F.read_shift(4);return B[1].v=D>>6,B}function H(F,M){var B=A(F),D=F.read_shift(8,"f");return B[1].v=D,B}function q(F,M){var B=H(F);return F.l+=M-10,B}function ae(F,M){return F[F.l+M-1]==0?F.read_shift(M,"cstr"):""}function R(F,M){var B=F[F.l++];B>M-1&&(B=M-1);for(var D="";D.length<B;)D+=String.fromCharCode(F[F.l++]);return D}function z(F,M,B){if(!(!B.qpro||M<21)){var D=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var X=F.read_shift(M-21,"cstr");return[D,X]}}function Y(F,M){for(var B={},D=F.l+M;F.l<D;){var X=F.read_shift(2);if(X==14e3){for(B[X]=[0,""],B[X][0]=F.read_shift(2);F[F.l];)B[X][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return B}function U(F,M){var B=He(5+F.length);B.write_shift(2,14e3),B.write_shift(2,M);for(var D=0;D<F.length;++D){var X=F.charCodeAt(D);B[B.l++]=X>127?95:X}return B[B.l++]=0,B}var Q={0:{n:"BOF",f:Kn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},pe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Sae(e){var t={},r=e.match(xs),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Ut(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=M3[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var jae=function(){var e=dg("t"),t=dg("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:cr(i[1])},c=s.match(t);return c&&(l.s=Sae(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),Aae=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),_ae=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Eae=/<(?:\w+:)?r>/,Cae=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function oA(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=cr(Pr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Pr(e),r&&(n.h=G3(n.t))):e.match(Eae)&&(n.r=Pr(e),n.t=cr(Pr((e.replace(Cae,"").match(_ae)||[]).join("").replace(xs,""))),r&&(n.h=Aae(jae(n.r)))),n):{t:""}}var Tae=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Pae=/<(?:\w+:)?(?:si|sstItem)>/g,Oae=/<\/(?:\w+:)?(?:si|sstItem)>/;function Fae(e,t){var r=[],n="";if(!e)return r;var a=e.match(Tae);if(a){n=a[2].replace(Pae,"").split(Oae);for(var s=0;s!=n.length;++s){var i=oA(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Ut(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var Lae=/^\s|\s$|[\t\n\r]/;function B9(e,t){if(!t.bookSST)return"";var r=[zn];r[r.length]=ct("sst",null,{xmlns:T0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(Lae)&&(s+=' xml:space="preserve"'),s+=">"+Ar(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Dae(e){return[e.read_shift(4),e.read_shift(4)]}function Iae(e,t){var r=[],n=!1;return Pc(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function Mae(e,t){return t||(t=He(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Rae=Kte;function Bae(e){var t=ri();Xe(t,159,Mae(e));for(var r=0;r<e.length;++r)Xe(t,19,Rae(e[r]));return Xe(t,160),t.end()}function z9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function lc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function zae(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=lc(e,4),t.U=lc(e,4),t.W=lc(e,4),t}function Uae(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function $ae(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Uae(e));return t}function Wae(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Hae(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=lc(e,4),t.U=lc(e,4),t.W=lc(e,4),t}function Vae(e){var t=Hae(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function U9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function $9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function qae(e){var t=lc(e);switch(t.Minor){case 2:return[t.Minor,Gae(e)];case 3:return[t.Minor,Kae()];case 4:return[t.Minor,Yae(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Gae(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=U9(e,r),a=$9(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Kae(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Yae(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(xs,function(s){var i=Ut(s);switch(Fl(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Xae(e,t){var r={},n=r.EncryptionVersionInfo=lc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=U9(e,a),t-=a,r.EncryptionVerifier=$9(e,t),r}function Zae(e){var t={},r=t.EncryptionVersionInfo=lc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function lA(e){var t=0,r,n=z9(e),a=n.length+1,s,i,l,c,u;for(r=Ru(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var W9=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(i){for(var l=z9(i),c=s(l),u=l.length,d=Ru(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,p=15-l.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(l[u],h),--u,--p;return d}}(),Jae=function(e,t,r,n,a){a||(a=t),n||(n=W9(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},Qae=function(e){var t=0,r=W9(e);return function(n){var a=Jae("",n,t,r);return t=a[1],a[0]}};function ese(e,t,r,n){var a={key:Kn(e),verificationBytes:Kn(e)};return r.password&&(a.verifier=lA(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Qae(r.password)),a}function tse(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Zae(e):n.Data=Xae(e,t),n}function rse(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?tse(e,t-2,n):ese(e,r.biff>=8?t:t-2,r,n),n}var H9=function(){function e(a,s){switch(s.type){case"base64":return t(Ei(a),s);case"binary":return t(a,s);case"buffer":return t(Jt&&Buffer.isBuffer(a)?a.toString("binary"):rd(a),s);case"array":return t(h0(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var x=d.slice(m,h.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[f][g]=v:l[Bt({r:f,c:g})]=v}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Xt(u),l}function r(a,s){return nd(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=ur(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Bt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(xc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function nse(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function pg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ase(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,c,u/2]}function sse(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-l),i[0]+=c,i[1]+=a;break;case 2:c=a*(l-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-l),i[1]+=c,i[2]+=a;break;case 4:c=a*(l-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-l),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function Vy(e,t){if(t===0)return e;var r=ase(nse(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),pg(sse(r))}var V9=6,ise=15,ose=1,is=V9;function gg(e){return Math.floor((e+Math.round(128/is)/256)*is)}function xg(e){return Math.floor((e-5)/is*100+.5)/100}function qy(e){return Math.round((e*is+5)/is*256)/256}function mk(e){return qy(xg(gg(e)))}function cA(e){var t=Math.abs(e-mk(e)),r=is;if(t>.005)for(is=ose;is<ise;++is)Math.abs(e-mk(e))<=t&&(t=Math.abs(e-mk(e)),r=is);is=r}function Bu(e){e.width?(e.wpx=gg(e.width),e.wch=xg(e.wpx),e.MDW=is):e.wpx?(e.wch=xg(e.wpx),e.width=qy(e.wch),e.MDW=is):typeof e.wch=="number"&&(e.width=qy(e.wch),e.wpx=gg(e.width),e.MDW=is),e.customWidth&&delete e.customWidth}var lse=96,q9=lse;function vg(e){return e*96/q9}function ph(e){return e*q9/96}var cse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function use(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(xs)||[]).forEach(function(i){var l=Ut(i);switch(Fl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=qr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=qr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function dse(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(xs)||[]).forEach(function(i){var l=Ut(i);switch(Fl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function fse(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(xs)||[]).forEach(function(i){var l=Ut(i);switch(Fl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Pr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?qr(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?qr(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?qr(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?qr(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?qr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?qr(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?qr(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=M3[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=qr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=qd[a.color.index];a.color.index==81&&(c=qd[1]),c||(c=qd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Vy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function hse(e,t,r){t.NumberFmt=[];for(var n=jn(Mt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Mt[n[a]];var s=e[0].match(xs);if(s)for(a=0;a<s.length;++a){var i=Ut(s[a]);switch(Fl(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=cr(Pr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}oc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function mse(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ct("numFmt",null,{numFmtId:n,formatCode:Ar(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ct("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var nv=["numFmtId","fillId","fontId","borderId","xfId"],av=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function pse(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(xs)||[]).forEach(function(s){var i=Ut(s),l=0;switch(Fl(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<nv.length;++l)n[nv[l]]&&(n[nv[l]]=parseInt(n[nv[l]],10));for(l=0;l<av.length;++l)n[av[l]]&&(n[av[l]]=qr(n[av[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=qr(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function gse(e){var t=[];return t[t.length]=ct("cellXfs",null),e.forEach(function(r){t[t.length]=ct("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ct("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var xse=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&hse(f,d,u),(f=l.match(a))&&fse(f,d,c,u),(f=l.match(n))&&dse(f,d,c,u),(f=l.match(s))&&use(f,d,c,u),(f=l.match(r))&&pse(f,d,u),d}}();function G9(e,t){var r=[zn,ct("styleSheet",null,{xmlns:T0[0],"xmlns:vt":ca.vt})],n;return e.SSF&&(n=mse(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=gse(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function vse(e,t){var r=e.read_shift(2),n=hs(e);return[r,n]}function yse(e,t,r){r||(r=He(6+4*t.length)),r.write_shift(2,e),Ca(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function bse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=tre(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=ere(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=hs(e),n}function wse(e,t){t||(t=He(25+4*32)),t.write_shift(2,e.sz*20),rre(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),$y(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ca(e.name,t),t.length>t.l?t.slice(0,t.l):t}var kse=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],pk,Nse=gs;function DP(e,t){t||(t=He(4*3+8*7+16*1)),pk||(pk=w2(kse));var r=pk[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for($y({auto:1},t),$y({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Sse(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function K9(e,t,r){r||(r=He(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Um(e,t){return t||(t=He(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var jse=gs;function Ase(e,t){return t||(t=He(51)),t.write_shift(1,0),Um(null,t),Um(null,t),Um(null,t),Um(null,t),Um(null,t),t.length>t.l?t.slice(0,t.l):t}function _se(e,t){return t||(t=He(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Uy(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Ese(e,t,r){var n=He(2052);return n.write_shift(4,e),Uy(t,n),Uy(r,n),n.length>n.l?n.slice(0,n.l):n}function Cse(e,t,r){var n={};n.NumberFmt=[];for(var a in Mt)n.NumberFmt[a]=Mt[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Pc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],oc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Vy(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function Tse(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Xe(e,615,Vo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Xe(e,44,yse(a,t[a]))}),Xe(e,616))}}function Pse(e){var t=1;Xe(e,611,Vo(t)),Xe(e,43,wse({sz:12,color:{theme:1},name:"Calibri",family:2})),Xe(e,612)}function Ose(e){var t=2;Xe(e,603,Vo(t)),Xe(e,45,DP({patternType:"none"})),Xe(e,45,DP({patternType:"gray125"})),Xe(e,604)}function Fse(e){var t=1;Xe(e,613,Vo(t)),Xe(e,46,Ase()),Xe(e,614)}function Lse(e){var t=1;Xe(e,626,Vo(t)),Xe(e,47,K9({numFmtId:0},65535)),Xe(e,627)}function Dse(e,t){Xe(e,617,Vo(t.length)),t.forEach(function(r){Xe(e,47,K9(r,0))}),Xe(e,618)}function Ise(e){var t=1;Xe(e,619,Vo(t)),Xe(e,48,_se({xfId:0,name:"Normal"})),Xe(e,620)}function Mse(e){var t=0;Xe(e,505,Vo(t)),Xe(e,506)}function Rse(e){var t=0;Xe(e,508,Ese(t,"TableStyleMedium9","PivotStyleMedium4")),Xe(e,509)}function Bse(e,t){var r=ri();return Xe(r,278),Tse(r,e.SSF),Pse(r),Ose(r),Fse(r),Lse(r),Dse(r,t.cellXfs),Ise(r),Mse(r),Rse(r),Xe(r,279),r.end()}var zse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Use(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(xs)||[]).forEach(function(a){var s=Ut(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[zse.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function $se(){}function Wse(){}var Hse=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Vse=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,qse=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Gse(e,t,r){t.themeElements={};var n;[["clrScheme",Hse,Use],["fontScheme",Vse,$se],["fmtScheme",qse,Wse]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Kse=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Y9(e,t){(!e||e.length===0)&&(e=uA());var r,n={};if(!(r=e.match(Kse)))throw new Error("themeElements not found in theme");return Gse(r[0],n,t),n.raw=e,n}function uA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[zn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Yse(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=UR(s,{type:"array"})}catch{return}var l=xi(i,"theme/theme/theme1.xml",!0);if(l)return Y9(l,r)}}function Xse(e){return e.read_shift(4)}function Zse(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Jse(e,4);break;case 2:t.xclrValue=E9(e);break;case 3:t.xclrValue=Xse(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Jse(e,t){return gs(e,t)}function Qse(e,t){return gs(e,t)}function eie(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Zse(e);break;case 6:n[1]=Qse(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function tie(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(eie(e,r-e.l));return{ixfe:n,ext:s}}function rie(e,t){t.forEach(function(r){switch(r[0]){}})}function nie(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:hs(e)}}function aie(e){var t=He(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ca(e.name,t),t.slice(0,t.l)}function sie(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function iie(e){var t=He(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function oie(e,t){var r=He(8+2*t.length);return r.write_shift(4,e),Ca(t,r),r.slice(0,r.l)}function lie(e){return e.l+=4,e.read_shift(4)!=0}function cie(e,t){var r=He(8);return r.write_shift(4,e),r.write_shift(4,1),r}function uie(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return Pc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function die(){var e=ri();return Xe(e,332),Xe(e,334,Vo(1)),Xe(e,335,aie({name:"XLDAPR",version:12e4,flags:3496657072})),Xe(e,336),Xe(e,339,oie(1,"XLDAPR")),Xe(e,52),Xe(e,35,Vo(514)),Xe(e,4096,Vo(0)),Xe(e,4097,Qi(1)),Xe(e,36),Xe(e,53),Xe(e,340),Xe(e,337,cie(1)),Xe(e,51,iie([[1,0]])),Xe(e,338),Xe(e,333),e.end()}function fie(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(xs,function(l){var c=Ut(l);switch(Fl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function X9(){var e=[zn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function hie(e){var t=[];if(!e)return t;var r=1;return(e.match(xs)||[]).forEach(function(n){var a=Ut(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function mie(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Bt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function pie(e,t,r){var n=[];return Pc(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function gie(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Pc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function xie(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var If=1024;function Z9(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ct("xml",null,{"xmlns:v":mi.v,"xmlns:o":mi.o,"xmlns:x":mi.x,"xmlns:mv":mi.mv}).replace(/\/>/,">"),ct("o:shapelayout",ct("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ct("v:shapetype",[ct("v:stroke",null,{joinstyle:"miter"}),ct("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];If<e*1e3;)If+=1e3;return t.forEach(function(s){var i=un(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ct("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ct("v:fill",c,l),d={on:"t",obscured:"t"};++If,a=a.concat(["<v:shape"+fg({id:"_x0000_s"+If,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ct("v:shadow",null,d),ct("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$a("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),$a("x:AutoFill","False"),$a("x:Row",String(i.r)),$a("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function IP(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=un(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var c=ur(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Xt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function vie(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Ut(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=un(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&oA(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function J9(e){var t=[zn,ct("comments",null,{xmlns:T0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Ar(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Ar(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push($a("t",Ar(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)i+=`Reply:
    `+s[l]+`
`;t.push($a("t",Ar(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function yie(e,t){var r=[],n=!1,a={},s=0;return e.replace(xs,function(l,c){var u=Ut(l);switch(Fl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function bie(e,t,r){var n=[zn,ct("ThreadedComments",null,{xmlns:ca.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(ct("threadedComment",$a("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function wie(e,t){var r=[],n=!1;return e.replace(xs,function(s){var i=Ut(s);switch(Fl(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function kie(e){var t=[zn,ct("personList",null,{xmlns:ca.TCMNT,"xmlns:x":T0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ct("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Nie(e){var t={};t.iauthor=e.read_shift(4);var r=L0(e);return t.rfx=r.s,t.ref=Bt(r.s),e.l+=16,t}function Sie(e,t){return t==null&&(t=He(36)),t.write_shift(4,e[1].iauthor),Uh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var jie=hs;function Aie(e){return Ca(e.slice(0,54))}function _ie(e,t){var r=[],n=[],a={},s=!1;return Pc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Eie(e){var t=ri(),r=[];return Xe(t,628),Xe(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Xe(t,632,Aie(a.a)))})}),Xe(t,631),Xe(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:un(n[0]),e:un(n[0])};Xe(t,635,Sie([s,a])),a.t&&a.t.length>0&&Xe(t,637,Xte(a)),Xe(t,636),delete a.iauthor})}),Xe(t,634),Xe(t,629),t.end()}var Cie="application/vnd.ms-office.vbaProject";function Tie(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Pt.write(t)}function Pie(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Pt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Q9=["xlsb","xlsm","xlam","biff8","xla"];function Oie(){return{"!type":"dialog"}}function Fie(){return{"!type":"dialog"}}function Lie(){return{"!type":"macro"}}function Die(){return{"!type":"macro"}}var Jf=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+cn(d)+(c?"":"$")+Rn(u)}return function(a,s){return t=s,a.replace(e,r)}}(),dA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,fA=function(){return function(t,r){return t.replace(dA,function(n,a,s,i,l,c){var u=J3(i)-(s?0:r.c),d=Z3(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function eB(e,t){return e.replace(dA,function(r,n,a,s,i,l){return n+(a=="$"?a+s:cn(J3(s)+t.c))+(i=="$"?i+l:Rn(Z3(l)+t.r))})}function Iie(e,t,r){var n=ni(t),a=n.s,s=un(r),i={r:s.r-a.r,c:s.c-a.c};return eB(e,i)}function Mie(e){return e.length!=1}function MP(e){return e.replace(/_xlfn\./g,"")}function Vn(e){e.l+=1}function zu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function tB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return rB(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=zu(e),l=zu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function rB(e){var t=zu(e),r=zu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Rie(e,t,r){if(r.biff<8)return rB(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=zu(e),i=zu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function nB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Bie(e);var n=e.read_shift(r&&r.biff==12?4:2),a=zu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Bie(e){var t=zu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function zie(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Uie(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return $ie(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function $ie(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Wie(e,t,r){var n=(e[e.l++]&96)>>5,a=tB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Hie(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=tB(e,s,r);return[n,a,i]}function Vie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function qie(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function Gie(e,t,r){var n=(e[e.l++]&96)>>5,a=Rie(e,t-1,r);return[n,a]}function Kie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function RP(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Yie(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Xie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Zie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Jie(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Qie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function aB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function eoe(e){return e.read_shift(2),aB(e)}function toe(e){return e.read_shift(2),aB(e)}function roe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=nB(e,0,r);return[n,a]}function noe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Uie(e,0,r);return[n,a]}function aoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=nB(e,0,r);return[n,a,s]}function soe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[lle[a],oB[a],n]}function ioe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ooe(e);return[a,(s[0]===0?oB:ole)[s[1]]]}function ooe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function loe(e,t,r){e.l+=r&&r.biff==2?3:4}function coe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function uoe(e){return e.l++,Oc[e.read_shift(1)]}function doe(e){return e.l++,e.read_shift(2)}function foe(e){return e.l++,e.read_shift(1)!==0}function hoe(e){return e.l++,cs(e)}function moe(e,t,r){return e.l++,ix(e,t-1,r)}function poe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Tn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Oc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=cs(e);break;case 2:r[1]=D0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function goe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?L0:S2)(e));return a}function xoe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=poe(e,r.biff);return i}function voe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function yoe(e,t,r){if(r.biff==5)return boe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function boe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function woe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function koe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Noe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Soe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var joe=gs,Aoe=gs,_oe=gs;function lx(e,t,r){return e.l+=2,[zie(e)]}function hA(e){return e.l+=6,[]}var Eoe=lx,Coe=hA,Toe=hA,Poe=lx;function sB(e){return e.l+=2,[Kn(e),e.read_shift(2)&1]}var Ooe=lx,Foe=sB,Loe=hA,Doe=lx,Ioe=lx,Moe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Roe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=Moe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function Boe(e){return e.l+=2,[e.read_shift(4)]}function zoe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Uoe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function $oe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Woe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Hoe(e){return e.l+=4,[0,0]}var BP={1:{n:"PtgExp",f:coe},2:{n:"PtgTbl",f:_oe},3:{n:"PtgAdd",f:Vn},4:{n:"PtgSub",f:Vn},5:{n:"PtgMul",f:Vn},6:{n:"PtgDiv",f:Vn},7:{n:"PtgPower",f:Vn},8:{n:"PtgConcat",f:Vn},9:{n:"PtgLt",f:Vn},10:{n:"PtgLe",f:Vn},11:{n:"PtgEq",f:Vn},12:{n:"PtgGe",f:Vn},13:{n:"PtgGt",f:Vn},14:{n:"PtgNe",f:Vn},15:{n:"PtgIsect",f:Vn},16:{n:"PtgUnion",f:Vn},17:{n:"PtgRange",f:Vn},18:{n:"PtgUplus",f:Vn},19:{n:"PtgUminus",f:Vn},20:{n:"PtgPercent",f:Vn},21:{n:"PtgParen",f:Vn},22:{n:"PtgMissArg",f:Vn},23:{n:"PtgStr",f:moe},26:{n:"PtgSheet",f:zoe},27:{n:"PtgEndSheet",f:Uoe},28:{n:"PtgErr",f:uoe},29:{n:"PtgBool",f:foe},30:{n:"PtgInt",f:doe},31:{n:"PtgNum",f:hoe},32:{n:"PtgArray",f:Kie},33:{n:"PtgFunc",f:soe},34:{n:"PtgFuncVar",f:ioe},35:{n:"PtgName",f:voe},36:{n:"PtgRef",f:roe},37:{n:"PtgArea",f:Wie},38:{n:"PtgMemArea",f:woe},39:{n:"PtgMemErr",f:joe},40:{n:"PtgMemNoMem",f:Aoe},41:{n:"PtgMemFunc",f:koe},42:{n:"PtgRefErr",f:Noe},43:{n:"PtgAreaErr",f:Vie},44:{n:"PtgRefN",f:noe},45:{n:"PtgAreaN",f:Gie},46:{n:"PtgMemAreaN",f:$oe},47:{n:"PtgMemNoMemN",f:Woe},57:{n:"PtgNameX",f:yoe},58:{n:"PtgRef3d",f:aoe},59:{n:"PtgArea3d",f:Hie},60:{n:"PtgRefErr3d",f:Soe},61:{n:"PtgAreaErr3d",f:qie},255:{}},Voe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qoe={1:{n:"PtgElfLel",f:sB},2:{n:"PtgElfRw",f:Doe},3:{n:"PtgElfCol",f:Eoe},6:{n:"PtgElfRwV",f:Ioe},7:{n:"PtgElfColV",f:Poe},10:{n:"PtgElfRadical",f:Ooe},11:{n:"PtgElfRadicalS",f:Loe},13:{n:"PtgElfColS",f:Coe},15:{n:"PtgElfColSV",f:Toe},16:{n:"PtgElfRadicalLel",f:Foe},25:{n:"PtgList",f:Roe},29:{n:"PtgSxName",f:Boe},255:{}},Goe={0:{n:"PtgAttrNoop",f:Hoe},1:{n:"PtgAttrSemi",f:Qie},2:{n:"PtgAttrIf",f:Zie},4:{n:"PtgAttrChoose",f:Yie},8:{n:"PtgAttrGoto",f:Xie},16:{n:"PtgAttrSum",f:loe},32:{n:"PtgAttrBaxcel",f:RP},33:{n:"PtgAttrBaxcel",f:RP},64:{n:"PtgAttrSpace",f:eoe},65:{n:"PtgAttrSpaceSemi",f:toe},128:{n:"PtgAttrIfError",f:Jie},255:{}};function cx(e,t,r,n){if(n.biff<8)return gs(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=xoe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=goe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(gs(e,t)),s}function ux(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=BP[s]||BP[Voe[s]],(s===24||s===25)&&(a=(s===24?qoe:Goe)[e[e.l+1]]),!a||!a.f?gs(e,t):i.push([a.n,a.f(e,t,r)]);return i}function Koe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Yoe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Xoe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function iB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function zP(e,t,r){var n=iB(e,t,r);return n=="#REF"?n:Xoe(n,r)}function as(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=wn(" ",e[0][g][1][1]);break;case 1:x=wn("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}l.push(u+Yoe[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=bp(b[1][1],i,a),l.push(wp(d,s));break;case"PtgRefN":d=r?bp(b[1][1],r,a):b[1][1],l.push(wp(d,s));break;case"PtgRef3d":f=b[1][1],d=bp(b[1][2],i,a),p=zP(n,f,a),l.push(p+"!"+wp(d,s));break;case"PtgFunc":case"PtgFuncVar":var N=b[1][0],A=b[1][1];N||(N=0),N&=127;var S=N==0?[]:l.slice(-N);l.length-=N,A==="User"&&(A=S.shift()),l.push(A+"("+S.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":m=pP(b[1][1],r?{s:r}:i,a),l.push(dk(m,a));break;case"PtgArea":m=pP(b[1][1],i,a),l.push(dk(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],p=zP(n,f,a),l.push(p+"!"+dk(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],E=j?j.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var C=b[1][1];h=b[1][2];var I;if(a.biff<=5)C<0&&(C=-C),n[C]&&(I=n[C][h]);else{var T="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(T=n.SheetNames[n[C][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])T+=n[C][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var P=(iB(n,C,a)||"").split(";;");P[h-1]?T=P[h-1]:T+="SH33TJSERRX"}l.push(T);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var H="(",q=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:H=wn(" ",e[0][g][1][1])+H;break;case 3:H=wn("\r",e[0][g][1][1])+H;break;case 4:q=wn(" ",e[0][g][1][1])+q;break;case 5:q=wn("\r",e[0][g][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(H+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var ae={c:r.c,r:r.r};if(n.sharedf[Bt(d)]){var R=n.sharedf[Bt(d)];l.push(as(R,i,ae,n,a))}else{var z=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(as(u[1],i,ae,n,a)),z=!0;break}z||l.push(b[1])}break;case"PtgArray":l.push("{"+Koe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&Y.indexOf(e[0][v][0])==-1){b=e[0][g];var U=!0;switch(b[1][0]){case 4:U=!1;case 0:x=wn(" ",b[1][1]);break;case 5:U=!1;case 1:x=wn("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((U?x:"")+l.pop()+(U?"":x)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Zoe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],gs(e,t-2)];var l=ux(e,i,r);return t!==i+a&&(s=cx(e,t-i-a,l,r)),e.l=n,[l,s]}function Joe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],gs(e,t-2)];var l=ux(e,i,r);return t!==i+a&&(s=cx(e,t-i-a,l,r)),e.l=n,[l,s]}function Qoe(e,t,r,n){var a=e.l+t,s=ux(e,n,r),i;return a!==e.l&&(i=cx(e,a-e.l,s,r)),[s,i]}function ele(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=ux(e,s,r);return s==65535?[[],gs(e,t-2)]:(t!==s+2&&(a=cx(e,n-s-2,i,r)),[i,a])}function tle(e){var t;if(rc(e,e.l+6)!==65535)return[cs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function rle(e){if(e==null){var t=He(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return m0(e);return m0(0)}function gk(e,t,r){var n=e.l+t,a=Ll(e);r.biff==2&&++e.l;var s=tle(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Joe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function nle(e,t,r,n,a){var s=g0(t,r,a),i=rle(e.v),l=He(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=He(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Ea([s,i,l,u]);return f}function j2(e,t,r){var n=e.read_shift(4),a=ux(e,n,r),s=e.read_shift(4),i=s>0?cx(e,s,a,r):null;return[a,i]}var ale=j2,A2=j2,sle=j2,ile=j2,ole={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},oB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lle={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UP(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function cle(e){var t="of:="+e.replace(dA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function xk(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function ule(e){return e.replace(/\./,"!")}var Np={},Qf={},Sp=typeof Map<"u";function mA(e,t,r){var n=0,a=e.length;if(r){if(Sp?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Sp?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Sp?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function _2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(is=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=xg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=qy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Yd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function ad(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){oc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function lB(e,t,r,n,a,s){try{n.cellNF&&(e.z=Mt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Yr(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Mt[t]==null&&oc(ote[t]||"General",t),e.t==="e")e.w=e.w||Oc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ug(e.v);else if(e.t==="d"){var i=ha(e.v);(i|0)===i?e.w=i.toString(10):e.w=ug(i)}else{if(e.v===void 0)return"";e.w=f0(e.v,Qf)}else e.t==="d"?e.w=fo(t,ha(e.v),Qf):e.w=fo(t,e.v,Qf)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Vy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Vy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function dle(e,t,r){if(e&&e["!ref"]){var n=ur(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function fle(e,t){var r=ur(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Xt(r))}var hle=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,mle=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ple=/<(?:\w:)?hyperlink [^>]*>/mg,gle=/"(\w*:\w*)"/,xle=/<(?:\w:)?col\b[^>]*[\/]?>/g,vle=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,yle=/<(?:\w:)?pageMargins[^>]*\/>/g,cB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ble=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,wle=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function kle(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(mle);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(cB);h?pA(h[0],l,a,r):(h=u.match(ble))&&Sle(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(gle);p&&fle(l,p[1])}var g=u.match(wle);g&&g[1]&&Mle(g[1],a);var x=[];if(t.cellStyles){var v=u.match(xle);v&&Ole(x,v)}f&&zle(f[1],l,t,c,s,i);var y=d.match(vle);y&&(l["!autofilter"]=Lle(y[0]));var b=[],N=d.match(hle);if(N)for(m=0;m!=N.length;++m)b[m]=ur(N[m].slice(N[m].indexOf('"')+1));var A=d.match(ple);A&&Cle(l,A,n);var S=d.match(yle);if(S&&(l["!margins"]=Tle(Ut(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Xt(c)),t.sheetRows>0&&l["!ref"]){var j=ur(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Xt(j))}return x.length>0&&(l["!cols"]=x),b.length>0&&(l["!merges"]=b),l}function Nle(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Xt(e[r])+'"/>';return t+"</mergeCells>"}function pA(e,t,r,n){var a=Ut(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=cr(Pr(a.codeName)))}function Sle(e,t,r,n,a){pA(e.slice(0,e.indexOf(">")),r,n,a)}function jle(e,t,r,n,a){var s=!1,i={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,i.codeName=xl(Ar(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ct("outlinePr",null,u)}!s&&!l||(a[a.length]=ct("sheetPr",l,i))}var Ale=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_le=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ele(e){var t={sheet:1};return Ale.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),_le.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=lA(e.password).toString(16).toUpperCase()),ct("sheetProtection",null,t)}function Cle(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Ut(Pr(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+cr(s.location))):(s.Target="#"+cr(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=ur(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Bt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function Tle(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Ple(e){return Yd(e),ct("pageMargins",null,e)}function Ole(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Ut(t[n],!0);a.hidden&&(a.hidden=qr(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,cA(a.width)),Bu(a);s<=i;)e[s++]=Xr(a)}}function Fle(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ct("col",null,_2(a,n)));return r[r.length]="</cols>",r.join("")}function Lle(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Dle(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Xt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=ni(a);i.s.r==i.e.r&&(i.e.r=ni(t["!ref"]).e.r,a=Xt(i));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ct("autoFilter",null,{ref:a})}var Ile=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Mle(e,t){t.Views||(t.Views=[{}]),(e.match(Ile)||[]).forEach(function(r,n){var a=Ut(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),qr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Rle(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ct("sheetViews",ct("sheetView",null,a),{})}function Ble(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Oc[e.v];break;case"d":n&&n.cellDates?a=Yr(e.v,-1).toISOString():(e=Xr(e),e.t="n",a=""+(e.v=ha(Yr(e.v)))),typeof e.z>"u"&&(e.z=Mt[14]);break;default:a=e.v;break}var l=$a("v",Ar(a)),c={r:t},u=ad(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=$a("v",""+mA(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ct("f",Ar(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ct("c",l,c)}var zle=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=dg("v"),i=dg("f");return function(c,u,d,f,h,m){for(var p=0,g="",x=[],v=[],y=0,b=0,N=0,A="",S,j,E=0,C=0,I,T,P=0,H=0,q=Array.isArray(m.CellXf),ae,R=[],z=[],Y=Array.isArray(u),U=[],Q={},pe=!1,F=!!d.sheetStubs,M=c.split(t),B=0,D=M.length;B!=D;++B){g=M[B].trim();var X=g.length;if(X!==0){var V=0;e:for(p=0;p<X;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(j=Ut(g.slice(V,p),!0),E=j.r!=null?parseInt(j.r,10):E+1,C=-1,d.sheetRows&&d.sheetRows<E)continue;Q={},pe=!1,j.ht&&(pe=!0,Q.hpt=parseFloat(j.ht),Q.hpx=ph(Q.hpt)),j.hidden=="1"&&(pe=!0,Q.hidden=!0),j.outlineLevel!=null&&(pe=!0,Q.level=+j.outlineLevel),pe&&(U[E-1]=Q)}break;case"<":V=p;break}if(V>=p)break;if(j=Ut(g.slice(V,p),!0),E=j.r!=null?parseInt(j.r,10):E+1,C=-1,!(d.sheetRows&&d.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),d&&d.cellStyles&&(Q={},pe=!1,j.ht&&(pe=!0,Q.hpt=parseFloat(j.ht),Q.hpx=ph(Q.hpt)),j.hidden=="1"&&(pe=!0,Q.hidden=!0),j.outlineLevel!=null&&(pe=!0,Q.level=+j.outlineLevel),pe&&(U[E-1]=Q)),x=g.slice(p).split(e);for(var ee=0;ee!=x.length&&x[ee].trim().charAt(0)=="<";++ee);for(x=x.slice(ee),p=0;p!=x.length;++p)if(g=x[p].trim(),g.length!==0){if(v=g.match(r),y=p,b=0,N=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(y=0,A=v[1],b=0;b!=A.length&&!((N=A.charCodeAt(b)-64)<1||N>26);++b)y=26*y+N;--y,C=y}else++C;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,j=Ut(g.slice(0,b),!0),j.r||(j.r=Bt({r:E-1,c:C})),A=g.slice(b),S={t:""},(v=A.match(s))!=null&&v[1]!==""&&(S.v=cr(v[1])),d.cellFormula){if((v=A.match(i))!=null&&v[1]!==""){if(S.f=cr(Pr(v[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=MP(S.f)),v[0].indexOf('t="array"')>-1)S.F=(A.match(a)||[])[1],S.F.indexOf(":")>-1&&R.push([ur(S.F),S.F]);else if(v[0].indexOf('t="shared"')>-1){T=Ut(v[0]);var K=cr(Pr(v[1]));d.xlfn||(K=MP(K)),z[parseInt(T.si,10)]=[T,K,j.r]}}else(v=A.match(/<f[^>]*\/>/))&&(T=Ut(v[0]),z[T.si]&&(S.f=Iie(z[T.si][1],z[T.si][2],j.r)));var ce=un(j.r);for(b=0;b<R.length;++b)ce.r>=R[b][0].s.r&&ce.r<=R[b][0].e.r&&ce.c>=R[b][0].s.c&&ce.c<=R[b][0].e.c&&(S.F=R[b][1])}if(j.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(F)S.t="z";else continue;else S.t=j.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),S.t){case"n":if(S.v==""||S.v==null){if(!F)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!F)continue;S.t="z"}else I=Np[parseInt(S.v,10)],S.v=I.t,S.r=I.r,d.cellHTML&&(S.h=I.h);break;case"str":S.t="s",S.v=S.v!=null?Pr(S.v):"",d.cellHTML&&(S.h=G3(S.v));break;case"inlineStr":v=A.match(n),S.t="s",v!=null&&(I=oA(v[1]))?(S.v=I.t,d.cellHTML&&(S.h=I.h)):S.v="";break;case"b":S.v=qr(S.v);break;case"d":d.cellDates?S.v=Yr(S.v,1):(S.v=ha(Yr(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=d9[S.v];break}if(P=H=0,ae=null,q&&j.s!==void 0&&(ae=m.CellXf[j.s],ae!=null&&(ae.numFmtId!=null&&(P=ae.numFmtId),d.cellStyles&&ae.fillId!=null&&(H=ae.fillId))),lB(S,P,H,d,h,m),d.cellDates&&q&&S.t=="n"&&Rh(Mt[P])&&(S.t="d",S.v=N2(S.v)),j.cm&&d.xlmeta){var xe=(d.xlmeta.Cell||[])[+j.cm-1];xe&&xe.type=="XLDAPR"&&(S.D=!0)}if(Y){var G=un(j.r);u[G.r]||(u[G.r]=[]),u[G.r][G.c]=S}else u[j.r]=S}}}}U.length>0&&(u["!rows"]=U)}}();function Ule(e,t,r,n){var a=[],s=[],i=ur(e["!ref"]),l="",c,u="",d=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),g={r:u},x,v=-1;for(h=i.s.c;h<=i.e.c;++h)d[h]=cn(h);for(f=i.s.r;f<=i.e.r;++f){for(s=[],u=Rn(f),h=i.s.c;h<=i.e.c;++h){c=d[h]+u;var y=p?(e[f]||[])[h]:e[c];y!==void 0&&(l=Ble(y,c,e,t))!=null&&s.push(l)}(s.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=vg(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=ct("row",s.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=vg(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=ct("row","",g));return a.join("")}function uB(e,t,r,n){var a=[zn,ct("worksheet",null,{xmlns:T0[0],"xmlns:r":ca.r})],s=r.SheetNames[e],i=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=ur(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Xt(d)}n||(n={}),c["!comments"]=[];var f=[];jle(c,r,e,t,a),a[a.length]=ct("dimension",null,{ref:u}),a[a.length]=Rle(c,t,e,r),t.sheetFormat&&(a[a.length]=ct("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Fle(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Ule(c,t),l.length>0&&(a[a.length]=l)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=Ele(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Dle(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Nle(c["!merges"]));var h=-1,m,p=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(p=Sr(n,-1,Ar(g[1].Target).replace(/#.*$/,""),er.HLINK),m["r:id"]="rId"+p),(h=g[1].Target.indexOf("#"))>-1&&(m.location=Ar(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=Ar(g[1].Tooltip)),a[a.length]=ct("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Ple(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=$a("ignoredErrors",ct("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(p=Sr(n,-1,"../drawings/drawing"+(e+1)+".xml",er.DRAW),a[a.length]=ct("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=f),c["!comments"].length>0&&(p=Sr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",er.VML),a[a.length]=ct("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function $le(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function Wle(e,t,r){var n=He(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=vg(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var p=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Bt(u)];p&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function Hle(e,t,r,n){var a=Wle(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Xe(e,0,a)}var Vle=L0,qle=Uh;function Gle(){}function Kle(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Zte(e),r}function Yle(e,t,r){r==null&&(r=He(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return $y({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),i9(e,r),r.slice(0,r.l)}function Xle(e){var t=go(e);return[t]}function Zle(e,t,r){return r==null&&(r=He(8)),P0(t,r)}function Jle(e){var t=O0(e);return[t]}function Qle(e,t,r){return r==null&&(r=He(4)),F0(t,r)}function ece(e){var t=go(e),r=e.read_shift(1);return[t,r,"b"]}function tce(e,t,r){return r==null&&(r=He(9)),P0(t,r),r.write_shift(1,e.v?1:0),r}function rce(e){var t=O0(e),r=e.read_shift(1);return[t,r,"b"]}function nce(e,t,r){return r==null&&(r=He(5)),F0(t,r),r.write_shift(1,e.v?1:0),r}function ace(e){var t=go(e),r=e.read_shift(1);return[t,r,"e"]}function sce(e,t,r){return r==null&&(r=He(9)),P0(t,r),r.write_shift(1,e.v),r}function ice(e){var t=O0(e),r=e.read_shift(1);return[t,r,"e"]}function oce(e,t,r){return r==null&&(r=He(8)),F0(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function lce(e){var t=go(e),r=e.read_shift(4);return[t,r,"s"]}function cce(e,t,r){return r==null&&(r=He(12)),P0(t,r),r.write_shift(4,t.v),r}function uce(e){var t=O0(e),r=e.read_shift(4);return[t,r,"s"]}function dce(e,t,r){return r==null&&(r=He(8)),F0(t,r),r.write_shift(4,t.v),r}function fce(e){var t=go(e),r=cs(e);return[t,r,"n"]}function hce(e,t,r){return r==null&&(r=He(16)),P0(t,r),m0(e.v,r),r}function dB(e){var t=O0(e),r=cs(e);return[t,r,"n"]}function mce(e,t,r){return r==null&&(r=He(12)),F0(t,r),m0(e.v,r),r}function pce(e){var t=go(e),r=rA(e);return[t,r,"n"]}function gce(e,t,r){return r==null&&(r=He(12)),P0(t,r),o9(e.v,r),r}function xce(e){var t=O0(e),r=rA(e);return[t,r,"n"]}function vce(e,t,r){return r==null&&(r=He(8)),F0(t,r),o9(e.v,r),r}function yce(e){var t=go(e),r=Q3(e);return[t,r,"is"]}function bce(e){var t=go(e),r=hs(e);return[t,r,"str"]}function wce(e,t,r){return r==null&&(r=He(12+4*e.v.length)),P0(t,r),Ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kce(e){var t=O0(e),r=hs(e);return[t,r,"str"]}function Nce(e,t,r){return r==null&&(r=He(8+4*e.v.length)),F0(t,r),Ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Sce(e,t,r){var n=e.l+t,a=go(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=A2(e,n-e.l,r);i[3]=as(l,null,a,r.supbooks,r)}else e.l=n;return i}function jce(e,t,r){var n=e.l+t,a=go(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=A2(e,n-e.l,r);i[3]=as(l,null,a,r.supbooks,r)}else e.l=n;return i}function Ace(e,t,r){var n=e.l+t,a=go(e);a.r=r["!row"];var s=cs(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=A2(e,n-e.l,r);i[3]=as(l,null,a,r.supbooks,r)}else e.l=n;return i}function _ce(e,t,r){var n=e.l+t,a=go(e);a.r=r["!row"];var s=hs(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=A2(e,n-e.l,r);i[3]=as(l,null,a,r.supbooks,r)}else e.l=n;return i}var Ece=L0,Cce=Uh;function Tce(e,t){return t==null&&(t=He(4)),t.write_shift(4,e),t}function Pce(e,t){var r=e.l+t,n=L0(e),a=eA(e),s=hs(e),i=hs(e),l=hs(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function Oce(e,t){var r=He(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Uh({s:un(e[0]),e:un(e[0])},r),tA("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ca(a||"",r),Ca(e[1].Tooltip||"",r),Ca("",r),r.slice(0,r.l)}function Fce(){}function Lce(e,t,r){var n=e.l+t,a=l9(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=ale(e,n-e.l,r);i[1]=l}else e.l=n;return i}function Dce(e,t,r){var n=e.l+t,a=L0(e),s=[a];if(r.cellFormula){var i=ile(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function Ice(e,t,r){r==null&&(r=He(18));var n=_2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var fB=["left","right","top","bottom","header","footer"];function Mce(e){var t={};return fB.forEach(function(r){t[r]=cs(e)}),t}function Rce(e,t){return t==null&&(t=He(6*8)),Yd(e),fB.forEach(function(r){m0(e[r],t)}),t}function Bce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function zce(e,t,r){r==null&&(r=He(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Uce(e){var t=He(24);return t.write_shift(4,4),t.write_shift(4,1),Uh(e,t),t}function $ce(e,t){return t==null&&(t=He(16*4+2)),t.write_shift(2,e.password?lA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Wce(){}function Hce(){}function Vce(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,x,v,y,b,N,A,S=[];l.biff=12,l["!row"]=0;var j=0,E=!1,C=[],I={},T=l.supbooks||a.supbooks||[[]];if(T.sharedf=I,T.arrayf=C,T.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!l.supbooks&&(l.supbooks=T,a.Names))for(var P=0;P<a.Names.length;++P)T[0][P+1]=a.Names[P];var H=[],q=[],ae=!1;yg[16]={n:"BrtShortReal",f:dB};var R;if(Pc(e,function(U,Q,pe){if(!h)switch(pe){case 148:u=U;break;case 0:m=U,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),N=Rn(x=m.r),l["!row"]=m.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=ph(U.hpt)),q[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:U[2]},U[2]){case"n":p.v=U[1];break;case"s":b=Np[U[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!U[1];break;case"e":p.v=U[1],l.cellText!==!1&&(p.w=Oc[p.v]);break;case"str":p.t="s",p.v=U[1];break;case"is":p.t="s",p.v=U[1].t;break}if((g=i.CellXf[U[0].iStyleRef])&&lB(p,g.numFmtId,null,l,s,i),v=U[0].c==-1?v+1:U[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=p):c[cn(v)+N]=p,l.cellFormula){for(E=!1,j=0;j<C.length;++j){var F=C[j];m.r>=F[0].s.r&&m.r<=F[0].e.r&&v>=F[0].s.c&&v<=F[0].e.c&&(p.F=Xt(F[0]),E=!0)}!E&&U.length>3&&(p.f=U[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>v&&(d.s.c=v),d.e.r<m.r&&(d.e.r=m.r),d.e.c<v&&(d.e.c=v),l.cellDates&&g&&p.t=="n"&&Rh(Mt[g.numFmtId])){var M=Ld(p.v);M&&(p.t="d",p.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}R&&(R.type=="XLDAPR"&&(p.D=!0),R=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;p={t:"z",v:void 0},v=U[0].c==-1?v+1:U[0].c,l.dense?(c[x]||(c[x]=[]),c[x][v]=p):c[cn(v)+N]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>v&&(d.s.c=v),d.e.r<m.r&&(d.e.r=m.r),d.e.c<v&&(d.e.c=v),R&&(R.type=="XLDAPR"&&(p.D=!0),R=void 0);break;case 176:S.push(U);break;case 49:R=((l.xlmeta||{}).Cell||[])[U-1];break;case 494:var B=n["!id"][U.relId];for(B?(U.Target=B.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=B):U.relId==""&&(U.Target="#"+U.loc),x=U.rfx.s.r;x<=U.rfx.e.r;++x)for(v=U.rfx.s.c;v<=U.rfx.e.c;++v)l.dense?(c[x]||(c[x]=[]),c[x][v]||(c[x][v]={t:"z",v:void 0}),c[x][v].l=U):(y=Bt({c:v,r:x}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=U);break;case 426:if(!l.cellFormula)break;C.push(U),A=l.dense?c[x][v]:c[cn(v)+N],A.f=as(U[1],d,{r:m.r,c:v},T,l),A.F=Xt(U[0]);break;case 427:if(!l.cellFormula)break;I[Bt(U[0].s)]=U[1],A=l.dense?c[x][v]:c[cn(v)+N],A.f=as(U[1],d,{r:m.r,c:v},T,l);break;case 60:if(!l.cellStyles)break;for(;U.e>=U.s;)H[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},ae||(ae=!0,cA(U.w/256)),Bu(H[U.e+1]);break;case 161:c["!autofilter"]={ref:Xt(U)};break;case 476:c["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(c["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Q.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+pe.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Xt(u||d)),l.sheetRows&&c["!ref"]){var z=ur(c["!ref"]);l.sheetRows<=+z.e.r&&(z.e.r=l.sheetRows-1,z.e.r>d.e.r&&(z.e.r=d.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>d.e.c&&(z.e.c=d.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Xt(z))}return S.length>0&&(c["!merges"]=S),H.length>0&&(c["!cols"]=H),q.length>0&&(c["!rows"]=q),c}function qce(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Xr(t),t.z=t.z||Mt[14],t.v=ha(Yr(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=ad(a.cellXfs,t,a),t.l&&s["!links"].push([Bt(c),t.l]),t.c&&s["!comments"].push([Bt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=mA(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,i?Xe(e,18,dce(t,c)):Xe(e,7,cce(t,c))):(c.t="str",i?Xe(e,17,Nce(t,c)):Xe(e,6,wce(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Xe(e,13,vce(t,c)):Xe(e,2,gce(t,c)):i?Xe(e,16,mce(t,c)):Xe(e,5,hce(t,c)),!0;case"b":return c.t="b",i?Xe(e,15,nce(t,c)):Xe(e,4,tce(t,c)),!0;case"e":return c.t="e",i?Xe(e,14,oce(t,c)):Xe(e,3,sce(t,c)),!0}return i?Xe(e,12,Qle(t,c)):Xe(e,1,Zle(t,c)),!0}function Gce(e,t,r,n){var a=ur(t["!ref"]||"A1"),s,i="",l=[];Xe(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){i=Rn(d),Hle(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=cn(h)),s=l[h]+i;var m=c?(t[d]||[])[h]:t[s];if(!m){f=!1;continue}f=qce(e,m,d,h,n,t,f)}}Xe(e,146)}function Kce(e,t){!t||!t["!merges"]||(Xe(e,177,Tce(t["!merges"].length)),t["!merges"].forEach(function(r){Xe(e,176,Cce(r))}),Xe(e,178))}function Yce(e,t){!t||!t["!cols"]||(Xe(e,390),t["!cols"].forEach(function(r,n){r&&Xe(e,60,Ice(n,r))}),Xe(e,391))}function Xce(e,t){!t||!t["!ref"]||(Xe(e,648),Xe(e,649,Uce(ur(t["!ref"]))),Xe(e,650))}function Zce(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Sr(r,-1,n[1].Target.replace(/#.*$/,""),er.HLINK);Xe(e,494,Oce(n,a))}}),delete t["!links"]}function Jce(e,t,r,n){if(t["!comments"].length>0){var a=Sr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",er.VML);Xe(e,551,tA("rId"+a)),t["!legacy"]=a}}function Qce(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Xt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=ni(s);l.s.r==l.e.r&&(l.e.r=ni(t["!ref"]).e.r,s=Xt(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Xe(e,161,Uh(ur(s))),Xe(e,162)}}function eue(e,t,r){Xe(e,133),Xe(e,137,zce(t,r)),Xe(e,138),Xe(e,134)}function tue(e,t){t["!protect"]&&Xe(e,535,$ce(t["!protect"]))}function rue(e,t,r,n){var a=ri(),s=r.SheetNames[e],i=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=ur(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Xe(a,129),(r.vbaraw||i["!outline"])&&Xe(a,147,Yle(l,i["!outline"])),Xe(a,148,qle(c)),eue(a,i,r.Workbook),Yce(a,i),Gce(a,i,e,t),tue(a,i),Qce(a,i,r,e),Kce(a,i),Zce(a,i,n),i["!margins"]&&Xe(a,476,Rce(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Xce(a,i),Jce(a,i,e,n),Xe(a,130),a.end()}function nue(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=cr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function aue(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=nue(f);d.s.r=d.s.c=0,d.e.c=l,u=cn(l),h[0].forEach(function(m,p){i[u+Rn(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(i["!ref"]=Xt(d)),i}function sue(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(cB);return l&&pA(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function iue(e,t){e.l+=10;var r=hs(e);return{name:r}}function oue(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Pc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var gA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],lue=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],cue=[],uue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function $P(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=qr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function WP(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=qr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function hB(e){WP(e.WBProps,gA),WP(e.CalcPr,uue),$P(e.WBView,lue),$P(e.Sheets,cue),Qf.date1904=qr(e.WBProps.date1904)}function due(e){return!e.Workbook||!e.Workbook.WBProps?"false":qr(e.Workbook.WBProps.date1904)?"true":"false"}var fue="][*?/\\".split("");function mB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return fue.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function hue(e,t,r){e.forEach(function(n,a){mB(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function mue(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];hue(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)dle(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var pue=/<\w+:workbook/;function gue(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(xs,function(c,u){var d=Ut(c);switch(Fl(d[0])){case"<?xml":break;case"<workbook":c.match(pue)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":gA.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=qr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Pr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=cr(Pr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Pr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),qr(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=cr(Pr(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),T0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return hB(r),r}function pB(e){var t=[zn];t[t.length]=ct("workbook",null,{xmlns:T0[0],"xmlns:r":ca.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gA.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ct("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:Ar(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=ct("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ct("definedName",Ar(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function xue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=T4(e),r.name=hs(e),r}function vue(e,t){return t||(t=He(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),tA(e.strRelID,t),Ca(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function yue(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?hs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function bue(e,t){t||(t=He(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),i9(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function wue(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function kue(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Jte(e),i=sle(e,0,r),l=eA(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Nue(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],yg[16]={n:"BrtFRTArchID$",f:wue},Pc(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=as(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),hB(r),r.Names=s,r.supbooks=i,r}function Sue(e,t){Xe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Xe(e,156,vue(a))}Xe(e,144)}function jue(e,t){t||(t=He(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ca("SheetJS",t),Ca(Dy.version,t),Ca(Dy.version,t),Ca("7262",t),t.length>t.l?t.slice(0,t.l):t}function Aue(e,t){t||(t=He(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function _ue(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Xe(e,135),Xe(e,158,Aue(a)),Xe(e,136))}}function Eue(e,t){var r=ri();return Xe(r,131),Xe(r,128,jue()),Xe(r,153,bue(e.Workbook&&e.Workbook.WBProps||null)),_ue(r,e),Sue(r,e),Xe(r,132),r.end()}function Cue(e,t,r){return t.slice(-4)===".bin"?Nue(e,r):gue(e,r)}function Tue(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Vce(e,n,r,a,s,i,l):kle(e,n,r,a,s,i,l)}function Pue(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?oue(e,n,r,a,s):sue(e,n,r,a,s)}function Oue(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Lie():Die()}function Fue(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Oie():Fie()}function Lue(e,t,r,n){return t.slice(-4)===".bin"?Cse(e,r,n):xse(e,r,n)}function Due(e,t,r){return Y9(e,r)}function Iue(e,t,r){return t.slice(-4)===".bin"?Iae(e,r):Fae(e,r)}function Mue(e,t,r){return t.slice(-4)===".bin"?_ie(e,r):vie(e,r)}function Rue(e,t,r){return t.slice(-4)===".bin"?pie(e):hie(e)}function Bue(e,t,r,n){return r.slice(-4)===".bin"?gie(e,t,r,n):void 0}function zue(e,t,r){return t.slice(-4)===".bin"?uie(e,t,r):fie(e,t,r)}function Uue(e,t,r){return(t.slice(-4)===".bin"?Eue:pB)(e)}function $ue(e,t,r,n,a){return(t.slice(-4)===".bin"?rue:uB)(e,r,n,a)}function Wue(e,t,r){return(t.slice(-4)===".bin"?Bse:G9)(e,r)}function Hue(e,t,r){return(t.slice(-4)===".bin"?Bae:B9)(e,r)}function Vue(e,t,r){return(t.slice(-4)===".bin"?Eie:J9)(e)}function que(e){return(e.slice(-4)===".bin"?die:X9)()}var gB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,xB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function _o(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(gB),s,i,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(xB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function Gue(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(gB),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(xB),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var jp;function Kue(e,t){var r=jp[e]||cr(e);return r==="General"?f0(t):fo(r,t)}function Yue(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=qr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Yr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[cr(t)]=a}function Xue(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Oc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ug(e.v):e.w=f0(e.v):e.w=Kue(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=jp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Rh(n)){var a=Ld(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Zue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=cse[n.Pattern]||n.Pattern)}e[t.ID]=t}function Jue(e,t,r,n,a,s,i,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=qr(e);break;case"String":n.t="s",n.r=iP(cr(e)),n.v=e.indexOf("<")>-1?cr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Yr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=cr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=d9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=iP(t||e));break}if(Xue(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=cr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Jf(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Jf("RC:RC",a):n.ArrayRange&&(n.F=Jf(n.ArrayRange,a),c.push([ur(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Que(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function vk(e,t){var r=t||{};Bh();var n=np(K3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Pr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=Xr(r);return i.type="string",mh.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(rt){a.indexOf("<"+rt)>=0&&(s=!0)}),s)return Rde(n,r);jp={"General Number":"General","General Date":Mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Mt[15],"Short Date":Mt[14],"Long Time":Mt[19],"Medium Time":Mt[18],"Short Time":Mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Mt[2],Standard:Mt[4],Percent:Mt[10],Scientific:Mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},g={},x=_o('<Data ss:Type="String">'),v=0,y=0,b=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},S={},j="",E=0,C=[],I={},T={},P=0,H=[],q=[],ae={},R=[],z,Y=!1,U=[],Q=[],pe={},F=0,M=0,B={Sheets:[],WBProps:{date1904:!1}},D={};hg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var X="";l=hg.exec(n);)switch(l[3]=(X=l[3]).toLowerCase()){case"data":if(X=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Jue(n.slice(v,l.index),j,x,c[c.length-1][0]=="comment"?ae:p,{c:y,r:b},A,R[y],g,U,r):(j="",x=_o(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(q.length>0&&(p.c=q),(!r.sheetRows||r.sheetRows>b)&&p.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=p):h[cn(y)+Rn(b)]=p),p.HRef&&(p.l={Target:cr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=y+(parseInt(p.MergeAcross,10)|0),M=b+(parseInt(p.MergeDown,10)|0),C.push({s:{c:y,r:b},e:{c:F,r:M}})),!r.sheetStubs)p.MergeAcross?y=F+1:++y;else if(p.MergeAcross||p.MergeDown){for(var V=y;V<=F;++V)for(var ee=b;ee<=M;++ee)(V>y||ee>b)&&(r.dense?(h[ee]||(h[ee]=[]),h[ee][V]={t:"z"}):h[cn(V)+Rn(ee)]={t:"z"});y=F+1}else++y;else p=Gue(l[0]),p.Index&&(y=+p.Index-1),y<N.s.c&&(N.s.c=y),y>N.e.c&&(N.e.c=y),l[0].slice(-2)==="/>"&&++y,q=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<N.s.r&&(N.s.r=b),b>N.e.r&&(N.e.r=b),l[0].slice(-2)==="/>"&&(g=_o(l[0]),g.Index&&(b=+g.Index-1)),y=0,++b):(g=_o(l[0]),g.Index&&(b=+g.Index-1),pe={},(g.AutoFitHeight=="0"||g.Height)&&(pe.hpx=parseInt(g.Height,10),pe.hpt=vg(pe.hpx),Q[b]=pe),g.Hidden=="1"&&(pe.hidden=!0,Q[b]=pe));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(h["!ref"]=Xt(N),r.sheetRows&&r.sheetRows<=N.e.r&&(h["!fullref"]=h["!ref"],N.e.r=r.sheetRows-1,h["!ref"]=Xt(N))),C.length&&(h["!merges"]=C),R.length>0&&(h["!cols"]=R),Q.length>0&&(h["!rows"]=Q),d[m]=h}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([l[3],!1]),u=_o(l[0]),m=cr(u.Name),h=r.dense?[]:{},C=[],U=[],Q=[],D={name:m,Hidden:0},B.Sheets.push(D);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),R=[],Y=!1}break;case"style":l[1]==="/"?Zue(A,S,r):S=_o(l[0]);break;case"numberformat":S.nf=cr(_o(l[0]).Format||"General"),jp[S.nf]&&(S.nf=jp[S.nf]);for(var K=0;K!=392&&Mt[K]!=S.nf;++K);if(K==392){for(K=57;K!=392;++K)if(Mt[K]==null){oc(S.nf,K);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(z=_o(l[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!Y&&z.wpx>10){Y=!0,is=V9;for(var ce=0;ce<R.length;++ce)R[ce]&&Bu(R[ce])}Y&&Bu(z),R[z.Index-1||R.length]=z;for(var xe=0;xe<+z.Span;++xe)R[R.length]=Xr(z);break;case"namedrange":if(l[1]==="/")break;B.Names||(B.Names=[]);var G=Ut(l[0]),Ce={Name:G.Name,Ref:Jf(G.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Ce.Sheet=B.Sheets.length-1),B.Names.push(Ce);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(E,l.index):E=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=_o(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Nre(I,X,n.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));Que(ae),q.push(ae)}else c.push([l[3],!1]),u=_o(l[0]),ae={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ve=_o(l[0]);h["!autofilter"]={ref:Jf(Ve.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return KP(n,r);var Se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(l[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(P,l.index)){case"SheetHidden":D.Hidden=1;break;case"SheetVeryHidden":D.Hidden=2;break}else P=l.index+l[0].length;break;case"header":h["!margins"]||Yd(h["!margins"]={},"xlml"),isNaN(+Ut(l[0]).Margin)||(h["!margins"].header=+Ut(l[0]).Margin);break;case"footer":h["!margins"]||Yd(h["!margins"]={},"xlml"),isNaN(+Ut(l[0]).Margin)||(h["!margins"].footer=+Ut(l[0]).Margin);break;case"pagemargins":var ue=Ut(l[0]);h["!margins"]||Yd(h["!margins"]={},"xlml"),isNaN(+ue.Top)||(h["!margins"].top=+ue.Top),isNaN(+ue.Left)||(h["!margins"].left=+ue.Left),isNaN(+ue.Right)||(h["!margins"].right=+ue.Right),isNaN(+ue.Bottom)||(h["!margins"].bottom=+ue.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Yue(T,X,H,n.slice(P,l.index)):(H=l,P=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Me={};return!r.bookSheets&&!r.bookProps&&(Me.Sheets=d),Me.SheetNames=f,Me.Workbook=B,Me.SSF=Xr(Mt),Me.Props=I,Me.Custprops=T,Me}function M4(e,t){switch(vA(t=t||{}),t.type||"base64"){case"base64":return vk(Ei(e),t);case"binary":case"buffer":case"file":return vk(e,t);case"array":return vk(rd(e),t)}}function ede(e,t){var r=[];return e.Props&&r.push(Sre(e.Props,t)),e.Custprops&&r.push(jre(e.Props,e.Custprops)),r.join("")}function tde(){return""}function rde(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(ct("NumberFormat",null,{"ss:Format":Ar(Mt[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(ct("Style",s.join(""),i))}),ct("Styles",r.join(""))}function vB(e){return ct("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+fA(e.Ref,{r:0,c:0})})}function nde(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(vB(a)))}return ct("Names",r.join(""))}function ade(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var l=a[i];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(vB(l)))}return s.join("")}function sde(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ct("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ct("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ct("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ct("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push($a("ProtectContents","True")),e["!protect"].objects&&a.push($a("ProtectObjects","True")),e["!protect"].scenarios&&a.push($a("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push($a("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push($a("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":ct("WorksheetOptions",a.join(""),{xmlns:mi.x})}function ide(e){return e.map(function(t){var r=_te(t.t||""),n=ct("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ct("Comment",n,{"ss:Author":t.a})}).join("")}function ode(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Ar(fA(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=un(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Ar(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Ar(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Oc[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Mt[14]);break;case"s":f="String",h=Ate(e.v||"");break}var m=ad(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=i.c+1;var p=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=ide(e.c)),ct("Cell",g,l)}function lde(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ph(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function cde(e,t,r,n){if(!e["!ref"])return"";var a=ur(e["!ref"]),s=e["!merges"]||[],i=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,v){Bu(x);var y=!!x.width,b=_2(v,x),N={"ss:Index":v+1};y&&(N["ss:Width"]=gg(b.width)),x.hidden&&(N["ss:Hidden"]="1"),l.push(ct("Column",null,N))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[lde(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>u)&&!(s[i].e.c<f)&&!(s[i].e.r<u)){(s[i].s.c!=f||s[i].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},p=Bt(m),g=c?(e[u]||[])[f]:e[p];d.push(ode(g,p,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function ude(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?ade(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?cde(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(sde(s,t,e,r)),n.join("")}function dde(e,t){t||(t={}),e.SSF||(e.SSF=Xr(Mt)),e.SSF&&(Bh(),b2(e.SSF),t.revssf=k2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],ad(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ede(e,t)),r.push(tde()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ct("Worksheet",ude(n,t,e),{"ss:Name":Ar(e.SheetNames[n])}));return r[2]=rde(e,t),r[3]=nde(e),zn+ct("Workbook",r.join(""),{xmlns:mi.ss,"xmlns:o":mi.o,"xmlns:x":mi.x,"xmlns:ss":mi.ss,"xmlns:dt":mi.dt,"xmlns:html":mi.html})}function fde(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=nre(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=are(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var hde=[60,1084,2066,2165,2175];function mde(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var c=rc(r,r.l),u=R4[c],d=0;u!=null&&hde.indexOf(c)>-1;)s=rc(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),i.push(l),r.l+=4+s,u=R4[c=rc(r,r.l)];var f=Ea(i);Ua(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ll(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Mt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Oc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ug(e.v):e.w=f0(e.v):e.w=fo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Rh(Mt[n]||String(n))){var a=Ld(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function sv(e,t,r){return{v:e,ixfe:t,t:r}}function pde(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,c=[],u="",d={},f,h="",m,p,g,x,v={},y=[],b,N,A=[],S=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},C=function(nt){return nt<8?qd[nt]:nt<64&&S[nt-8]||qd[nt]},I=function(nt,Qe,tr){var jt=Qe.XF.data;if(!(!jt||!jt.patternType||!tr||!tr.cellStyles)){Qe.s={},Qe.s.patternType=jt.patternType;var $r;($r=pg(C(jt.icvFore)))&&(Qe.s.fgColor={rgb:$r}),($r=pg(C(jt.icvBack)))&&(Qe.s.bgColor={rgb:$r})}},T=function(nt,Qe,tr){if(!(pe>1)&&!(tr.sheetRows&&nt.r>=tr.sheetRows)){if(tr.cellStyles&&Qe.XF&&Qe.XF.data&&I(nt,Qe,tr),delete Qe.ixfe,delete Qe.XF,f=nt,h=Bt(nt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),nt.r<i.s.r&&(i.s.r=nt.r),nt.c<i.s.c&&(i.s.c=nt.c),nt.r+1>i.e.r&&(i.e.r=nt.r+1),nt.c+1>i.e.c&&(i.e.c=nt.c+1),tr.cellFormula&&Qe.f){for(var jt=0;jt<y.length;++jt)if(!(y[jt][0].s.c>nt.c||y[jt][0].s.r>nt.r)&&!(y[jt][0].e.c<nt.c||y[jt][0].e.r<nt.r)){Qe.F=Xt(y[jt][0]),(y[jt][0].s.c!=nt.c||y[jt][0].s.r!=nt.r)&&delete Qe.f,Qe.f&&(Qe.f=""+as(y[jt][1],i,nt,U,P));break}}tr.dense?(a[nt.r]||(a[nt.r]=[]),a[nt.r][nt.c]=Qe):a[h]=Qe}},P={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var H,q=[],ae=[],R=[],z=[],Y=!1,U=[];U.SheetNames=P.snames,U.sharedf=P.sharedf,U.arrayf=P.arrayf,U.names=[],U.XTI=[];var Q=0,pe=0,F=0,M=[],B=[],D;P.codepage=1200,Bo(1200);for(var X=!1;e.l<e.length-1;){var V=e.l,ee=e.read_shift(2);if(ee===0&&Q===10)break;var K=e.l===e.length?0:e.read_shift(2),ce=R4[ee];if(ce&&ce.f){if(t.bookSheets&&Q===133&&ee!==133)break;if(Q=ee,ce.r===2||ce.r==12){var xe=e.read_shift(2);if(K-=2,!P.enc&&xe!==ee&&((xe&255)<<8|xe>>8)!==ee)throw new Error("rt mismatch: "+xe+"!="+ee);ce.r==12&&(e.l+=10,K-=10)}var G={};if(ee===10?G=ce.f(e,K,P):G=mde(ee,ce,e,K,P),pe==0&&[9,521,1033,2057].indexOf(Q)===-1)continue;switch(ee){case 34:r.opts.Date1904=j.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=G,!t.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=G;break;case 66:var Ce=Number(G);switch(Ce){case 21010:Ce=1200;break;case 32768:Ce=1e4;break;case 32769:Ce=1252;break}Bo(P.codepage=Ce),X=!0;break;case 317:P.rrtabid=G;break;case 25:P.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:P.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(a["!type"]="dialog"),G.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),G.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:A.push(G);break;case 430:U.push([G]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(G);break;case 24:case 536:D={Name:G.Name,Ref:as(G.rgce,i,null,U,P)},G.itab>0&&(D.Sheet=G.itab-1),U.names.push(D),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(B[G.itab-1]={ref:Xt(G.rgce[0][0][1][2])});break;case 22:P.ExternCount=G;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(G),U.XTI=U.XTI.concat(G);break;case 2196:if(P.biff<8)break;D!=null&&(D.Comment=G[1]);break;case 18:a["!protect"]=G;break;case 19:G!==0&&P.WTF&&console.error("Password verifier: "+G);break;case 133:s[G.pos]=G,P.snames.push(G.name);break;case 10:{if(--pe)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Xt(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ve=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Xt(i),i.e.r=Ve}i.e.r++,i.e.c++}q.length>0&&(a["!merges"]=q),ae.length>0&&(a["!objects"]=ae),R.length>0&&(a["!cols"]=R),z.length>0&&(a["!rows"]=z),j.Sheets.push(E)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),P.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(P.biff=5,X=!0,Bo(P.codepage=28591)),P.biff==8&&G.BIFFVer==0&&G.dt==16&&(P.biff=2),pe++)break;if(a=t.dense?[]:{},P.biff<8&&!X&&(X=!0,Bo(P.codepage=t.codepage||1252)),P.biff<5||G.BIFFVer==0&&G.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-K,name:u};s[Se.pos]=Se,P.snames.push(u)}else u=(s[V]||{name:""}).name;G.dt==32&&(a["!type"]="chart"),G.dt==64&&(a["!type"]="macro"),q=[],ae=[],P.arrayf=y=[],R=[],z=[],Y=!1,E={Hidden:(s[V]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[G.r]||[])[G.c]:a[Bt({c:G.c,r:G.r})])&&++G.c,b={ixfe:G.ixfe,XF:A[G.ixfe]||{},v:G.val,t:"n"},F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:G.c,r:G.r},b,t);break;case 5:case 517:b={ixfe:G.ixfe,XF:A[G.ixfe],v:G.val,t:G.t},F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:G.c,r:G.r},b,t);break;case 638:b={ixfe:G.ixfe,XF:A[G.ixfe],v:G.rknum,t:"n"},F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:G.c,r:G.r},b,t);break;case 189:for(var ue=G.c;ue<=G.C;++ue){var Me=G.rkrec[ue-G.c][0];b={ixfe:Me,XF:A[Me],v:G.rkrec[ue-G.c][1],t:"n"},F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:ue,r:G.r},b,t)}break;case 6:case 518:case 1030:{if(G.val=="String"){l=G;break}if(b=sv(G.val,G.cell.ixfe,G.tt),b.XF=A[b.ixfe],t.cellFormula){var rt=G.formula;if(rt&&rt[0]&&rt[0][0]&&rt[0][0][0]=="PtgExp"){var We=rt[0][0][1][0],ve=rt[0][0][1][1],Ue=Bt({r:We,c:ve});v[Ue]?b.f=""+as(G.formula,i,G.cell,U,P):b.F=((t.dense?(a[We]||[])[ve]:a[Ue])||{}).F}else b.f=""+as(G.formula,i,G.cell,U,P)}F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T(G.cell,b,t),l=G}break;case 7:case 519:if(l)l.val=G,b=sv(G,l.cell.ixfe,"s"),b.XF=A[b.ixfe],t.cellFormula&&(b.f=""+as(l.formula,i,l.cell,U,P)),F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(G);var Je=Bt(G[0].s);if(m=t.dense?(a[G[0].s.r]||[])[G[0].s.c]:a[Je],t.cellFormula&&m){if(!l||!Je||!m)break;m.f=""+as(G[1],i,G[0],U,P),m.F=Xt(G[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[Bt(l.cell)]=G[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Bt(l.cell)],(m||{}).f=""+as(G[0],i,f,U,P)}}break;case 253:b=sv(c[G.isst].t,G.ixfe,"s"),c[G.isst].h&&(b.h=c[G.isst].h),b.XF=A[b.ixfe],F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:G.c,r:G.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:G.ixfe,XF:A[G.ixfe],t:"z"},F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:G.c,r:G.r},b,t));break;case 190:if(t.sheetStubs)for(var dt=G.c;dt<=G.C;++dt){var be=G.ixfe[dt-G.c];b={ixfe:be,XF:A[be],t:"z"},F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:dt,r:G.r},b,t)}break;case 214:case 516:case 4:b=sv(G.val,G.ixfe,"s"),b.XF=A[b.ixfe],F>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),T({c:G.c,r:G.r},b,t);break;case 0:case 512:pe===1&&(i=G);break;case 252:c=G;break;case 1054:if(P.biff==4){M[F++]=G[1];for(var at=0;at<F+163&&Mt[at]!=G[1];++at);at>=163&&oc(G[1],F+163)}else oc(G[1],G[0]);break;case 30:{M[F++]=G;for(var ht=0;ht<F+163&&Mt[ht]!=G;++ht);ht>=163&&oc(G,F+163)}break;case 229:q=q.concat(G);break;case 93:ae[G.cmo[0]]=P.lastobj=G;break;case 438:P.lastobj.TxO=G;break;case 127:P.lastobj.ImData=G;break;case 440:for(x=G[0].s.r;x<=G[0].e.r;++x)for(g=G[0].s.c;g<=G[0].e.c;++g)m=t.dense?(a[x]||[])[g]:a[Bt({c:g,r:x})],m&&(m.l=G[1]);break;case 2048:for(x=G[0].s.r;x<=G[0].e.r;++x)for(g=G[0].s.c;g<=G[0].e.c;++g)m=t.dense?(a[x]||[])[g]:a[Bt({c:g,r:x})],m&&m.l&&(m.l.Tooltip=G[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;m=t.dense?(a[G[0].r]||[])[G[0].c]:a[Bt(G[0])];var _t=ae[G[2]];m||(t.dense?(a[G[0].r]||(a[G[0].r]=[]),m=a[G[0].r][G[0].c]={t:"z"}):m=a[Bt(G[0])]={t:"z"},i.e.r=Math.max(i.e.r,G[0].r),i.s.r=Math.min(i.s.r,G[0].r),i.e.c=Math.max(i.e.c,G[0].c),i.s.c=Math.min(i.s.c,G[0].c)),m.c||(m.c=[]),p={a:G[1],t:_t.TxO.t},m.c.push(p)}break;case 2173:rie(A[G.ixfe],G.ext);break;case 125:{if(!P.cellStyles)break;for(;G.e>=G.s;)R[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},Y||(Y=!0,cA(G.w/256)),Bu(R[G.e+1])}break;case 520:{var Ct={};G.level!=null&&(z[G.r]=Ct,Ct.level=G.level),G.hidden&&(z[G.r]=Ct,Ct.hidden=!0),G.hpt&&(z[G.r]=Ct,Ct.hpt=G.hpt,Ct.hpx=ph(G.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Yd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ee]]=G;break;case 161:a["!margins"]||Yd(a["!margins"]={}),a["!margins"].header=G.header,a["!margins"].footer=G.footer;break;case 574:G.RTL&&(j.Views[0].RTL=!0);break;case 146:S=G;break;case 2198:H=G;break;case 140:N=G;break;case 442:u?E.CodeName=G||E.name:j.WBProps.CodeName=G||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+ee.toString(16)),e.l+=K}return r.SheetNames=jn(s).sort(function(xt,nt){return Number(xt)-Number(nt)}).map(function(xt){return s[xt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(xt,nt){r.Sheets[r.SheetNames[nt]]["!autofilter"]=xt}),r.Strings=c,r.SSF=Xr(Mt),P.enc&&(r.Encryption=P.enc),H&&(r.Themes=H),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),U.names.length>0&&(j.Names=U.names),r.Workbook=j,r}var Ap={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gde(e,t,r){var n=Pt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=SP(n,P4,Ap.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Pt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=SP(i,O4,Ap.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(x9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xde(e,t){var r=[],n=[],a=[],s=0,i,l=eP(P4,"n"),c=eP(O4,"n");if(e.Props)for(i=jn(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(l,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=jn(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(l,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var u=[];for(s=0;s<a.length;++s)S9.indexOf(a[s][0])>-1||g9.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&Pt.utils.cfb_add(t,"/SummaryInformation",jP(n,Ap.SI,c,O4)),(r.length||u.length)&&Pt.utils.cfb_add(t,"/DocumentSummaryInformation",jP(r,Ap.DSI,l,P4,u.length?u:null,Ap.UDI))}function yB(e,t){t||(t={}),vA(t),B3(),t.codepage&&R3(t.codepage);var r,n;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");r=Pt.find(e,"!CompObj"),n=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=gi(Ei(e));break;case"binary":e=gi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ua(e,0),n={content:e}}var a,s;if(r&&fde(r),t.bookProps&&!t.bookSheets)a={};else{var i=Jt?"buffer":"array";if(n&&n.content)a=pde(n.content,t);else if((s=Pt.find(e,"PerfectOffice_MAIN"))&&s.content)a=Kd.to_workbook(s.content,(t.type=i,t));else if((s=Pt.find(e,"NativeContent_MAIN"))&&s.content)a=Kd.to_workbook(s.content,(t.type=i,t));else throw(s=Pt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Tie(e))}var l={};return e.FullPaths&&gde(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function vde(e,t){var r=t||{},n=Pt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Pt.utils.cfb_add(n,a,bB(e,r)),r.biff==8&&(e.Props||e.Custprops)&&xde(e,n),r.biff==8&&e.vbaraw&&Pie(n,Pt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var yg={0:{f:$le},1:{f:Xle},2:{f:pce},3:{f:ace},4:{f:ece},5:{f:fce},6:{f:bce},7:{f:lce},8:{f:_ce},9:{f:Ace},10:{f:Sce},11:{f:jce},12:{f:Jle},13:{f:xce},14:{f:ice},15:{f:rce},16:{f:dB},17:{f:kce},18:{f:uce},19:{f:Q3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kue},40:{},42:{},43:{f:bse},44:{f:vse},45:{f:Nse},46:{f:jse},47:{f:Sse},48:{},49:{f:Vte},50:{},51:{f:sie},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:D9},62:{f:yce},63:{f:mie},64:{f:Wce},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Bce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Kle},148:{f:Vle,p:16},151:{f:Fce},152:{},153:{f:yue},154:{},155:{},156:{f:xue},157:{},158:{},159:{T:1,f:Dae},160:{T:-1},161:{T:1,f:L0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ece},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nie},336:{T:-1},337:{f:lie,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:T4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:L9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Lce},427:{f:Dce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Mce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Gle},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Pce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:T4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:jie},633:{T:1},634:{T:-1},635:{T:1,f:Nie},636:{T:-1},637:{f:Yte},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iue},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Hce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},R4={6:{f:gk},10:{f:tu},12:{f:Kn},13:{f:Kn},14:{f:Tn},15:{f:Tn},16:{f:cs},17:{f:Tn},18:{f:Tn},19:{f:Kn},20:{f:PP},21:{f:PP},23:{f:L9},24:{f:FP},25:{f:Tn},26:{},27:{},28:{f:Hne},29:{},34:{f:Tn},35:{f:OP},38:{f:cs},39:{f:cs},40:{f:cs},41:{f:cs},42:{f:Tn},43:{f:Tn},47:{f:rse},49:{f:xne},51:{f:Kn},60:{},61:{f:fne},64:{f:Tn},65:{f:gne},66:{f:Kn},77:{},80:{},81:{},82:{},85:{f:Kn},89:{},90:{},91:{},92:{f:tne},93:{f:Gne},94:{},95:{f:Tn},96:{},97:{},99:{f:Tn},125:{f:D9},128:{f:One},129:{f:nne},130:{f:Kn},131:{f:Tn},132:{f:Tn},133:{f:ane},134:{},140:{f:tae},141:{f:Kn},144:{},146:{f:aae},151:{},152:{},153:{},154:{},155:{},156:{f:Kn},157:{},158:{},160:{f:dae},161:{f:oae},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Ene},190:{f:Cne},193:{f:tu},197:{},198:{},199:{},200:{},201:{},202:{f:Tn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Kn},220:{},221:{f:Tn},222:{},224:{f:Pne},225:{f:ene},226:{f:tu},227:{},229:{f:Vne},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ine},253:{f:yne},255:{f:lne},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:j9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Tn},353:{f:tu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Mne},431:{f:Tn},432:{},433:{},434:{},437:{},438:{f:Xne},439:{f:Tn},440:{f:Zne},441:{},442:{f:ox},443:{},444:{f:Kn},445:{},446:{},448:{f:tu},449:{f:dne,r:2},450:{f:tu},512:{f:EP},513:{f:uae},515:{f:Dne},516:{f:wne},517:{f:TP},519:{f:fae},520:{f:cne},523:{},545:{f:LP},549:{f:_P},566:{},574:{f:mne},638:{f:_ne},659:{},1048:{},1054:{f:Nne},1084:{},1212:{f:Une},2048:{f:Qne},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:rv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:tu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:sae,r:12},2173:{f:tie,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Tn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:zne,r:12},2197:{},2198:{f:Yse,r:12},2199:{},2200:{},2201:{},2202:{f:$ne,r:12},2203:{f:tu},2204:{},2205:{},2206:{},2207:{},2211:{f:une},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Kn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:lae},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:nae},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:EP},1:{},2:{f:xae},3:{f:pae},4:{f:mae},5:{f:TP},7:{f:yae},8:{},9:{f:rv},11:{},22:{f:Kn},30:{f:jne},31:{},32:{},33:{f:LP},36:{},37:{f:_P},50:{f:bae},62:{},52:{},67:{},68:{f:Kn},69:{},86:{},126:{},127:{f:hae},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:wae},223:{},234:{},354:{},421:{},518:{f:gk},521:{f:rv},536:{f:FP},547:{f:OP},561:{},579:{},1030:{f:gk},1033:{f:rv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ut(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&X3(r)&&e.push(r)}}function yde(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ut(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],l=0,c=0,u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function dx(e,t,r){return e||(e=He(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function bde(e,t,r,n){var a=He(9);return dx(a,e,t),A9(r,n||"b",a),a}function wde(e,t,r){var n=He(8+2*r.length);return dx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function kde(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ha(Yr(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ut(e,2,vae(r,n,a)):ut(e,3,gae(r,n,a));return;case"b":case"e":ut(e,5,bde(r,n,t.v,t.t));return;case"s":case"str":ut(e,4,wde(r,n,(t.v||"").slice(0,255)));return}ut(e,1,dx(null,r,n))}function Nde(e,t,r,n){var a=Array.isArray(t),s=ur(t["!ref"]||"A1"),i,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Xt(s)}for(var u=s.s.r;u<=s.e.r;++u){l=Rn(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=cn(d)),i=c[d]+l;var f=a?(t[u]||[])[d]:t[i];f&&kde(e,f,u,d)}}}function Sde(e,t){for(var r=t||{},n=ri(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ut(n,r.biff==4?1033:r.biff==3?521:9,iA(e,16,r)),Nde(n,e.Sheets[e.SheetNames[a]],a,r),ut(n,10),n.end()}function jde(e,t,r){ut(e,49,vne({sz:12,name:"Arial"},r))}function Ade(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ut(e,1054,Sne(a,t[a],r))})}function _de(e,t){var r=He(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ut(e,2151,r),r=He(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),P9(ur(t["!ref"]||"A1"),r),r.write_shift(4,4),ut(e,2152,r)}function Ede(e,t){for(var r=0;r<16;++r)ut(e,224,CP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ut(e,224,CP(n,0,t))})}function Cde(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ut(e,440,Jne(n)),n[1].Tooltip&&ut(e,2048,eae(n))}delete t["!links"]}function Tde(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ut(e,125,iae(_2(a,n),a))})}}function Pde(e,t,r,n,a){var s=16+ad(a.cellXfs,t,a);if(t.v==null&&!t.bf){ut(e,513,g0(r,n,s));return}if(t.bf)ut(e,6,nle(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?ha(Yr(t.v)):t.v;ut(e,515,Ine(r,n,i,s));break;case"b":case"e":ut(e,517,Lne(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=mA(a.Strings,t.v,a.revStrings);ut(e,253,bne(r,n,l,s))}else ut(e,516,kne(r,n,(t.v||"").slice(0,255),s,a));break;default:ut(e,513,g0(r,n,s))}}function Ode(e,t,r){var n=ri(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},l=(i.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",h=[],m=ur(s["!ref"]||"A1"),p=u?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}ut(n,2057,iA(r,16,t)),ut(n,13,Qi(1)),ut(n,12,Qi(100)),ut(n,15,As(!0)),ut(n,17,As(!1)),ut(n,16,m0(.001)),ut(n,95,As(!0)),ut(n,42,As(!1)),ut(n,43,As(!1)),ut(n,130,Qi(1)),ut(n,128,Fne()),ut(n,131,As(!1)),ut(n,132,As(!1)),u&&Tde(n,s["!cols"]),ut(n,512,Ane(m,t)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Rn(g);for(var x=m.s.c;x<=m.e.c;++x){g===m.s.r&&(h[x]=cn(x)),d=h[x]+f;var v=c?(s[g]||[])[x]:s[d];v&&(Pde(n,v,g,x,t),u&&v.l&&s["!links"].push([d,v.l]))}}var y=l.CodeName||l.name||a;return u&&ut(n,574,pne((i.Views||[])[0])),u&&(s["!merges"]||[]).length&&ut(n,229,qne(s["!merges"])),u&&Cde(n,s),ut(n,442,_9(y)),u&&_de(n,s),ut(n,10),n.end()}function Fde(e,t,r){var n=ri(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(ut(n,2057,iA(e,5,r)),r.bookType=="xla"&&ut(n,135),ut(n,225,l?Qi(1200):null),ut(n,193,Lre(2)),c&&ut(n,191),c&&ut(n,192),ut(n,226),ut(n,92,rne("SheetJS",r)),ut(n,66,Qi(l?1200:1252)),l&&ut(n,353,Qi(0)),l&&ut(n,448),ut(n,317,cae(e.SheetNames.length)),l&&e.vbaraw&&ut(n,211),l&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";ut(n,442,_9(u))}ut(n,156,Qi(17)),ut(n,25,As(!1)),ut(n,18,As(!1)),ut(n,19,Qi(0)),l&&ut(n,431,As(!1)),l&&ut(n,444,Qi(0)),ut(n,61,hne()),ut(n,64,As(!1)),ut(n,141,Qi(0)),ut(n,34,As(due(e)=="true")),ut(n,14,As(!0)),l&&ut(n,439,As(!1)),ut(n,218,Qi(0)),jde(n,e,r),Ade(n,e.SSF,r),Ede(n,r),l&&ut(n,352,As(!1));var d=n.end(),f=ri();l&&ut(f,140,rae()),l&&r.Strings&&yde(f,252,one(r.Strings)),ut(f,10);var h=f.end(),m=ri(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var x=d.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){var v=s[g]||{};ut(m,133,sne({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var y=m.end();if(p!=y.length)throw new Error("BS8 "+p+" != "+y.length);var b=[];return d.length&&b.push(d),y.length&&b.push(y),h.length&&b.push(h),Ea(b)}function Lde(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Xr(Mt)),e&&e.SSF&&(Bh(),b2(e.SSF),r.revssf=k2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,yA(r),r.cellXfs=[],ad(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Ode(a,r,e);return n.unshift(Fde(e,n,r)),Ea(n)}function bB(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ni(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Lde(e,t);case 4:case 3:case 2:return Sde(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function HP(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,c=vte(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<c.length;++i){var g=c[i].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var v=g.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var y=v[l].trim();if(y.match(/<t[dh]/i)){for(var b=y,N=0;b.charAt(0)=="<"&&(N=b.indexOf(">"))>-1;)b=b.slice(N+1);for(var A=0;A<p.length;++A){var S=p[A];S.s.c==d&&S.s.r<u&&u<=S.e.r&&(d=S.e.c+1,A=-1)}var j=Ut(y.slice(0,y.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var E=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=HR(b),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!b.length){d+=h;continue}var C={t:"s",v:b};r.raw||!b.trim().length||E=="s"||(b==="TRUE"?C={t:"b",v:!0}:b==="FALSE"?C={t:"b",v:!1}:isNaN(Ho(b))?isNaN(hh(b).getDate())||(C={t:"d",v:Yr(b)},r.cellDates||(C={t:"n",v:ha(C.v)}),C.z=r.dateNF||Mt[14]):C={t:"n",v:Ho(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[Bt({r:u,c:d})]=C,d+=h}}}}return n["!ref"]=Xt(m),p.length&&(n["!merges"]=p),n}function Dde(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Bt({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||G3(f.w||(xc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(ct("td",h,m))}}var p="<tr>";return p+s.join("")+"</tr>"}var Ide='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Mde="</body></html>";function Rde(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return nd(HP(r[0],t),t);var n=kA();return r.forEach(function(a,s){NA(n,HP(a,t),"Sheet"+(s+1))}),n}function Bde(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function wB(e,t){var r=t||{},n=r.header!=null?r.header:Ide,a=r.footer!=null?r.footer:Mde,s=[n],i=ni(e["!ref"]);r.dense=Array.isArray(e),s.push(Bde(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(Dde(e,i,l,r));return s.push("</table>"+a),s.join("")}function kB(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?un(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=ni(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,x=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&g<c;++p){var N=l[p];if(VP(N)){if(n.display)continue;m[g]={hidden:!0}}var A=N.children;for(x=v=0;x<A.length;++x){var S=A[x];if(!(n.display&&VP(S))){var j=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):HR(S.innerHTML),E=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==v+s&&C.s.r<g+a&&g+a<=C.e.r&&(v=C.e.c+1-s,h=-1)}b=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:v+s},e:{r:g+a+(y||1)-1,c:v+s+(b||1)-1}});var I={t:"s",v:j},T=S.getAttribute("data-t")||S.getAttribute("t")||"";j!=null&&(j.length==0?I.t=T||"z":n.raw||j.trim().length==0||T=="s"||(j==="TRUE"?I={t:"b",v:!0}:j==="FALSE"?I={t:"b",v:!1}:isNaN(Ho(j))?isNaN(hh(j).getDate())||(I={t:"d",v:Yr(j)},n.cellDates||(I={t:"n",v:ha(I.v)}),I.z=n.dateNF||Mt[14]):I={t:"n",v:Ho(j)})),I.z===void 0&&E!=null&&(I.z=E);var P="",H=S.getElementsByTagName("A");if(H&&H.length)for(var q=0;q<H.length&&!(H[q].hasAttribute("href")&&(P=H[q].getAttribute("href"),P.charAt(0)!="#"));++q);P&&P.charAt(0)!="#"&&(I.l={Target:P}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+s]=I):e[Bt({c:v+s,r:g+a})]=I,u.e.c<v+s&&(u.e.c=v+s),v+=b}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Xt(u),g>=c&&(e["!fullref"]=Xt((u.e.r=l.length-p+g-1+a,u))),e}function NB(e,t){var r=t||{},n=r.dense?[]:{};return kB(n,e,t)}function zde(e,t){return nd(NB(e,t),t)}function VP(e){var t="",r=Ude(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Ude(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function $de(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=cr(t.replace(/<[^>]*>/g,""));return[r]}var qP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function SB(e,t){var r=t||{},n=K3(e),a=[],s,i,l={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},g,x,v={value:""},y="",b=0,N=[],A=-1,S=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,C={},I=[],T={},P=0,H=0,q=[],ae=1,R=1,z=[],Y={Names:[]},U={},Q=["",""],pe=[],F={},M="",B=0,D=!1,X=!1,V=0;for(hg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=hg.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?p["!ref"]=Xt(j):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(p["!fullref"]=p["!ref"],j.e.r=r.sheetRows-1,p["!ref"]=Xt(j)),I.length&&(p["!merges"]=I),q.length&&(p["!rows"]=q),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,X=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Ut(g[0],!1),A=S=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,p=r.dense?[]:{},I=[],q=[],X=!0);break;case"table-row-group":g[1]==="/"?--E:++E;break;case"table-row":case"":if(g[1]==="/"){A+=ae,ae=1;break}if(f=Ut(g[0],!1),f.?A=f.-1:A==-1&&(A=0),ae=+f["number-rows-repeated"]||1,ae<10)for(V=0;V<ae;++V)E>0&&(q[A+V]={level:E});S=-1;break;case"covered-table-cell":g[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(p[A]||(p[A]=[]),p[A][S]={t:"z"}):p[Bt({r:A,c:S})]={t:"z"}),y="",N=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++S,v=Ut(g[0],!1),R=parseInt(v["number-columns-repeated"]||"1",10),x={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(x.f=UP(cr(v.formula))),(v.||v["value-type"])=="string"&&(x.t="s",x.v=cr(v["string-value"]||""),r.dense?(p[A]||(p[A]=[]),p[A][S]=x):p[Bt({r:A,c:S})]=x),S+=R-1;else if(g[1]!=="/"){++S,y="",b=0,N=[],R=1;var ee=ae?A+ae-1:A;if(S>j.e.c&&(j.e.c=S),S<j.s.c&&(j.s.c=S),A<j.s.r&&(j.s.r=A),ee>j.e.r&&(j.e.r=ee),v=Ut(g[0],!1),pe=[],F={},x={t:v.||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=cr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(P=parseInt(v["number-matrix-rows-spanned"],10)||0,H=parseInt(v["number-matrix-columns-spanned"],10)||0,T={s:{r:A,c:S},e:{r:A+P-1,c:S+H-1}},x.F=Xt(T),z.push([T,x.F])),v.formula)x.f=UP(v.formula);else for(V=0;V<z.length;++V)A>=z[V][0].s.r&&A<=z[V][0].e.r&&S>=z[V][0].s.c&&S<=z[V][0].e.c&&(x.F=z[V][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(P=parseInt(v["number-rows-spanned"],10)||0,H=parseInt(v["number-columns-spanned"],10)||0,T={s:{r:A,c:S},e:{r:A+P-1,c:S+H-1}},I.push(T)),v["number-columns-repeated"]&&(R=parseInt(v["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=qr(v["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(v.value);break;case"percentage":x.t="n",x.v=parseFloat(v.value);break;case"currency":x.t="n",x.v=parseFloat(v.value);break;case"date":x.t="d",x.v=Yr(v["date-value"]),r.cellDates||(x.t="n",x.v=ha(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=pte(v["time-value"])/86400,r.cellDates&&(x.t="d",x.v=N2(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(v.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",v["string-value"]!=null&&(y=cr(v["string-value"]),N=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(D=!1,x.t==="s"&&(x.v=y||"",N.length&&(x.R=N),D=b==0),U.Target&&(x.l=U),pe.length>0&&(x.c=pe,pe=[]),y&&r.cellText!==!1&&(x.w=y),D&&(x.t="z",delete x.v),(!D||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=A))for(var K=0;K<ae;++K){if(R=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(p[A+K]||(p[A+K]=[]),p[A+K][S]=K==0?x:Xr(x);--R>0;)p[A+K][S+R]=Xr(x);else for(p[Bt({r:A+K,c:S})]=x;--R>0;)p[Bt({r:A+K,c:S+R})]=Xr(x);j.e.c<=S&&(j.e.c=S)}R=parseInt(v["number-columns-repeated"]||"1",10),S+=R-1,R=0,x={},y="",N=[]}U={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;F.t=y,N.length&&(F.R=N),F.a=M,pe.push(F)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);M="",B=0,y="",b=0,N=[];break;case"creator":g[1]==="/"?M=n.slice(B,g.index):B=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);y="",b=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[l.name]=c,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=Ut(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Ut(g[0],!1),c+=qP[g[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Ut(g[0],!1),c+=qP[g[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":i=Ut(g[0],!1),Q=xk(i["cell-range-address"]);var ce={Name:i.name,Ref:Q[0]+"!"+Q[1]};X&&(ce.Sheet=m.length),Y.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var xe=$de(n.slice(b,g.index));y=(y.length>0?y+`
`:"")+xe[0]}else Ut(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Q=xk(Ut(g[0])["target-range-address"]),h[Q[0]]["!autofilter"]={ref:Q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(U=Ut(g[0],!1),!U.href)break;U.Target=cr(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(Q=xk(U.Target.slice(1)),U.Target="#"+Q[0]+"!"+Q[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var G={Sheets:h,SheetNames:m,Workbook:Y};return r.bookSheets&&delete G.Sheets,G}function GP(e,t){t=t||{},Ji(e,"META-INF/manifest.xml")&&pre(Gn(e,"META-INF/manifest.xml"),t);var r=xi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=SB(Pr(r),t);return Ji(e,"meta.xml")&&(n.Props=m9(Gn(e,"meta.xml"))),n}function KP(e,t){return SB(e,t)}var Wde=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+fg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zn+t}}(),YP=function(){var e=function(s){return Ar(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,l){var c=[];c.push('      <table:table table:name="'+Ar(i.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=ni(s["!ref"]||"A1"),h=s["!merges"]||[],m=0,p=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",x=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,y={},b="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(v=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(v){c.push(r);continue}var N=Bt({r:u,c:d}),A=p?(s[u]||[])[d]:s[N];if(A&&A.f&&(y["table:formula"]=Ar(cle(A.f)),A.F&&A.F.slice(0,N.length)==N)){var S=ni(A.F);y["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,y["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!A){c.push(t);continue}switch(A.t){case"b":b=A.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=A.v?"true":"false";break;case"n":b=A.w||String(A.v||0),y["office:value-type"]="float",y["office:value"]=A.v||0;break;case"s":case"str":b=A.v==null?"":A.v,y["office:value-type"]="string";break;case"d":b=A.w||Yr(A.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Yr(A.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(b);if(A.l&&A.l.Target){var E=A.l.Target;E=E.charAt(0)=="#"?"#"+ule(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),j=ct("text:a",j,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+ct("table:table-cell",ct("text:p",j,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Bu(f),f.ods=l;var h=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,l){var c=[zn],u=fg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=fg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(h9().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function jB(e,t){if(t.bookType=="fods")return YP(e,t);var r=H3(),n="",a=[],s=[];return n="mimetype",Zt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Zt(r,n,YP(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Zt(r,n,Wde(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Zt(r,n,zn+h9()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Zt(r,n,vre(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Zt(r,n,gre(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function x0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function B4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Pr(rd(e))}function Hde(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):gi(xl(e))}function Vde(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Uu(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function XP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function qde(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Gde(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function bg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Nr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Sn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function fr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=bg(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=bg(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Ia(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Nr(n*8+a.type)),a.type==2&&t.push(Nr(a.data.length)),t.push(a.data))})}),Uu(t)}function xA(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Gi(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=bg(e,n),s=fr(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Sn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=fr(l.data),u=Sn(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=Sn(s[3][0].data)>>>0>0),r.push(i)}return r}function hf(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Nr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Nr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Nr(i.data.length)}],n[2].push({data:Ia(i.meta),type:2})});var s=Ia(n);t.push(Nr(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),Uu(t)}function Kde(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=bg(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Uu(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Uu(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Ki(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Kde(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Uu(t)}function mf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Nr(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return Uu(t)}function Yde(e,t,r,n){var a=x0(e),s=a.getUint32(4,!0),i=(n>1?12:8)+XP(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=XP(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Xde(e,t,r){var n=x0(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=qde(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function yk(e,t){var r=new Uint8Array(32),n=x0(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,Gde(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function bk(e,t){var r=new Uint8Array(32),n=x0(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Zde(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Yde(e,t,r,e[0]);case 5:return Xde(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ns(e){var t=fr(e);return bg(t[1][0].data)}function ZP(e,t){var r=fr(t.data),n=Sn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=fr(i.data),c=Sn(l[1][0].data)>>>0;switch(n){case 1:s[c]=B4(l[3][0].data);break;case 8:{var u=e[ns(l[9][0].data)][0],d=fr(u.data),f=e[ns(d[1][0].data)][0],h=Sn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=fr(f.data);s[c]=m[3].map(function(p){return B4(p.data)}).join("")}break}}),s}function Jde(e,t){var r,n,a,s,i,l,c,u,d,f,h,m,p,g,x=fr(e),v=Sn(x[1][0].data)>>>0,y=Sn(x[2][0].data)>>>0,b=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&Sn(x[8][0].data)>0||!1,N,A;if((s=(a=x[7])==null?void 0:a[0])!=null&&s.data&&t!=0)N=(l=(i=x[7])==null?void 0:i[0])==null?void 0:l.data,A=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)N=(m=(h=x[4])==null?void 0:h[0])==null?void 0:m.data,A=(g=(p=x[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=b?4:1,j=x0(N),E=[],C=0;C<N.length/2;++C){var I=j.getUint16(C*2,!0);I<65535&&E.push([C,I])}if(E.length!=y)throw"Expected ".concat(y," cells, found ").concat(E.length);var T=[];for(C=0;C<E.length-1;++C)T[E[C][0]]=A.subarray(E[C][1]*S,E[C+1][1]*S);return E.length>=1&&(T[E[E.length-1][0]]=A.subarray(E[E.length-1][1]*S)),{R:v,cells:T}}function Qde(e,t){var r,n=fr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Sn(n[7][0].data)>>>0>0?1:0:-1,s=xA(n[5],function(i){return Jde(i,a)});return{nrows:Sn(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,u){if(i[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));i[l.R][u]=c}),i},[])}}function e0e(e,t,r){var n,a=fr(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Sn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Sn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Xt(s);var i=fr(a[4][0].data),l=ZP(e,e[ns(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?ZP(e,e[ns(i[17][0].data)][0]):[],u=fr(i[3][0].data),d=0;u[1].forEach(function(f){var h=fr(f.data),m=e[ns(h[2][0].data)][0],p=Sn(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=Qde(e,m);g.data.forEach(function(x,v){x.forEach(function(y,b){var N=Bt({r:d+v,c:b}),A=Zde(y,l,c);A&&(r[N]=A)})}),d+=g.nrows})}function t0e(e,t){var r=fr(t.data),n={"!ref":"A1"},a=e[ns(r[2][0].data)],s=Sn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return e0e(e,a[0],n),n}function r0e(e,t){var r,n=fr(t.data),a={name:(r=n[1])!=null&&r[0]?B4(n[1][0].data):"",sheets:[]},s=xA(n[2],ns);return s.forEach(function(i){e[i].forEach(function(l){var c=Sn(l.meta[1][0].data);c==6e3&&a.sheets.push(t0e(e,l))})}),a}function n0e(e,t){var r=kA(),n=fr(t.data),a=xA(n[1],ns);if(a.forEach(function(s){e[s].forEach(function(i){var l=Sn(i.meta[1][0].data);if(l==2){var c=r0e(e,i);c.sheets.forEach(function(u,d){NA(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function wk(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Ki(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Gi(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Sn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(c){s[c].forEach(function(u){var d=Sn(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return n0e(s,l)}function a0e(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&Sn(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=x0(e[7][0].data),d=0,f=[],h=x0(e[4][0].data),m=0,p=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var x,v;switch(typeof t[g]){case"string":x=yk({t:"s",v:t[g]},r),v=bk({t:"s",v:t[g]},r);break;case"number":x=yk({t:"n",v:t[g]},r),v=bk({t:"n",v:t[g]},r);break;case"boolean":x=yk({t:"b",v:t[g]},r),v=bk({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),d+=x.length,p.push(v),m+=v.length,++c}for(e[2][0].data=Nr(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=Uu(f),e[3][0].data=Uu(p),c}function s0e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ni(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Xt(n)));var s=Gy(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(M){return M.forEach(function(B){typeof B=="string"&&i.push(B)})});var l={},c=[],u=Pt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(M,B){return[M,u.FullPaths[B]]}).forEach(function(M){var B=M[0],D=M[1];if(B.type==2&&B.name.match(/\.iwa/)){var X=B.content,V=Ki(X),ee=Gi(V);ee.forEach(function(K){c.push(K.id),l[K.id]={deps:[],location:D,type:Sn(K.messages[0].meta[1][0].data)}})}}),c.sort(function(M,B){return M-B});var d=c.filter(function(M){return M>1}).map(function(M){return[M,Nr(M)]});u.FileIndex.map(function(M,B){return[M,u.FullPaths[B]]}).forEach(function(M){var B=M[0];if(M[1],!!B.name.match(/\.iwa/)){var D=Gi(Ki(B.content));D.forEach(function(X){X.messages.forEach(function(V){d.forEach(function(ee){X.messages.some(function(K){return Sn(K.meta[1][0].data)!=11006&&Vde(K.data,ee[1])})&&l[ee[0]].deps.push(X.id)})})})}});for(var f=Pt.find(u,l[1].location),h=Gi(Ki(f.content)),m,p=0;p<h.length;++p){var g=h[p];g.id==1&&(m=g)}var x=ns(fr(m.messages[0].data)[1][0].data);for(f=Pt.find(u,l[x].location),h=Gi(Ki(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);for(x=ns(fr(m.messages[0].data)[2][0].data),f=Pt.find(u,l[x].location),h=Gi(Ki(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);for(x=ns(fr(m.messages[0].data)[2][0].data),f=Pt.find(u,l[x].location),h=Gi(Ki(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);var v=fr(m.messages[0].data);{v[6][0].data=Nr(n.e.r+1),v[7][0].data=Nr(n.e.c+1);var y=ns(v[46][0].data),b=Pt.find(u,l[y].location),N=Gi(Ki(b.content));{for(var A=0;A<N.length&&N[A].id!=y;++A);if(N[A].id!=y)throw"Bad ColumnRowUIDMapArchive";var S=fr(N[A].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var j=0;j<=n.e.c;++j){var E=[];E[1]=E[2]=[{type:0,data:Nr(j+420690)}],S[1].push({type:2,data:Ia(E)}),S[2].push({type:0,data:Nr(j)}),S[3].push({type:0,data:Nr(j)})}S[4]=[],S[5]=[],S[6]=[];for(var C=0;C<=n.e.r;++C)E=[],E[1]=E[2]=[{type:0,data:Nr(C+726270)}],S[4].push({type:2,data:Ia(E)}),S[5].push({type:0,data:Nr(C)}),S[6].push({type:0,data:Nr(C)});N[A].messages[0].data=Ia(S)}b.content=mf(hf(N)),b.size=b.content.length,delete v[46];var I=fr(v[4][0].data);{I[7][0].data=Nr(n.e.r+1);var T=fr(I[1][0].data),P=ns(T[2][0].data);b=Pt.find(u,l[P].location),N=Gi(Ki(b.content));{if(N[0].id!=P)throw"Bad HeaderStorageBucket";var H=fr(N[0].messages[0].data);for(C=0;C<s.length;++C){var q=fr(H[2][0].data);q[1][0].data=Nr(C),q[4][0].data=Nr(s[C].length),H[2][C]={type:H[2][0].type,data:Ia(q)}}N[0].messages[0].data=Ia(H)}b.content=mf(hf(N)),b.size=b.content.length;var ae=ns(I[2][0].data);b=Pt.find(u,l[ae].location),N=Gi(Ki(b.content));{if(N[0].id!=ae)throw"Bad HeaderStorageBucket";for(H=fr(N[0].messages[0].data),j=0;j<=n.e.c;++j)q=fr(H[2][0].data),q[1][0].data=Nr(j),q[4][0].data=Nr(n.e.r+1),H[2][j]={type:H[2][0].type,data:Ia(q)};N[0].messages[0].data=Ia(H)}b.content=mf(hf(N)),b.size=b.content.length;var R=ns(I[4][0].data);(function(){for(var M=Pt.find(u,l[R].location),B=Gi(Ki(M.content)),D,X=0;X<B.length;++X){var V=B[X];V.id==R&&(D=V)}var ee=fr(D.messages[0].data);{ee[3]=[];var K=[];i.forEach(function(G,Ce){K[1]=[{type:0,data:Nr(Ce)}],K[2]=[{type:0,data:Nr(1)}],K[3]=[{type:2,data:Hde(G)}],ee[3].push({type:2,data:Ia(K)})})}D.messages[0].data=Ia(ee);var ce=hf(B),xe=mf(ce);M.content=xe,M.size=M.content.length})();var z=fr(I[3][0].data);{var Y=z[1][0];delete z[2];var U=fr(Y.data);{var Q=ns(U[2][0].data);(function(){for(var M=Pt.find(u,l[Q].location),B=Gi(Ki(M.content)),D,X=0;X<B.length;++X){var V=B[X];V.id==Q&&(D=V)}var ee=fr(D.messages[0].data);{delete ee[6],delete z[7];var K=new Uint8Array(ee[5][0].data);ee[5]=[];for(var ce=0,xe=0;xe<=n.e.r;++xe){var G=fr(K);ce+=a0e(G,s[xe],i),G[1][0].data=Nr(xe),ee[5].push({data:Ia(G),type:2})}ee[1]=[{type:0,data:Nr(n.e.c+1)}],ee[2]=[{type:0,data:Nr(n.e.r+1)}],ee[3]=[{type:0,data:Nr(ce)}],ee[4]=[{type:0,data:Nr(n.e.r+1)}]}D.messages[0].data=Ia(ee);var Ce=hf(B),Ve=mf(Ce);M.content=Ve,M.size=M.content.length})()}Y.data=Ia(U)}I[3][0].data=Ia(z)}v[4][0].data=Ia(I)}m.messages[0].data=Ia(v);var pe=hf(h),F=mf(pe);return f.content=F,f.size=f.content.length,u}function AB(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function vA(e){AB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function yA(e){AB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function i0e(e){return er.WS.indexOf(e)>-1?"sheet":e==er.CS?"chart":e==er.DS?"dialog":e==er.MS?"macro":e&&e.length?e:"sheet"}function o0e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,i0e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function l0e(e,t,r,n,a,s,i,l,c,u,d,f){try{s[n]=kp(xi(e,r,!0),t);var h=Gn(e,t),m;switch(l){case"sheet":m=Tue(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=Pue(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var p=sp(m["!drawel"].Target,t),g=mg(p),x=xie(xi(e,p,!0),kp(xi(e,g,!0),p)),v=sp(x,p),y=mg(v);m=aue(xi(e,v,!0),v,c,kp(xi(e,y,!0),v),u,m);break;case"macro":m=Oue(h,t,a,c,s[n],u,d,f);break;case"dialog":m=Fue(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=m;var b=[];s&&s[n]&&jn(s[n]).forEach(function(N){var A="";if(s[n][N].Type==er.CMNT){A=sp(s[n][N].Target,t);var S=Mue(Gn(e,A,!0),A,c);if(!S||!S.length)return;IP(m,S,!1)}s[n][N].Type==er.TCMNT&&(A=sp(s[n][N].Target,t),b=b.concat(yie(Gn(e,A,!0),c)))}),b&&b.length&&IP(m,b,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function $i(e){return e.charAt(0)=="/"?e.slice(1):e}function c0e(e,t){if(Bh(),t=t||{},vA(t),Ji(e,"META-INF/manifest.xml")||Ji(e,"objectdata.xml"))return GP(e,t);if(Ji(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof wk<"u"){if(e.FileIndex)return wk(e);var r=Pt.utils.cfb_new();return nP(e).forEach(function(q){Zt(r,q,bte(e,q))}),wk(r)}throw new Error("Unsupported NUMBERS file")}if(!Ji(e,"[Content_Types].xml"))throw Ji(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ji(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=nP(e),a=hre(xi(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Gn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Gn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Np=[],a.sst)try{Np=Iue(Gn(e,$i(a.sst)),a.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&a.themes.length&&(c=Due(xi(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Lue(Gn(e,$i(a.style)),a.style,c,t))}a.links.map(function(q){try{var ae=kp(xi(e,mg($i(q))),q);return Bue(Gn(e,$i(q)),ae,q,t)}catch{}});var d=Cue(Gn(e,$i(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Gn(e,$i(a.coreprops[0]),!0),h&&(f=m9(h)),a.extprops.length!==0&&(h=Gn(e,$i(a.extprops[0]),!0),h&&bre(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=xi(e,$i(a.custprops[0]),!0),h&&(m=kre(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(ae){return ae.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof i<"u"&&(p.SheetNames=i),t.bookSheets?p.SheetNames:t.bookProps))return p;i={};var g={};t.bookDeps&&a.calcchain&&(g=Rue(Gn(e,$i(a.calcchain)),a.calcchain));var x=0,v={},y,b;{var N=d.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var A=0;A!=N.length;++A)f.SheetNames[A]=N[A].name}var S=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");Ji(e,E)||(E="xl/_rels/workbook."+S+".rels");var C=kp(xi(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=zue(Gn(e,$i(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=wie(Gn(e,$i(a.people[0])),t)),C&&(C=o0e(C,d.Sheets));var I=Gn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var T="sheet";if(C&&C[x]?(y="xl/"+C[x][1].replace(/[\/]?xl\//,""),Ji(e,y)||(y=C[x][1]),Ji(e,y)||(y=E.replace(/_rels\/.*$/,"")+C[x][1]),T=C[x][2]):(y="xl/worksheets/sheet"+(x+1-I)+"."+S,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==x&&(P=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==f.SheetNames[x].toLowerCase()&&(P=1);if(!P)continue e}}l0e(e,y,b,f.SheetNames[x],x,v,i,T,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:i,SheetNames:f.SheetNames,Strings:Np,Styles:u,Themes:c,SSF:Xr(Mt)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(q,ae){q=q.replace(/^Root Entry[\/]/,""),p.keys.push(q),p.files[q]=e.FileIndex[ae]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=Gn(e,$i(a.vba[0]),!0):a.defaults&&a.defaults.bin===Cie&&(p.vbaraw=Gn(e,"xl/vbaProject.bin",!0))),p}function u0e(e,t){var r=t||{},n="Workbook",a=Pt.find(e,n);try{if(n="/!DataSpaces/Version",a=Pt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(zae(a.content),n="/!DataSpaces/DataSpaceMap",a=Pt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=$ae(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Pt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Wae(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Pt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Vae(a.content)}catch{}if(n="/EncryptionInfo",a=Pt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=qae(a.content);if(n="/EncryptedPackage",a=Pt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function d0e(e,t){return t.bookType=="ods"?jB(e,t):t.bookType=="numbers"?s0e(e,t):t.bookType=="xlsb"?f0e(e,t):h0e(e,t)}function f0e(e,t){If=1024,e&&!e.SSF&&(e.SSF=Xr(Mt)),e&&e.SSF&&(Bh(),b2(e.SSF),t.revssf=k2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Q9.indexOf(t.bookType)>-1,a=aA();yA(t=t||{});var s=H3(),i="",l=0;if(t.cellXfs=[],ad(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Zt(s,i,p9(e.Props,t)),a.coreprops.push(i),Sr(t.rels,2,i,er.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(s,i,v9(e.Props)),a.extprops.push(i),Sr(t.rels,3,i,er.EXT_PROPS),e.Custprops!==e.Props&&jn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Zt(s,i,y9(e.Custprops)),a.custprops.push(i),Sr(t.rels,4,i,er.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,Zt(s,i,$ue(l-1,i,t,e,d)),a.sheets.push(i),Sr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,er.WS[0])}if(f){var m=f["!comments"],p=!1,g="";m&&m.length>0&&(g="xl/comments"+l+"."+r,Zt(s,g,Vue(m,g)),a.comments.push(g),Sr(d,-1,"../comments"+l+"."+r,er.CMNT),p=!0),f["!legacy"]&&p&&Zt(s,"xl/drawings/vmlDrawing"+l+".vml",Z9(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Zt(s,mg(i),Zf(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Zt(s,i,Hue(t.Strings,i,t)),a.strs.push(i),Sr(t.wbrels,-1,"sharedStrings."+r,er.SST)),i="xl/workbook."+r,Zt(s,i,Uue(e,i)),a.workbooks.push(i),Sr(t.rels,1,i,er.WB),i="xl/theme/theme1.xml",Zt(s,i,uA(e.Themes,t)),a.themes.push(i),Sr(t.wbrels,-1,"theme/theme1.xml",er.THEME),i="xl/styles."+r,Zt(s,i,Wue(e,i,t)),a.styles.push(i),Sr(t.wbrels,-1,"styles."+r,er.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Zt(s,i,e.vbaraw),a.vba.push(i),Sr(t.wbrels,-1,"vbaProject.bin",er.VBA)),i="xl/metadata."+r,Zt(s,i,que(i)),a.metadata.push(i),Sr(t.wbrels,-1,"metadata."+r,er.XLMETA),Zt(s,"[Content_Types].xml",f9(a,t)),Zt(s,"_rels/.rels",Zf(t.rels)),Zt(s,"xl/_rels/workbook."+r+".rels",Zf(t.wbrels)),delete t.revssf,delete t.ssf,s}function h0e(e,t){If=1024,e&&!e.SSF&&(e.SSF=Xr(Mt)),e&&e.SSF&&(Bh(),b2(e.SSF),t.revssf=k2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Q9.indexOf(t.bookType)>-1,a=aA();yA(t=t||{});var s=H3(),i="",l=0;if(t.cellXfs=[],ad(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Zt(s,i,p9(e.Props,t)),a.coreprops.push(i),Sr(t.rels,2,i,er.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Zt(s,i,v9(e.Props)),a.extprops.push(i),Sr(t.rels,3,i,er.EXT_PROPS),e.Custprops!==e.Props&&jn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Zt(s,i,y9(e.Custprops)),a.custprops.push(i),Sr(t.rels,4,i,er.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,Zt(s,i,uB(l-1,t,e,f)),a.sheets.push(i),Sr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,er.WS[0])}if(h){var p=h["!comments"],g=!1,x="";if(p&&p.length>0){var v=!1;p.forEach(function(y){y[1].forEach(function(b){b.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+l+"."+r,Zt(s,x,bie(p,d,t)),a.threadedcomments.push(x),Sr(f,-1,"../threadedComments/threadedComment"+l+"."+r,er.TCMNT)),x="xl/comments"+l+"."+r,Zt(s,x,J9(p)),a.comments.push(x),Sr(f,-1,"../comments"+l+"."+r,er.CMNT),g=!0}h["!legacy"]&&g&&Zt(s,"xl/drawings/vmlDrawing"+l+".vml",Z9(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Zt(s,mg(i),Zf(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Zt(s,i,B9(t.Strings,t)),a.strs.push(i),Sr(t.wbrels,-1,"sharedStrings."+r,er.SST)),i="xl/workbook."+r,Zt(s,i,pB(e)),a.workbooks.push(i),Sr(t.rels,1,i,er.WB),i="xl/theme/theme1.xml",Zt(s,i,uA(e.Themes,t)),a.themes.push(i),Sr(t.wbrels,-1,"theme/theme1.xml",er.THEME),i="xl/styles."+r,Zt(s,i,G9(e,t)),a.styles.push(i),Sr(t.wbrels,-1,"styles."+r,er.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Zt(s,i,e.vbaraw),a.vba.push(i),Sr(t.wbrels,-1,"vbaProject.bin",er.VBA)),i="xl/metadata."+r,Zt(s,i,X9()),a.metadata.push(i),Sr(t.wbrels,-1,"metadata."+r,er.XLMETA),d.length>1&&(i="xl/persons/person.xml",Zt(s,i,kie(d)),a.people.push(i),Sr(t.wbrels,-1,"persons/person.xml",er.PEOPLE)),Zt(s,"[Content_Types].xml",f9(a,t)),Zt(s,"_rels/.rels",Zf(t.rels)),Zt(s,"xl/_rels/workbook."+r+".rels",Zf(t.wbrels)),delete t.revssf,delete t.ssf,s}function bA(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ei(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function m0e(e,t){return Pt.find(e,"EncryptedPackage")?u0e(e,t):yB(e,t)}function p0e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r=UR(n,a),c0e(r,a)}function _B(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return M4(e.slice(r),t);default:break e}return mh.to_workbook(e,t)}function g0e(e,t){var r="",n=bA(e,t);switch(t.type){case"base64":r=Ei(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=h0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Pr(r)),t.type="binary",_B(r,t)}function x0e(e,t){var r=e;return t.type=="base64"&&(r=Ei(r)),r=lg.utils.decode(1200,r.slice(2),"str"),t.type="binary",_B(r,t)}function v0e(e){return e.match(/[^\x00-\x7F]/)?xl(e):e}function kk(e,t,r,n){return n?(r.type="string",mh.to_workbook(e,r)):mh.to_workbook(t,r)}function z4(e,t){B3();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return z4(new Uint8Array(e),(r=Xr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Qf={},r.dateNF&&(Qf.dateNF=r.dateNF),r.type||(r.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Jt?"buffer":"binary",n=fte(e),typeof Uint8Array<"u"&&!Jt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=v0e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=Xr(r),r.type="array",z4(z3(n),r)}switch((a=bA(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return m0e(Pt.read(n,r),r);break;case 9:if(a[1]<=8)return yB(n,r);break;case 60:return M4(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Nae(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return M9.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?p0e(n,r):kk(e,n,r,s);case 239:return a[3]===60?M4(n,r):kk(e,n,r,s);case 255:if(a[1]===254)return x0e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Kd.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Kd.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return I4.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return H9.to_workbook(n,r);break;case 10:case 13:case 32:return g0e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return kae.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?I4.to_workbook(n,r):kk(e,n,r,s)}function EB(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ax(t.file,Pt.write(e,{type:Jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Pt.write(e,t)}function y0e(e,t){var r=Xr(t||{}),n=d0e(e,r);return b0e(n,r)}function b0e(e,t){var r={},n=Jt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Pt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(y2(a))}return t.password&&typeof encrypt_agile<"u"?EB(encrypt_agile(a,t.password),t):t.type==="file"?ax(t.file,a):t.type=="string"?Pr(a):a}function w0e(e,t){var r=t||{},n=vde(e,r);return EB(n,r)}function dl(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return cg(xl(n));case"binary":return xl(n);case"string":return e;case"file":return ax(t.file,n,"utf8");case"buffer":return Jt?Tc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):dl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function k0e(e,t){switch(t.type){case"base64":return cg(e);case"binary":return e;case"string":return e;case"file":return ax(t.file,e,"binary");case"buffer":return Jt?Tc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function iv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?cg(r):t.type=="string"?Pr(r):r;case"file":return ax(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function CB(e,t){B3(),mue(e);var r=Xr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=CB(e,r);return r.type="array",y2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return dl(dde(e,r),r);case"slk":case"sylk":return dl(I9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return dl(wB(e.Sheets[e.SheetNames[a]],r),r);case"txt":return k0e(TB(e.Sheets[e.SheetNames[a]],r),r);case"csv":return dl(wA(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return dl(M9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return iv(I4.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return dl(mh.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return dl(H9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return dl(R9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return dl(jB(e,r),r);case"wk1":return iv(Kd.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return iv(Kd.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),iv(bB(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),w0e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return y0e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function N0e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function I0(e,t,r){var n={};return n.type="file",n.file=t,N0e(n),CB(e,n)}function S0e(e,t,r,n,a,s,i,l){var c=Rn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=i?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(s[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&g===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?g:xc(p,g,l);g!=null&&(f=!1)}}return{row:h,isempty:f}}function Gy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=ur(d);break;case"number":c=ur(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Rn(c.s.r),h=[],m=[],p=0,g=0,x=Array.isArray(e),v=c.s.r,y=0,b={};x&&!e[v]&&(e[v]=[]);var N=u.skipHidden&&e["!cols"]||[],A=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(N[y]||{}).hidden)switch(h[y]=cn(y),r=x?e[v][y]:e[h[y]+f],n){case 1:s[y]=y-c.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=xc(r,null,u),g=b[i]||0,!g)b[i]=1;else{do l=i+"_"+g++;while(b[l]);b[i]=g,b[l]=1}s[y]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(A[v]||{}).hidden){var S=S0e(e,c,v,h,n,s,x,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=S.row)}return m.length=p,m}var JP=/"/g;function j0e(e,t,r,n,a,s,i,l){for(var c=!0,u=[],d="",f=Rn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:xc(m,null,l));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(JP,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(JP,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function wA(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ur(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=cn(p));for(var g=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(d=j0e(e,a,x,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function TB(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=wA(e,t);return r}function A0e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ur(e["!ref"]),s="",i=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=cn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=Rn(d),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function PB(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?un(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=ur(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,x){jn(g).forEach(function(v){(m=h.indexOf(v))==-1&&(h[m=h.length]=v);var y=g[v],b="z",N="",A=Bt({c:l+m,r:i+x+a});u=wg(s,A),y&&typeof y=="object"&&!(y instanceof Date)?s[A]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=ha(y)),N=n.dateNF||Mt[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,N&&(u.z=N)):s[A]=u={t:b,v:y},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var p=Rn(i);if(a)for(m=0;m<h.length;++m)s[cn(m+l)+p]={t:"s",v:h[m]};return s["!ref"]=Xt(d),s}function _0e(e,t){return PB(null,e,t)}function wg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=un(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?wg(e,Bt(t)):wg(e,Bt({r:t,c:r||0}))}function E0e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function kA(){return{SheetNames:[],Sheets:{}}}function NA(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(mB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function C0e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=E0e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function T0e(e,t){return e.z=t,e}function OB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function P0e(e,t,r){return OB(e,"#"+t,r)}function O0e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function F0e(e,t,r,n){for(var a=typeof t!="string"?t:ur(t),s=typeof t=="string"?t:Xt(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=wg(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Nn={encode_col:cn,encode_row:Rn,encode_cell:Bt,encode_range:Xt,decode_col:J3,decode_row:Z3,split_cell:Hte,decode_cell:un,decode_range:ni,format_cell:xc,sheet_add_aoa:s9,sheet_add_json:PB,sheet_add_dom:kB,aoa_to_sheet:zh,json_to_sheet:_0e,table_to_sheet:NB,table_to_book:zde,sheet_to_csv:wA,sheet_to_txt:TB,sheet_to_json:Gy,sheet_to_html:wB,sheet_to_formulae:A0e,sheet_to_row_object_array:Gy,sheet_get_cell:wg,book_new:kA,book_append_sheet:NA,book_set_sheet_visibility:C0e,cell_set_number_format:T0e,cell_set_hyperlink:OB,cell_set_internal_link:P0e,cell_add_comment:O0e,sheet_set_array_formula:F0e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const L0e="modulepreload",D0e=function(e){return"/"+e},QP={},Ky=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=D0e(c),c in QP)return;QP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":L0e,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function _r(e){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(e)}var us=Uint8Array,bi=Uint16Array,SA=Int32Array,E2=new us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),C2=new us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U4=new us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FB=function(e,t){for(var r=new bi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new SA(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},LB=FB(E2,2),DB=LB.b,$4=LB.r;DB[28]=258,$4[258]=28;var IB=FB(C2,0),I0e=IB.b,e8=IB.r,W4=new bi(32768);for(var Gr=0;Gr<32768;++Gr){var ru=(Gr&43690)>>1|(Gr&21845)<<1;ru=(ru&52428)>>2|(ru&13107)<<2,ru=(ru&61680)>>4|(ru&3855)<<4,W4[Gr]=((ru&65280)>>8|(ru&255)<<8)>>1}var Nl=function(e,t,r){for(var n=e.length,a=0,s=new bi(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new bi(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(r){l=new bi(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=i[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[W4[f]>>c]=u}else for(l=new bi(n),a=0;a<n;++a)e[a]&&(l[a]=W4[i[e[a]-1]++]>>15-e[a]);return l},$u=new us(288);for(var Gr=0;Gr<144;++Gr)$u[Gr]=8;for(var Gr=144;Gr<256;++Gr)$u[Gr]=9;for(var Gr=256;Gr<280;++Gr)$u[Gr]=7;for(var Gr=280;Gr<288;++Gr)$u[Gr]=8;var kg=new us(32);for(var Gr=0;Gr<32;++Gr)kg[Gr]=5;var M0e=Nl($u,9,0),R0e=Nl($u,9,1),B0e=Nl(kg,5,0),z0e=Nl(kg,5,1),Nk=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Eo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Sk=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},jA=function(e){return(e+7)/8|0},MB=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new us(e.subarray(t,r))},U0e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Oo=function(e,t,r){var n=new Error(t||U0e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Oo),!r)throw n;return n},$0e=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new us(0);var i=!r,l=i||t.i!=2,c=t.i;i&&(r=new us(a*3));var u=function(xe){var G=r.length;if(xe>G){var Ce=new us(Math.max(G*2,xe));Ce.set(r),r=Ce}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,p=t.d,g=t.m,x=t.n,v=a*8;do{if(!m){d=Eo(e,f,1);var y=Eo(e,f+1,3);if(f+=3,y)if(y==1)m=R0e,p=z0e,g=9,x=5;else if(y==2){var S=Eo(e,f,31)+257,j=Eo(e,f+10,15)+4,E=S+Eo(e,f+5,31)+1;f+=14;for(var C=new us(E),I=new us(19),T=0;T<j;++T)I[U4[T]]=Eo(e,f+T*3,7);f+=j*3;for(var P=Nk(I),H=(1<<P)-1,q=Nl(I,P,1),T=0;T<E;){var ae=q[Eo(e,f,H)];f+=ae&15;var b=ae>>4;if(b<16)C[T++]=b;else{var R=0,z=0;for(b==16?(z=3+Eo(e,f,3),f+=2,R=C[T-1]):b==17?(z=3+Eo(e,f,7),f+=3):b==18&&(z=11+Eo(e,f,127),f+=7);z--;)C[T++]=R}}var Y=C.subarray(0,S),U=C.subarray(S);g=Nk(Y),x=Nk(U),m=Nl(Y,g,1),p=Nl(U,x,1)}else Oo(1);else{var b=jA(f)+4,N=e[b-4]|e[b-3]<<8,A=b+N;if(A>a){c&&Oo(0);break}l&&u(h+N),r.set(e.subarray(b,A),h),t.b=h+=N,t.p=f=A*8,t.f=d;continue}if(f>v){c&&Oo(0);break}}l&&u(h+131072);for(var Q=(1<<g)-1,pe=(1<<x)-1,F=f;;F=f){var R=m[Sk(e,f)&Q],M=R>>4;if(f+=R&15,f>v){c&&Oo(0);break}if(R||Oo(2),M<256)r[h++]=M;else if(M==256){F=f,m=null;break}else{var B=M-254;if(M>264){var T=M-257,D=E2[T];B=Eo(e,f,(1<<D)-1)+DB[T],f+=D}var X=p[Sk(e,f)&pe],V=X>>4;X||Oo(3),f+=X&15;var U=I0e[V];if(V>3){var D=C2[V];U+=Sk(e,f)&(1<<D)-1,f+=D}if(f>v){c&&Oo(0);break}l&&u(h+131072);var ee=h+B;if(h<U){var K=s-U,ce=Math.min(U,ee);for(K+h<0&&Oo(3);h<ce;++h)r[h]=n[K+h]}for(;h<ee;++h)r[h]=r[h-U]}}t.l=m,t.p=F,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=p,t.n=x)}while(!d);return h!=r.length&&i?MB(r,0,h):r.subarray(0,h)},Gl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$m=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},jk=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:BB,l:0};if(a==1){var i=new us(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(A,S){return A.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var m=new bi(h+1),p=H4(r[d-1],m,0);if(p>t){var n=0,g=0,x=p-t,v=1<<x;for(s.sort(function(S,j){return m[j.s]-m[S.s]||S.f-j.f});n<a;++n){var y=s[n].s;if(m[y]>t)g+=v-(1<<p-m[y]),m[y]=t;else break}for(g>>=x;g>0;){var b=s[n].s;m[b]<t?g-=1<<t-m[b]++-1:++n}for(;n>=0&&g;--n){var N=s[n].s;m[N]==t&&(--m[N],++g)}p=t}return{t:new us(m),l:p}},H4=function(e,t,r){return e.s==-1?Math.max(H4(e.l,t,r+1),H4(e.r,t,r+1)):t[e.s]=r},t8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new bi(++t),n=0,a=e[0],s=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Wm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},RB=function(e,t,r){var n=r.length,a=jA(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},r8=function(e,t,r,n,a,s,i,l,c,u,d){Gl(t,d++,r),++a[256];for(var f=jk(a,15),h=f.t,m=f.l,p=jk(s,15),g=p.t,x=p.l,v=t8(h),y=v.c,b=v.n,N=t8(g),A=N.c,S=N.n,j=new bi(19),E=0;E<y.length;++E)++j[y[E]&31];for(var E=0;E<A.length;++E)++j[A[E]&31];for(var C=jk(j,7),I=C.t,T=C.l,P=19;P>4&&!I[U4[P-1]];--P);var H=u+5<<3,q=Wm(a,$u)+Wm(s,kg)+i,ae=Wm(a,h)+Wm(s,g)+i+14+3*P+Wm(j,I)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&H<=q&&H<=ae)return RB(t,d,e.subarray(c,c+u));var R,z,Y,U;if(Gl(t,d,1+(ae<q)),d+=2,ae<q){R=Nl(h,m,0),z=h,Y=Nl(g,x,0),U=g;var Q=Nl(I,T,0);Gl(t,d,b-257),Gl(t,d+5,S-1),Gl(t,d+10,P-4),d+=14;for(var E=0;E<P;++E)Gl(t,d+3*E,I[U4[E]]);d+=3*P;for(var pe=[y,A],F=0;F<2;++F)for(var M=pe[F],E=0;E<M.length;++E){var B=M[E]&31;Gl(t,d,Q[B]),d+=I[B],B>15&&(Gl(t,d,M[E]>>5&127),d+=M[E]>>12)}}else R=M0e,z=$u,Y=B0e,U=kg;for(var E=0;E<l;++E){var D=n[E];if(D>255){var B=D>>18&31;$m(t,d,R[B+257]),d+=z[B+257],B>7&&(Gl(t,d,D>>23&31),d+=E2[B]);var X=D&31;$m(t,d,Y[X]),d+=U[X],X>3&&($m(t,d,D>>5&8191),d+=C2[X])}else $m(t,d,R[D]),d+=z[D]}return $m(t,d,R[256]),d+z[256]},W0e=new SA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),BB=new us(0),H0e=function(e,t,r,n,a,s){var i=s.z||e.length,l=new us(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=W0e[t-1],h=f>>13,m=f&8191,p=(1<<r)-1,g=s.p||new bi(32768),x=s.h||new bi(p+1),v=Math.ceil(r/3),y=2*v,b=function(Ve){return(e[Ve]^e[Ve+1]<<v^e[Ve+2]<<y)&p},N=new SA(25e3),A=new bi(288),S=new bi(32),j=0,E=0,C=s.i||0,I=0,T=s.w||0,P=0;C+2<i;++C){var H=b(C),q=C&32767,ae=x[H];if(g[q]=ae,x[H]=q,T<=C){var R=i-C;if((j>7e3||I>24576)&&(R>423||!u)){d=r8(e,c,0,N,A,S,E,I,P,C-P,d),I=j=E=0,P=C;for(var z=0;z<286;++z)A[z]=0;for(var z=0;z<30;++z)S[z]=0}var Y=2,U=0,Q=m,pe=q-ae&32767;if(R>2&&H==b(C-pe))for(var F=Math.min(h,R)-1,M=Math.min(32767,C),B=Math.min(258,R);pe<=M&&--Q&&q!=ae;){if(e[C+Y]==e[C+Y-pe]){for(var D=0;D<B&&e[C+D]==e[C+D-pe];++D);if(D>Y){if(Y=D,U=pe,D>F)break;for(var X=Math.min(pe,D-2),V=0,z=0;z<X;++z){var ee=C-pe+z&32767,K=g[ee],ce=ee-K&32767;ce>V&&(V=ce,ae=ee)}}}q=ae,ae=g[q],pe+=q-ae&32767}if(U){N[I++]=268435456|$4[Y]<<18|e8[U];var xe=$4[Y]&31,G=e8[U]&31;E+=E2[xe]+C2[G],++A[257+xe],++S[G],T=C+Y,++j}else N[I++]=e[C],++A[e[C]]}}for(C=Math.max(C,T);C<i;++C)N[I++]=e[C],++A[e[C]];d=r8(e,c,u,N,A,S,E,I,P,C-P,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=x,s.p=g,s.i=C,s.w=T)}else{for(var C=s.w||0;C<i+u;C+=65535){var Ce=C+65535;Ce>=i&&(c[d/8|0]=u,Ce=i),d=RB(c,d+1,e.subarray(C,Ce))}s.i=i}return MB(l,0,n+jA(d)+a)},zB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},V0e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new us(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return H0e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},UB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},q0e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=zB();a.p(t.dictionary),UB(e,2,a.d())}},G0e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Oo(6,"invalid zlib data"),(e[1]>>5&1)==1&&Oo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function V4(e,t){t||(t={});var r=zB();r.p(e);var n=V0e(e,t,t.dictionary?6:2,4);return q0e(n,t),UB(n,n.length-4,r.d()),n}function K0e(e,t){return $0e(e.subarray(G0e(e),-4),{i:2},t,t)}var Y0e=typeof TextDecoder<"u"&&new TextDecoder,X0e=0;try{Y0e.decode(BB,{stream:!0}),X0e=1}catch{}var Rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ak(){Rt.console&&typeof Rt.console.log=="function"&&Rt.console.log.apply(Rt.console,arguments)}var Lr={log:Ak,warn:function(e){Rt.console&&(typeof Rt.console.warn=="function"?Rt.console.warn.apply(Rt.console,arguments):Ak.call(null,arguments))},error:function(e){Rt.console&&(typeof Rt.console.error=="function"?Rt.console.error.apply(Rt.console,arguments):Ak(e))}};function _k(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sd(n.response,t,r)},n.onerror=function(){Lr.error("could not download file")},n.send()}function n8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ov(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _p,q4,Sd=Rt.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==Rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Rt.URL||Rt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?n8(a.href)?_k(e,t,r):ov(a,a.target="_blank"):ov(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){ov(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(n8(e))_k(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ov(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:_r(s)!=="object"&&(Lr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return _k(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(Rt.HTMLElement)||Rt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Rt.URL||Rt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $B(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ek(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ja(r,n,a,s,t[0],7,-680876936),s=Ja(s,r,n,a,t[1],12,-389564586),a=Ja(a,s,r,n,t[2],17,606105819),n=Ja(n,a,s,r,t[3],22,-1044525330),r=Ja(r,n,a,s,t[4],7,-176418897),s=Ja(s,r,n,a,t[5],12,1200080426),a=Ja(a,s,r,n,t[6],17,-1473231341),n=Ja(n,a,s,r,t[7],22,-45705983),r=Ja(r,n,a,s,t[8],7,1770035416),s=Ja(s,r,n,a,t[9],12,-1958414417),a=Ja(a,s,r,n,t[10],17,-42063),n=Ja(n,a,s,r,t[11],22,-1990404162),r=Ja(r,n,a,s,t[12],7,1804603682),s=Ja(s,r,n,a,t[13],12,-40341101),a=Ja(a,s,r,n,t[14],17,-1502002290),r=Qa(r,n=Ja(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Qa(s,r,n,a,t[6],9,-1069501632),a=Qa(a,s,r,n,t[11],14,643717713),n=Qa(n,a,s,r,t[0],20,-373897302),r=Qa(r,n,a,s,t[5],5,-701558691),s=Qa(s,r,n,a,t[10],9,38016083),a=Qa(a,s,r,n,t[15],14,-660478335),n=Qa(n,a,s,r,t[4],20,-405537848),r=Qa(r,n,a,s,t[9],5,568446438),s=Qa(s,r,n,a,t[14],9,-1019803690),a=Qa(a,s,r,n,t[3],14,-187363961),n=Qa(n,a,s,r,t[8],20,1163531501),r=Qa(r,n,a,s,t[13],5,-1444681467),s=Qa(s,r,n,a,t[2],9,-51403784),a=Qa(a,s,r,n,t[7],14,1735328473),r=es(r,n=Qa(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=es(s,r,n,a,t[8],11,-2022574463),a=es(a,s,r,n,t[11],16,1839030562),n=es(n,a,s,r,t[14],23,-35309556),r=es(r,n,a,s,t[1],4,-1530992060),s=es(s,r,n,a,t[4],11,1272893353),a=es(a,s,r,n,t[7],16,-155497632),n=es(n,a,s,r,t[10],23,-1094730640),r=es(r,n,a,s,t[13],4,681279174),s=es(s,r,n,a,t[0],11,-358537222),a=es(a,s,r,n,t[3],16,-722521979),n=es(n,a,s,r,t[6],23,76029189),r=es(r,n,a,s,t[9],4,-640364487),s=es(s,r,n,a,t[12],11,-421815835),a=es(a,s,r,n,t[15],16,530742520),r=ts(r,n=es(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=ts(s,r,n,a,t[7],10,1126891415),a=ts(a,s,r,n,t[14],15,-1416354905),n=ts(n,a,s,r,t[5],21,-57434055),r=ts(r,n,a,s,t[12],6,1700485571),s=ts(s,r,n,a,t[3],10,-1894986606),a=ts(a,s,r,n,t[10],15,-1051523),n=ts(n,a,s,r,t[1],21,-2054922799),r=ts(r,n,a,s,t[8],6,1873313359),s=ts(s,r,n,a,t[15],10,-30611744),a=ts(a,s,r,n,t[6],15,-1560198380),n=ts(n,a,s,r,t[13],21,1309151649),r=ts(r,n,a,s,t[4],6,-145523070),s=ts(s,r,n,a,t[11],10,-1120210379),a=ts(a,s,r,n,t[2],15,718787259),n=ts(n,a,s,r,t[9],21,-343485551),e[0]=bu(r,e[0]),e[1]=bu(n,e[1]),e[2]=bu(a,e[2]),e[3]=bu(s,e[3])}function T2(e,t,r,n,a,s){return t=bu(bu(t,e),bu(n,s)),bu(t<<a|t>>>32-a,r)}function Ja(e,t,r,n,a,s,i){return T2(t&r|~t&n,e,t,a,s,i)}function Qa(e,t,r,n,a,s,i){return T2(t&n|r&~n,e,t,a,s,i)}function es(e,t,r,n,a,s,i){return T2(t^r^n,e,t,a,s,i)}function ts(e,t,r,n,a,s,i){return T2(r^(t|~n),e,t,a,s,i)}function WB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ek(n,Z0e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Ek(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Ek(n,a),n}function Z0e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}_p=Rt.atob.bind(Rt),q4=Rt.btoa.bind(Rt);var a8="0123456789abcdef".split("");function J0e(e){for(var t="",r=0;r<4;r++)t+=a8[e>>8*r+4&15]+a8[e>>8*r&15];return t}function Q0e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function G4(e){return WB(e).map(Q0e).join("")}var efe=function(e){for(var t=0;t<e.length;t++)e[t]=J0e(e[t]);return e.join("")}(WB("hello"))!="5d41402abc4b2a76b9719d911017c592";function bu(e,t){if(efe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function K4(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+i.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,m=0,p="";for(c=0;c<f;c++)m=(m+(d=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=d,i=l[(l[h]+l[m])%256],p+=String.fromCharCode(t.charCodeAt(c)^i);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s8={print:4,modify:8,copy:16,"annot-forms":32};function wf(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(s8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=s8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=G4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=K4(this.encryptionKey,this.padding)}function kf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function i8(e){if(_r(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(l){Rt.console&&Lr.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ng(e){if(!(this instanceof Ng))return new Ng(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function HB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function du(e,t,r,n,a){if(!(this instanceof du))return new du(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,HB.call(this,n,a)}function Dd(e,t,r,n,a){if(!(this instanceof Dd))return new Dd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,HB.call(this,n,a)}function Et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,u="S",d=null;_r(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=i8;var p="1.3",g=m.__private__.getPdfVersion=function(){return p};m.__private__.setPdfVersion=function(O){p=O};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var v=m.__private__.getPageFormat=function(O){return x[O]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function N(){this.saveGraphicsState(),ue(new Ot(Qe,0,0,-Qe,0,$c()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),u="n",b=y.ADVANCED}function A(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var S=m.__private__.combineFontStyleAndFontWeight=function(O,J){if(O=="bold"&&J=="normal"||O=="bold"&&J==400||O=="normal"&&J=="italic"||O=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(O=J==400||J==="normal"?O==="italic"?"italic":"normal":J!=700&&J!=="bold"||O!=="normal"?(J==700?"bold":J)+""+O:"bold"),O};m.advancedAPI=function(O){var J=b===y.COMPAT;return J&&N.call(this),typeof O!="function"||(O(this),J&&A.call(this)),this},m.compatAPI=function(O){var J=b===y.ADVANCED;return J&&A.call(this),typeof O!="function"||(O(this),J&&N.call(this)),this},m.isAdvancedAPI=function(){return b===y.ADVANCED};var j,E=function(O){if(b!==y.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=m.roundToPrecision=m.__private__.roundToPrecision=function(O,J){var ge=t||J;if(isNaN(O)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(ge).replace(/0+$/,"")};j=m.hpf=m.__private__.hpf=typeof c=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return C(O,c)}:c==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return C(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return C(O,16)};var I=m.f2=m.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return C(O,2)},T=m.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return C(O,3)},P=m.scale=m.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?O*Qe:b===y.ADVANCED?O:void 0},H=function(O){return b===y.COMPAT?$c()-O:b===y.ADVANCED?O:void 0},q=function(O){return P(H(O))};m.__private__.setPrecision=m.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var ae,R="00000000000000000000000000000000",z=m.__private__.getFileId=function(){return R},Y=m.__private__.setFileId=function(O){return R=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ga=new wf(d.userPermissions,d.userPassword,d.ownerPassword,R)),R};m.setFileId=function(O){return Y(O),this},m.getFileId=function(){return z()};var U=m.__private__.convertDateToPDFDate=function(O){var J=O.getTimezoneOffset(),ge=J<0?"+":"-",we=Math.floor(Math.abs(J/60)),Ee=Math.abs(J%60),$e=[ge,B(we),"'",B(Ee),"'"].join("");return["D:",O.getFullYear(),B(O.getMonth()+1),B(O.getDate()),B(O.getHours()),B(O.getMinutes()),B(O.getSeconds()),$e].join("")},Q=m.__private__.convertPDFDateToDate=function(O){var J=parseInt(O.substr(2,4),10),ge=parseInt(O.substr(6,2),10)-1,we=parseInt(O.substr(8,2),10),Ee=parseInt(O.substr(10,2),10),$e=parseInt(O.substr(12,2),10),et=parseInt(O.substr(14,2),10);return new Date(J,ge,we,Ee,$e,et,0)},pe=m.__private__.setCreationDate=function(O){var J;if(O===void 0&&(O=new Date),O instanceof Date)J=U(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=O}return ae=J},F=m.__private__.getCreationDate=function(O){var J=ae;return O==="jsDate"&&(J=Q(ae)),J};m.setCreationDate=function(O){return pe(O),this},m.getCreationDate=function(O){return F(O)};var M,B=m.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},D=m.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},X=0,V=[],ee=[],K=0,ce=[],xe=[],G=!1,Ce=ee,Ve=function(){X=0,K=0,ee=[],V=[],ce=[],oe=yr(),le=yr()};m.__private__.setCustomOutputDestination=function(O){G=!0,Ce=O};var Se=function(O){G||(Ce=O)};m.__private__.resetCustomOutputDestination=function(){G=!1,Ce=ee};var ue=m.__private__.out=function(O){return O=O.toString(),K+=O.length+1,Ce.push(O),Ce},Me=m.__private__.write=function(O){return ue(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},rt=m.__private__.getArrayBuffer=function(O){for(var J=O.length,ge=new ArrayBuffer(J),we=new Uint8Array(ge);J--;)we[J]=O.charCodeAt(J);return ge},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return We};var ve=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(O){return ve=b===y.ADVANCED?O/Qe:O,this};var Ue,Je=m.__private__.getFontSize=m.getFontSize=function(){return b===y.COMPAT?ve:ve*Qe},dt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(O){return dt=O,this},m.__private__.getR2L=m.getR2L=function(){return dt};var be,at=m.__private__.setZoomMode=function(O){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))Ue=O;else if(isNaN(O)){if(J.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Ue=O}else Ue=parseInt(O,10)};m.__private__.getZoomMode=function(){return Ue};var ht,_t=m.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');be=O};m.__private__.getPageMode=function(){return be};var Ct=m.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');ht=O};m.__private__.getLayoutMode=function(){return ht},m.__private__.setDisplayMode=m.setDisplayMode=function(O,J,ge){return at(O),Ct(J),_t(ge),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(O){if(Object.keys(xt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[O]},m.__private__.getDocumentProperties=function(){return xt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(O){for(var J in xt)xt.hasOwnProperty(J)&&O[J]&&(xt[J]=O[J]);return this},m.__private__.setDocumentProperty=function(O,J){if(Object.keys(xt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[O]=J};var nt,Qe,tr,jt,$r,ar={},dr={},qa=[],Qt={},Li={},ye={},Dt={},Ft=null,It=0,At=[],qt=new i8(m),aa=e.hotfixes||[],Ge={},vr={},ys=[],Ot=function O(J,ge,we,Ee,$e,et){if(!(this instanceof O))return new O(J,ge,we,Ee,$e,et);isNaN(J)&&(J=1),isNaN(ge)&&(ge=0),isNaN(we)&&(we=0),isNaN(Ee)&&(Ee=1),isNaN($e)&&($e=0),isNaN(et)&&(et=0),this._matrix=[J,ge,we,Ee,$e,et]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(O)},Ot.prototype.multiply=function(O){var J=O.sx*this.sx+O.shy*this.shx,ge=O.sx*this.shy+O.shy*this.sy,we=O.shx*this.sx+O.sy*this.shx,Ee=O.shx*this.shy+O.sy*this.sy,$e=O.tx*this.sx+O.ty*this.shx+this.tx,et=O.tx*this.shy+O.ty*this.sy+this.ty;return new Ot(J,ge,we,Ee,$e,et)},Ot.prototype.decompose=function(){var O=this.sx,J=this.shy,ge=this.shx,we=this.sy,Ee=this.tx,$e=this.ty,et=Math.sqrt(O*O+J*J),vt=(O/=et)*ge+(J/=et)*we;ge-=O*vt,we-=J*vt;var Tt=Math.sqrt(ge*ge+we*we);return vt/=Tt,O*(we/=Tt)<J*(ge/=Tt)&&(O=-O,J=-J,vt=-vt,et=-et),{scale:new Ot(et,0,0,Tt,0,0),translate:new Ot(1,0,0,1,Ee,$e),rotate:new Ot(O,J,-J,O,0,0),skew:new Ot(1,0,vt,1,0,0)}},Ot.prototype.toString=function(O){return this.join(" ")},Ot.prototype.inversed=function(){var O=this.sx,J=this.shy,ge=this.shx,we=this.sy,Ee=this.tx,$e=this.ty,et=1/(O*we-J*ge),vt=we*et,Tt=-J*et,Gt=-ge*et,Ht=O*et;return new Ot(vt,Tt,Gt,Ht,-vt*Ee-Gt*$e,-Tt*Ee-Ht*$e)},Ot.prototype.applyToPoint=function(O){var J=O.x*this.sx+O.y*this.shx+this.tx,ge=O.x*this.shy+O.y*this.sy+this.ty;return new K0(J,ge)},Ot.prototype.applyToRectangle=function(O){var J=this.applyToPoint(O),ge=this.applyToPoint(new K0(O.x+O.w,O.y+O.h));return new fm(J.x,J.y,ge.x-J.x,ge.y-J.y)},Ot.prototype.clone=function(){var O=this.sx,J=this.shy,ge=this.shx,we=this.sy,Ee=this.tx,$e=this.ty;return new Ot(O,J,ge,we,Ee,$e)},m.Matrix=Ot;var bs=m.matrixMult=function(O,J){return J.multiply(O)},An=new Ot(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=An;var ya=function(O,J){if(!Li[O]){var ge=(J instanceof du?"Sh":"P")+(Object.keys(Qt).length+1).toString(10);J.id=ge,Li[O]=ge,Qt[ge]=J,qt.publish("addPattern",J)}};m.ShadingPattern=du,m.TilingPattern=Dd,m.addShadingPattern=function(O,J){return E("addShadingPattern()"),ya(O,J),this},m.beginTilingPattern=function(O){E("beginTilingPattern()"),i1(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},m.endTilingPattern=function(O,J){E("endTilingPattern()"),J.stream=xe[M].join(`
`),ya(O,J),qt.publish("endTilingPattern",J),ys.pop().restore()};var Wr=m.__private__.newObject=function(){var O=yr();return te(O,!0),O},yr=m.__private__.newObjectDeferred=function(){return X++,V[X]=function(){return K},X},te=function(O,J){return J=typeof J=="boolean"&&J,V[O]=K,J&&ue(O+" 0 obj"),O},fe=m.__private__.newAdditionalObject=function(){var O={objId:yr(),content:""};return ce.push(O),O},oe=yr(),le=yr(),he=m.__private__.decodeColorString=function(O){var J=O.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var ge=parseFloat(J[0]);J=[ge,ge,ge,"r"]}for(var we="#",Ee=0;Ee<3;Ee++)we+=("0"+Math.floor(255*parseFloat(J[Ee])).toString(16)).slice(-2);return we},me=m.__private__.encodeColorString=function(O){var J;typeof O=="string"&&(O={ch1:O});var ge=O.ch1,we=O.ch2,Ee=O.ch3,$e=O.ch4,et=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var vt=new $B(ge);if(vt.ok)ge=vt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Tt=parseInt(ge.substr(1),16);ge=Tt>>16&255,we=Tt>>8&255,Ee=255&Tt}if(we===void 0||$e===void 0&&ge===we&&we===Ee)if(typeof ge=="string")J=ge+" "+et[0];else switch(O.precision){case 2:J=I(ge/255)+" "+et[0];break;case 3:default:J=T(ge/255)+" "+et[0]}else if($e===void 0||_r($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return J=["1.","1.","1.",et[1]].join(" ");if(typeof ge=="string")J=[ge,we,Ee,et[1]].join(" ");else switch(O.precision){case 2:J=[I(ge/255),I(we/255),I(Ee/255),et[1]].join(" ");break;default:case 3:J=[T(ge/255),T(we/255),T(Ee/255),et[1]].join(" ")}}else if(typeof ge=="string")J=[ge,we,Ee,$e,et[2]].join(" ");else switch(O.precision){case 2:J=[I(ge),I(we),I(Ee),I($e),et[2]].join(" ");break;case 3:default:J=[T(ge),T(we),T(Ee),T($e),et[2]].join(" ")}return J},Te=m.__private__.getFilters=function(){return i},Be=m.__private__.putStream=function(O){var J=(O=O||{}).data||"",ge=O.filters||Te(),we=O.alreadyAppliedFilters||[],Ee=O.addLength1||!1,$e=J.length,et=O.objectId,vt=function(Ka){return Ka};if(d!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(vt=Ga.encryptor(et,0));var Tt={};ge===!0&&(ge=["FlateEncode"]);var Gt=O.additionalKeyValues||[],Ht=(Tt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(J,ge):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Tt.data.length!==0&&(Gt.push({key:"Length",value:Tt.data.length}),Ee===!0&&Gt.push({key:"Length1",value:$e})),Ht.length!=0)if(Ht.split("/").length-1==1)Gt.push({key:"Filter",value:Ht});else{Gt.push({key:"Filter",value:"["+Ht+"]"});for(var sr=0;sr<Gt.length;sr+=1)if(Gt[sr].key==="DecodeParms"){for(var sn=[],pn=0;pn<Tt.reverseChain.split("/").length-1;pn+=1)sn.push("null");sn.push(Gt[sr].value),Gt[sr].value="["+sn.join(" ")+"]"}}ue("<<");for(var $n=0;$n<Gt.length;$n++)ue("/"+Gt[$n].key+" "+Gt[$n].value);ue(">>"),Tt.data.length!==0&&(ue("stream"),ue(vt(Tt.data)),ue("endstream"))},Pe=m.__private__.putPage=function(O){var J=O.number,ge=O.data,we=O.objId,Ee=O.contentsObjId;te(we,!0),ue("<</Type /Page"),ue("/Parent "+O.rootDictionaryObjId+" 0 R"),ue("/Resources "+O.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(j(O.mediaBox.bottomLeftX))+" "+parseFloat(j(O.mediaBox.bottomLeftY))+" "+j(O.mediaBox.topRightX)+" "+j(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ue("/CropBox ["+j(O.cropBox.bottomLeftX)+" "+j(O.cropBox.bottomLeftY)+" "+j(O.cropBox.topRightX)+" "+j(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ue("/BleedBox ["+j(O.bleedBox.bottomLeftX)+" "+j(O.bleedBox.bottomLeftY)+" "+j(O.bleedBox.topRightX)+" "+j(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ue("/TrimBox ["+j(O.trimBox.bottomLeftX)+" "+j(O.trimBox.bottomLeftY)+" "+j(O.trimBox.topRightX)+" "+j(O.trimBox.topRightY)+"]"),O.artBox!==null&&ue("/ArtBox ["+j(O.artBox.bottomLeftX)+" "+j(O.artBox.bottomLeftY)+" "+j(O.artBox.topRightX)+" "+j(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ue("/UserUnit "+O.userUnit),qt.publish("putPage",{objId:we,pageContext:At[J],pageNumber:J,page:ge}),ue("/Contents "+Ee+" 0 R"),ue(">>"),ue("endobj");var $e=ge.join(`
`);return b===y.ADVANCED&&($e+=`
Q`),te(Ee,!0),Be({data:$e,filters:Te(),objectId:Ee}),ue("endobj"),we},Le=m.__private__.putPages=function(){var O,J,ge=[];for(O=1;O<=It;O++)At[O].objId=yr(),At[O].contentsObjId=yr();for(O=1;O<=It;O++)ge.push(Pe({number:O,data:xe[O],objId:At[O].objId,contentsObjId:At[O].contentsObjId,mediaBox:At[O].mediaBox,cropBox:At[O].cropBox,bleedBox:At[O].bleedBox,trimBox:At[O].trimBox,artBox:At[O].artBox,userUnit:At[O].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:le}));te(oe,!0),ue("<</Type /Pages");var we="/Kids [";for(J=0;J<It;J++)we+=ge[J]+" 0 R ";ue(we+"]"),ue("/Count "+It),ue(">>"),ue("endobj"),qt.publish("postPutPages")},Ie=function(O){qt.publish("putFont",{font:O,out:ue,newObject:Wr,putStream:Be}),O.isAlreadyPutted!==!0&&(O.objectNumber=Wr(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+kf(O.postScriptName)),ue("/Subtype /Type1"),typeof O.encoding=="string"&&ue("/Encoding /"+O.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},tt=function(){for(var O in ar)ar.hasOwnProperty(O)&&(f===!1||f===!0&&h.hasOwnProperty(O))&&Ie(ar[O])},lt=function(O){O.objectNumber=Wr();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[j(O.x),j(O.y),j(O.x+O.width),j(O.y+O.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var ge=O.pages[1].join(`
`);Be({data:ge,additionalKeyValues:J,objectId:O.objectNumber}),ue("endobj")},gt=function(){for(var O in Ge)Ge.hasOwnProperty(O)&&lt(Ge[O])},it=function(O,J){var ge,we=[],Ee=1/(J-1);for(ge=0;ge<1;ge+=Ee)we.push(ge);if(we.push(1),O[0].offset!=0){var $e={offset:0,color:O[0].color};O.unshift($e)}if(O[O.length-1].offset!=1){var et={offset:1,color:O[O.length-1].color};O.push(et)}for(var vt="",Tt=0,Gt=0;Gt<we.length;Gt++){for(ge=we[Gt];ge>O[Tt+1].offset;)Tt++;var Ht=O[Tt].offset,sr=(ge-Ht)/(O[Tt+1].offset-Ht),sn=O[Tt].color,pn=O[Tt+1].color;vt+=D(Math.round((1-sr)*sn[0]+sr*pn[0]).toString(16))+D(Math.round((1-sr)*sn[1]+sr*pn[1]).toString(16))+D(Math.round((1-sr)*sn[2]+sr*pn[2]).toString(16))}return vt.trim()},pt=function(O,J){J||(J=21);var ge=Wr(),we=it(O.colors,J),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+J+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be({data:we,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),ue("endobj"),O.objectNumber=Wr(),ue("<< /ShadingType "+O.type),ue("/ColorSpace /DeviceRGB");var $e="/Coords ["+j(parseFloat(O.coords[0]))+" "+j(parseFloat(O.coords[1]))+" ";O.type===2?$e+=j(parseFloat(O.coords[2]))+" "+j(parseFloat(O.coords[3])):$e+=j(parseFloat(O.coords[2]))+" "+j(parseFloat(O.coords[3]))+" "+j(parseFloat(O.coords[4]))+" "+j(parseFloat(O.coords[5])),ue($e+="]"),O.matrix&&ue("/Matrix ["+O.matrix.toString()+"]"),ue("/Function "+ge+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},$t=function(O,J){var ge=yr(),we=Wr();J.push({resourcesOid:ge,objectOid:we}),O.objectNumber=we;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+O.boundingBox.map(j).join(" ")+"]"}),Ee.push({key:"XStep",value:j(O.xStep)}),Ee.push({key:"YStep",value:j(O.yStep)}),Ee.push({key:"Resources",value:ge+" 0 R"}),O.matrix&&Ee.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Be({data:O.stream,additionalKeyValues:Ee,objectId:O.objectNumber}),ue("endobj")},br=function(O){var J;for(J in Qt)Qt.hasOwnProperty(J)&&(Qt[J]instanceof du?pt(Qt[J]):Qt[J]instanceof Dd&&$t(Qt[J],O))},Cr=function(O){for(var J in O.objectNumber=Wr(),ue("<<"),O)switch(J){case"opacity":ue("/ca "+I(O[J]));break;case"stroke-opacity":ue("/CA "+I(O[J]))}ue(">>"),ue("endobj")},Un=function(){var O;for(O in ye)ye.hasOwnProperty(O)&&Cr(ye[O])},yo=function(){for(var O in ue("/XObject <<"),Ge)Ge.hasOwnProperty(O)&&Ge[O].objectNumber>=0&&ue("/"+O+" "+Ge[O].objectNumber+" 0 R");qt.publish("putXobjectDict"),ue(">>")},Ml=function(){Ga.oid=Wr(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Ga.v),ue("/R "+Ga.r),ue("/U <"+Ga.toHexString(Ga.U)+">"),ue("/O <"+Ga.toHexString(Ga.O)+">"),ue("/P "+Ga.P),ue(">>"),ue("endobj")},el=function(){for(var O in ue("/Font <<"),ar)ar.hasOwnProperty(O)&&(f===!1||f===!0&&h.hasOwnProperty(O))&&ue("/"+O+" "+ar[O].objectNumber+" 0 R");ue(">>")},bo=function(){if(Object.keys(Qt).length>0){for(var O in ue("/Shading <<"),Qt)Qt.hasOwnProperty(O)&&Qt[O]instanceof du&&Qt[O].objectNumber>=0&&ue("/"+O+" "+Qt[O].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),ue(">>")}},tl=function(O){if(Object.keys(Qt).length>0){for(var J in ue("/Pattern <<"),Qt)Qt.hasOwnProperty(J)&&Qt[J]instanceof m.TilingPattern&&Qt[J].objectNumber>=0&&Qt[J].objectNumber<O&&ue("/"+J+" "+Qt[J].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),ue(">>")}},oi=function(){if(Object.keys(ye).length>0){var O;for(O in ue("/ExtGState <<"),ye)ye.hasOwnProperty(O)&&ye[O].objectNumber>=0&&ue("/"+O+" "+ye[O].objectNumber+" 0 R");qt.publish("putGStateDict"),ue(">>")}},_n=function(O){te(O.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),el(),bo(),tl(O.objectOid),oi(),yo(),ue(">>"),ue("endobj")},Vx=function(){var O=[];tt(),Un(),gt(),br(O),qt.publish("putResources"),O.forEach(_n),_n({resourcesOid:le,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources")},qx=function(){qt.publish("putAdditionalObjects");for(var O=0;O<ce.length;O++){var J=ce[O];te(J.objId,!0),ue(J.content),ue("endobj")}qt.publish("postPutAdditionalObjects")},Gx=function(O){dr[O.fontName]=dr[O.fontName]||{},dr[O.fontName][O.fontStyle]=O.id},nm=function(O,J,ge,we,Ee){var $e={id:"F"+(Object.keys(ar).length+1).toString(10),postScriptName:O,fontName:J,fontStyle:ge,encoding:we,isStandardFont:Ee||!1,metadata:{}};return qt.publish("addFont",{font:$e,instance:this}),ar[$e.id]=$e,Gx($e),$e.id},Kw=function(O){for(var J=0,ge=We.length;J<ge;J++){var we=nm.call(this,O[J][0],O[J][1],O[J][2],We[J][3],!0);f===!1&&(h[we]=!0);var Ee=O[J][0].split("-");Gx({id:we,fontName:Ee[0],fontStyle:Ee[1]||""})}qt.publish("addFonts",{fonts:ar,dictionary:dr})},wo=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(we){var J=we.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var ge="Error in function "+J.split(`
`)[0].split("<")[0]+": "+we.message;if(!Rt.console)throw new Error(ge);Rt.console.error(ge,we),Rt.alert&&alert(ge)}},O.foo.bar=O,O.foo},$0=function(O,J){var ge,we,Ee,$e,et,vt,Tt,Gt,Ht;if(Ee=(J=J||{}).sourceEncoding||"Unicode",et=J.outputEncoding,(J.autoencode||et)&&ar[nt].metadata&&ar[nt].metadata[Ee]&&ar[nt].metadata[Ee].encoding&&($e=ar[nt].metadata[Ee].encoding,!et&&ar[nt].encoding&&(et=ar[nt].encoding),!et&&$e.codePages&&(et=$e.codePages[0]),typeof et=="string"&&(et=$e[et]),et)){for(Tt=!1,vt=[],ge=0,we=O.length;ge<we;ge++)(Gt=et[O.charCodeAt(ge)])?vt.push(String.fromCharCode(Gt)):vt.push(O[ge]),vt[ge].charCodeAt(0)>>8&&(Tt=!0);O=vt.join("")}for(ge=O.length;Tt===void 0&&ge!==0;)O.charCodeAt(ge-1)>>8&&(Tt=!0),ge--;if(!Tt)return O;for(vt=J.noBOM?[]:[254,255],ge=0,we=O.length;ge<we;ge++){if((Ht=(Gt=O.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vt.push(Ht),vt.push(Gt-(Ht<<8))}return String.fromCharCode.apply(void 0,vt)},Ms=m.__private__.pdfEscape=m.pdfEscape=function(O,J){return $0(O,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},am=m.__private__.beginPage=function(O){xe[++It]=[],At[It]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Yx(It),Se(xe[M])},Kx=function(O,J){var ge,we,Ee;switch(r=J||r,typeof O=="string"&&(ge=v(O.toLowerCase()),Array.isArray(ge)&&(we=ge[0],Ee=ge[1])),Array.isArray(O)&&(we=O[0]*Qe,Ee=O[1]*Qe),isNaN(we)&&(we=a[0],Ee=a[1]),(we>14400||Ee>14400)&&(Lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Ee=Math.min(14400,Ee)),a=[we,Ee],r.substr(0,1)){case"l":Ee>we&&(a=[Ee,we]);break;case"p":we>Ee&&(a=[Ee,we])}am(a),t1(lm),ue(ko),um!==0&&ue(um+" J"),dm!==0&&ue(dm+" j"),qt.publish("addPage",{pageNumber:It})},Yw=function(O){O>0&&O<=It&&(xe.splice(O,1),At.splice(O,1),It--,M>It&&(M=It),this.setPage(M))},Yx=function(O){O>0&&O<=It&&(M=O)},Xw=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return xe.length-1},Xx=function(O,J,ge){var we,Ee=void 0;return ge=ge||{},O=O!==void 0?O:ar[nt].fontName,J=J!==void 0?J:ar[nt].fontStyle,we=O.toLowerCase(),dr[we]!==void 0&&dr[we][J]!==void 0?Ee=dr[we][J]:dr[O]!==void 0&&dr[O][J]!==void 0?Ee=dr[O][J]:ge.disableWarning===!1&&Lr.warn("Unable to look up font label for font '"+O+"', '"+J+"'. Refer to getFontList() for available fonts."),Ee||ge.noFallback||(Ee=dr.times[J])==null&&(Ee=dr.times.normal),Ee},Zw=m.__private__.putInfo=function(){var O=Wr(),J=function(we){return we};for(var ge in d!==null&&(J=Ga.encryptor(O,0)),ue("<<"),ue("/Producer ("+Ms(J("jsPDF "+Et.version))+")"),xt)xt.hasOwnProperty(ge)&&xt[ge]&&ue("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Ms(J(xt[ge]))+")");ue("/CreationDate ("+Ms(J(ae))+")"),ue(">>"),ue("endobj")},sm=m.__private__.putCatalog=function(O){var J=(O=O||{}).rootDictionaryObjId||oe;switch(Wr(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+J+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Ue;ge.substr(ge.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+I(Ue)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}be&&ue("/PageMode /"+be),qt.publish("putCatalog"),ue(">>"),ue("endobj")},Jw=m.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(X+1)),ue("/Root "+X+" 0 R"),ue("/Info "+(X-1)+" 0 R"),d!==null&&ue("/Encrypt "+Ga.oid+" 0 R"),ue("/ID [ <"+R+"> <"+R+"> ]"),ue(">>")},Qw=m.__private__.putHeader=function(){ue("%PDF-"+p),ue("%")},e5=m.__private__.putXRef=function(){var O="0000000000";ue("xref"),ue("0 "+(X+1)),ue("0000000000 65535 f ");for(var J=1;J<=X;J++)typeof V[J]=="function"?ue((O+V[J]()).slice(-10)+" 00000 n "):V[J]!==void 0?ue((O+V[J]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Rl=m.__private__.buildDocument=function(){Ve(),Se(ee),qt.publish("buildDocument"),Qw(),Le(),qx(),Vx(),d!==null&&Ml(),Zw(),sm();var O=K;return e5(),Jw(),ue("startxref"),ue(""+O),ue("%%EOF"),Se(xe[M]),ee.join(`
`)},W0=m.__private__.getBlob=function(O){return new Blob([rt(O)],{type:"application/pdf"})},H0=m.output=m.__private__.output=wo(function(O,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",O){case void 0:return Rl();case"save":m.save(J.filename);break;case"arraybuffer":return rt(Rl());case"blob":return W0(Rl());case"bloburi":case"bloburl":if(Rt.URL!==void 0&&typeof Rt.URL.createObjectURL=="function")return Rt.URL&&Rt.URL.createObjectURL(W0(Rl()))||void 0;Lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",we=Rl();try{ge=q4(we)}catch{ge=q4(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+J.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ee=J.pdfObjectUrl,$e="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",vt=Rt.open();return vt!==null&&vt.document.write(et),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Rt)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Gt=Rt.open();if(Gt!==null){Gt.document.write(Tt);var Ht=this;Gt.document.documentElement.querySelector("#pdfViewer").onload=function(){Gt.document.title=J.filename,Gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',sn=Rt.open();if(sn!==null&&(sn.document.write(sr),sn.document.title=J.filename),sn||typeof safari>"u")return sn;break;case"datauri":case"dataurl":return Rt.document.location.href=this.output("datauristring",J);default:return null}}),Zx=function(O){return Array.isArray(aa)===!0&&aa.indexOf(O)>-1};switch(n){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=Zx("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qe=n}var Ga=null;pe(),Y();var t5=function(O){return d!==null?Ga.encryptor(O,0):function(J){return J}},Jx=m.__private__.getPageInfo=m.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[O].objId,pageNumber:O,pageContext:At[O]}},Wt=m.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in At)if(At[J].objId===O)break;return Jx(J)},r5=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:At[M].objId,pageNumber:M,pageContext:At[M]}};m.addPage=function(){return Kx.apply(this,arguments),this},m.setPage=function(){return Yx.apply(this,arguments),Se.call(this,xe[M]),this},m.insertPage=function(O){return this.addPage(),this.movePage(M,O),this},m.movePage=function(O,J){var ge,we;if(O>J){ge=xe[O],we=At[O];for(var Ee=O;Ee>J;Ee--)xe[Ee]=xe[Ee-1],At[Ee]=At[Ee-1];xe[J]=ge,At[J]=we,this.setPage(J)}else if(O<J){ge=xe[O],we=At[O];for(var $e=O;$e<J;$e++)xe[$e]=xe[$e+1],At[$e]=At[$e+1];xe[J]=ge,At[J]=we,this.setPage(J)}return this},m.deletePage=function(){return Yw.apply(this,arguments),this},m.__private__.text=m.text=function(O,J,ge,we,Ee){var $e,et,vt,Tt,Gt,Ht,sr,sn,pn,$n=(we=we||{}).scope||this;if(typeof O=="number"&&typeof J=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Ka=ge;ge=J,J=O,O=Ka}if(arguments[3]instanceof Ot?(E("The transform parameter of text() with a Matrix value"),pn=Ee):(vt=arguments[4],Tt=arguments[5],_r(sr=arguments[3])==="object"&&sr!==null||(typeof vt=="string"&&(Tt=vt,vt=null),typeof sr=="string"&&(Tt=sr,sr=null),typeof sr=="number"&&(vt=sr,sr=null),we={flags:sr,angle:vt,align:Tt})),isNaN(J)||isNaN(ge)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return $n;var ba="",No=!1,li=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:fd,al=$n.internal.scaleFactor;function o1(Mr){return Mr=Mr.split("	").join(Array(we.TabLen||9).join(" ")),Ms(Mr,sr)}function gm(Mr){for(var Rr,Cn=Mr.concat(),sa=[],Wl=Cn.length;Wl--;)typeof(Rr=Cn.shift())=="string"?sa.push(Rr):Array.isArray(Mr)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?sa.push(Rr[0]):sa.push([Rr[0],Rr[1],Rr[2]]);return sa}function xm(Mr,Rr){var Cn;if(typeof Mr=="string")Cn=Rr(Mr)[0];else if(Array.isArray(Mr)){for(var sa,Wl,jm=Mr.concat(),sf=[],f1=jm.length;f1--;)typeof(sa=jm.shift())=="string"?sf.push(Rr(sa)[0]):Array.isArray(sa)&&typeof sa[0]=="string"&&(Wl=Rr(sa[0],sa[1],sa[2]),sf.push([Wl[0],Wl[1],Wl[2]]));Cn=sf}return Cn}var X0=!1,vm=!0;if(typeof O=="string")X0=!0;else if(Array.isArray(O)){var ym=O.concat();et=[];for(var Z0,La=ym.length;La--;)(typeof(Z0=ym.shift())!="string"||Array.isArray(Z0)&&typeof Z0[0]!="string")&&(vm=!1);X0=vm}if(X0===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var J0=ve/$n.internal.scaleFactor,Q0=J0*(li-1);switch(we.baseline){case"bottom":ge-=Q0;break;case"top":ge+=J0-Q0;break;case"hanging":ge+=J0-2*Q0;break;case"middle":ge+=J0/2-Q0}if((Ht=we.maxWidth||0)>0&&(typeof O=="string"?O=$n.splitTextToSize(O,Ht):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Mr,Rr){return Mr.concat($n.splitTextToSize(Rr,Ht))},[]))),$e={text:O,x:J,y:ge,options:we,mutex:{pdfEscape:Ms,activeFontKey:nt,fonts:ar,activeFontSize:ve}},qt.publish("preProcessText",$e),O=$e.text,vt=(we=$e.options).angle,!(pn instanceof Ot)&&vt&&typeof vt=="number"){vt*=Math.PI/180,we.rotationDirection===0&&(vt=-vt),b===y.ADVANCED&&(vt=-vt);var ef=Math.cos(vt),bm=Math.sin(vt);pn=new Ot(ef,bm,-bm,ef,0,0)}else vt&&vt instanceof Ot&&(pn=vt);b!==y.ADVANCED||pn||(pn=An),(Gt=we.charSpace||G0)!==void 0&&(ba+=j(P(Gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sn=we.horizontalScale)!==void 0&&(ba+=j(100*sn)+` Tz
`),we.lang;var Rs=-1,f5=we.renderingMode!==void 0?we.renderingMode:we.stroke,wm=$n.internal.getCurrentPageInfo().pageContext;switch(f5){case 0:case!1:case"fill":Rs=0;break;case 1:case!0:case"stroke":Rs=1;break;case 2:case"fillThenStroke":Rs=2;break;case 3:case"invisible":Rs=3;break;case 4:case"fillAndAddForClipping":Rs=4;break;case 5:case"strokeAndAddPathForClipping":Rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rs=6;break;case 7:case"addToPathForClipping":Rs=7}var l1=wm.usedRenderingMode!==void 0?wm.usedRenderingMode:-1;Rs!==-1?ba+=Rs+` Tr
`:l1!==-1&&(ba+=`0 Tr
`),Rs!==-1&&(wm.usedRenderingMode=Rs),Tt=we.align||"left";var Di,tf=ve*li,c1=$n.internal.pageSize.getWidth(),u1=ar[nt];Gt=we.charSpace||G0,Ht=we.maxWidth||0,sr=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Wc=[],pd=function(Mr){return $n.getStringUnitWidth(Mr,{font:u1,charSpace:Gt,fontSize:ve,doKerning:!1})*ve/al};if(Object.prototype.toString.call(O)==="[object Array]"){var Bs;et=gm(O),Tt!=="left"&&(Di=et.map(pd));var ws,Hc=0;if(Tt==="right"){J-=Di[0],O=[],La=et.length;for(var zl=0;zl<La;zl++)zl===0?(ws=nl(J),Bs=Bl(ge)):(ws=P(Hc-Di[zl]),Bs=-tf),O.push([et[zl],ws,Bs]),Hc=Di[zl]}else if(Tt==="center"){J-=Di[0]/2,O=[],La=et.length;for(var Ul=0;Ul<La;Ul++)Ul===0?(ws=nl(J),Bs=Bl(ge)):(ws=P((Hc-Di[Ul])/2),Bs=-tf),O.push([et[Ul],ws,Bs]),Hc=Di[Ul]}else if(Tt==="left"){O=[],La=et.length;for(var rf=0;rf<La;rf++)O.push(et[rf])}else if(Tt==="justify"&&u1.encoding==="Identity-H"){O=[],La=et.length,Ht=Ht!==0?Ht:c1;for(var $l=0,En=0;En<La;En++)if(Bs=En===0?Bl(ge):-tf,ws=En===0?nl(J):$l,En<La-1){var km=P((Ht-Di[En])/(et[En].split(" ").length-1)),ks=et[En].split(" ");O.push([ks[0]+" ",ws,Bs]),$l=0;for(var Ii=1;Ii<ks.length;Ii++){var nf=(pd(ks[Ii-1]+" "+ks[Ii])-pd(ks[Ii]))*al+km;Ii==ks.length-1?O.push([ks[Ii],nf,0]):O.push([ks[Ii]+" ",nf,0]),$l-=nf}}else O.push([et[En],ws,Bs]);O.push(["",$l,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],La=et.length,Ht=Ht!==0?Ht:c1,En=0;En<La;En++)Bs=En===0?Bl(ge):-tf,ws=En===0?nl(J):0,En<La-1?Wc.push(j(P((Ht-Di[En])/(et[En].split(" ").length-1)))):Wc.push(0),O.push([et[En],ws,Bs])}}var d1=typeof we.R2L=="boolean"?we.R2L:dt;d1===!0&&(O=xm(O,function(Mr,Rr,Cn){return[Mr.split("").reverse().join(""),Rr,Cn]})),$e={text:O,x:J,y:ge,options:we,mutex:{pdfEscape:Ms,activeFontKey:nt,fonts:ar,activeFontSize:ve}},qt.publish("postProcessText",$e),O=$e.text,No=$e.mutex.isHex||!1;var Nm=ar[nt].encoding;Nm!=="WinAnsiEncoding"&&Nm!=="StandardEncoding"||(O=xm(O,function(Mr,Rr,Cn){return[o1(Mr),Rr,Cn]})),et=gm(O),O=[];for(var gd,xd,Vc,vd=0,af=1,yd=Array.isArray(et[0])?af:vd,qc="",Sm=function(Mr,Rr,Cn){var sa="";return Cn instanceof Ot?(Cn=typeof we.angle=="number"?bs(Cn,new Ot(1,0,0,1,Mr,Rr)):bs(new Ot(1,0,0,1,Mr,Rr),Cn),b===y.ADVANCED&&(Cn=bs(new Ot(1,0,0,-1,0,0),Cn)),sa=Cn.join(" ")+` Tm
`):sa=j(Mr)+" "+j(Rr)+` Td
`,sa},Mi=0;Mi<et.length;Mi++){switch(qc="",yd){case af:Vc=(No?"<":"(")+et[Mi][0]+(No?">":")"),gd=parseFloat(et[Mi][1]),xd=parseFloat(et[Mi][2]);break;case vd:Vc=(No?"<":"(")+et[Mi]+(No?">":")"),gd=nl(J),xd=Bl(ge)}Wc!==void 0&&Wc[Mi]!==void 0&&(qc=Wc[Mi]+` Tw
`),Mi===0?O.push(qc+Sm(gd,xd,pn)+Vc):yd===vd?O.push(qc+Vc):yd===af&&O.push(qc+Sm(gd,xd,pn)+Vc)}O=yd===vd?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Ri=`BT
/`;return Ri+=nt+" "+ve+` Tf
`,Ri+=j(ve*li)+` TL
`,Ri+=hd+`
`,Ri+=ba,Ri+=O,ue(Ri+="ET"),h[nt]=!0,$n};var n5=m.__private__.clip=m.clip=function(O){return ue(O==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return n5("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ue("n"),this};var rl=m.__private__.isValidStyle=function(O){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(O){return rl(O)&&(u=O),this};var Qx=m.__private__.getStyle=m.getStyle=function(O){var J=u;switch(O){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=O}return J},e1=m.close=function(){return ue("h"),this};m.stroke=function(){return ue("S"),this},m.fill=function(O){return V0("f",O),this},m.fillEvenOdd=function(O){return V0("f*",O),this},m.fillStroke=function(O){return V0("B",O),this},m.fillStrokeEvenOdd=function(O){return V0("B*",O),this};var V0=function(O,J){_r(J)==="object"?s5(J,O):ue(O)},im=function(O){O===null||b===y.ADVANCED&&O===void 0||(O=Qx(O),ue(O))};function a5(O,J,ge,we,Ee){var $e=new Dd(J||this.boundingBox,ge||this.xStep,we||this.yStep,this.gState,Ee||this.matrix);$e.stream=this.stream;var et=O+"$$"+this.cloneIndex+++"$$";return ya(et,$e),$e}var s5=function(O,J){var ge=Li[O.key],we=Qt[ge];if(we instanceof du)ue("q"),ue(i5(J)),we.gState&&m.setGState(we.gState),ue(O.matrix.toString()+" cm"),ue("/"+ge+" sh"),ue("Q");else if(we instanceof Dd){var Ee=new Ot(1,0,0,-1,0,$c());O.matrix&&(Ee=Ee.multiply(O.matrix||An),ge=a5.call(we,O.key,O.boundingBox,O.xStep,O.yStep,Ee).id),ue("q"),ue("/Pattern cs"),ue("/"+ge+" scn"),we.gState&&m.setGState(we.gState),ue(J),ue("Q")}},i5=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},om=m.moveTo=function(O,J){return ue(j(P(O))+" "+j(q(J))+" m"),this},dd=m.lineTo=function(O,J){return ue(j(P(O))+" "+j(q(J))+" l"),this},zc=m.curveTo=function(O,J,ge,we,Ee,$e){return ue([j(P(O)),j(q(J)),j(P(ge)),j(q(we)),j(P(Ee)),j(q($e)),"c"].join(" ")),this};m.__private__.line=m.line=function(O,J,ge,we,Ee){if(isNaN(O)||isNaN(J)||isNaN(ge)||isNaN(we)||!rl(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[ge-O,we-J]],O,J,[1,1],Ee||"S"):this.lines([[ge-O,we-J]],O,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(O,J,ge,we,Ee,$e){var et,vt,Tt,Gt,Ht,sr,sn,pn,$n,Ka,ba,No;if(typeof O=="number"&&(No=ge,ge=J,J=O,O=No),we=we||[1,1],$e=$e||!1,isNaN(J)||isNaN(ge)||!Array.isArray(O)||!Array.isArray(we)||!rl(Ee)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(om(J,ge),et=we[0],vt=we[1],Gt=O.length,Ka=J,ba=ge,Tt=0;Tt<Gt;Tt++)(Ht=O[Tt]).length===2?(Ka=Ht[0]*et+Ka,ba=Ht[1]*vt+ba,dd(Ka,ba)):(sr=Ht[0]*et+Ka,sn=Ht[1]*vt+ba,pn=Ht[2]*et+Ka,$n=Ht[3]*vt+ba,Ka=Ht[4]*et+Ka,ba=Ht[5]*vt+ba,zc(sr,sn,pn,$n,Ka,ba));return $e&&e1(),im(Ee),this},m.path=function(O){for(var J=0;J<O.length;J++){var ge=O[J],we=ge.c;switch(ge.op){case"m":om(we[0],we[1]);break;case"l":dd(we[0],we[1]);break;case"c":zc.apply(this,we);break;case"h":e1()}}return this},m.__private__.rect=m.rect=function(O,J,ge,we,Ee){if(isNaN(O)||isNaN(J)||isNaN(ge)||isNaN(we)||!rl(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(we=-we),ue([j(P(O)),j(q(J)),j(P(ge)),j(P(we)),"re"].join(" ")),im(Ee),this},m.__private__.triangle=m.triangle=function(O,J,ge,we,Ee,$e,et){if(isNaN(O)||isNaN(J)||isNaN(ge)||isNaN(we)||isNaN(Ee)||isNaN($e)||!rl(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-O,we-J],[Ee-ge,$e-we],[O-Ee,J-$e]],O,J,[1,1],et,!0),this},m.__private__.roundedRect=m.roundedRect=function(O,J,ge,we,Ee,$e,et){if(isNaN(O)||isNaN(J)||isNaN(ge)||isNaN(we)||isNaN(Ee)||isNaN($e)||!rl(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*ge),$e=Math.min($e,.5*we),this.lines([[ge-2*Ee,0],[Ee*vt,0,Ee,$e-$e*vt,Ee,$e],[0,we-2*$e],[0,$e*vt,-Ee*vt,$e,-Ee,$e],[2*Ee-ge,0],[-Ee*vt,0,-Ee,-$e*vt,-Ee,-$e],[0,2*$e-we],[0,-$e*vt,Ee*vt,-$e,Ee,-$e]],O+Ee,J,[1,1],et,!0),this},m.__private__.ellipse=m.ellipse=function(O,J,ge,we,Ee){if(isNaN(O)||isNaN(J)||isNaN(ge)||isNaN(we)||!rl(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*ge,et=4/3*(Math.SQRT2-1)*we;return om(O+ge,J),zc(O+ge,J-et,O+$e,J-we,O,J-we),zc(O-$e,J-we,O-ge,J-et,O-ge,J),zc(O-ge,J+et,O-$e,J+we,O,J+we),zc(O+$e,J+we,O+ge,J+et,O+ge,J),im(Ee),this},m.__private__.circle=m.circle=function(O,J,ge,we){if(isNaN(O)||isNaN(J)||isNaN(ge)||!rl(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,J,ge,ge,we)},m.setFont=function(O,J,ge){return ge&&(J=S(J,ge)),nt=Xx(O,J,{disableWarning:!1}),this};var o5=m.__private__.getFont=m.getFont=function(){return ar[Xx.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var O,J,ge={};for(O in dr)if(dr.hasOwnProperty(O))for(J in ge[O]=[],dr[O])dr[O].hasOwnProperty(J)&&ge[O].push(J);return ge},m.addFont=function(O,J,ge,we,Ee){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(ge=S(ge,we)),Ee=Ee||"Identity-H",nm.call(this,O,J,ge,Ee)};var fd,lm=e.lineWidth||.200025,q0=m.__private__.getLineWidth=m.getLineWidth=function(){return lm},t1=m.__private__.setLineWidth=m.setLineWidth=function(O){return lm=O,ue(j(P(O))+" w"),this};m.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(O,J){if(O=O||[],J=J||0,isNaN(J)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(ge){return j(P(ge))}).join(" "),J=j(P(J)),ue("["+O+"] "+J+" d"),this};var r1=m.__private__.getLineHeight=m.getLineHeight=function(){return ve*fd};m.__private__.getLineHeight=m.getLineHeight=function(){return ve*fd};var n1=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(fd=O),this},a1=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return fd};n1(e.lineHeight);var nl=m.__private__.getHorizontalCoordinate=function(O){return P(O)},Bl=m.__private__.getVerticalCoordinate=function(O){return b===y.ADVANCED?O:At[M].mediaBox.topRightY-At[M].mediaBox.bottomLeftY-P(O)},l5=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(O){return j(nl(O))},Uc=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(O){return j(Bl(O))},ko=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return he(ko)},m.__private__.setStrokeColor=m.setDrawColor=function(O,J,ge,we){return ko=me({ch1:O,ch2:J,ch3:ge,ch4:we,pdfColorType:"draw",precision:2}),ue(ko),this};var cm=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return he(cm)},m.__private__.setFillColor=m.setFillColor=function(O,J,ge,we){return cm=me({ch1:O,ch2:J,ch3:ge,ch4:we,pdfColorType:"fill",precision:2}),ue(cm),this};var hd=e.textColor||"0 g",c5=m.__private__.getTextColor=m.getTextColor=function(){return he(hd)};m.__private__.setTextColor=m.setTextColor=function(O,J,ge,we){return hd=me({ch1:O,ch2:J,ch3:ge,ch4:we,pdfColorType:"text",precision:3}),this};var G0=e.charSpace,u5=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(G0||0)};m.__private__.setCharSpace=m.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return G0=O,this};var um=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(O){var J=m.CapJoinStyles[O];if(J===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return um=J,ue(J+" J"),this};var dm=0;m.__private__.setLineJoin=m.setLineJoin=function(O){var J=m.CapJoinStyles[O];if(J===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dm=J,ue(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(j(P(O))+" M"),this},m.GState=Ng,m.setGState=function(O){(O=typeof O=="string"?ye[Dt[O]]:s1(null,O)).equals(Ft)||(ue("/"+O.id+" gs"),Ft=O)};var s1=function(O,J){if(!O||!Dt[O]){var ge=!1;for(var we in ye)if(ye.hasOwnProperty(we)&&ye[we].equals(J)){ge=!0;break}if(ge)J=ye[we];else{var Ee="GS"+(Object.keys(ye).length+1).toString(10);ye[Ee]=J,J.id=Ee}return O&&(Dt[O]=J.id),qt.publish("addGState",J),J}};m.addGState=function(O,J){return s1(O,J),this},m.saveGraphicsState=function(){return ue("q"),qa.push({key:nt,size:ve,color:hd}),this},m.restoreGraphicsState=function(){ue("Q");var O=qa.pop();return nt=O.key,ve=O.size,hd=O.color,Ft=null,this},m.setCurrentTransformationMatrix=function(O){return ue(O.toString()+" cm"),this},m.comment=function(O){return ue("#"+O),this};var K0=function(O,J){var ge=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function($e){isNaN($e)||(ge=parseFloat($e))}});var we=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function($e){Ee=$e.toString()}}),this},fm=function(O,J,ge,we){K0.call(this,O,J),this.type="rect";var Ee=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var $e=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(et){isNaN(et)||($e=parseFloat(et))}}),this},hm=function(){this.page=It,this.currentPage=M,this.pages=xe.slice(0),this.pagesContext=At.slice(0),this.x=tr,this.y=jt,this.matrix=$r,this.width=md(M),this.height=$c(M),this.outputDestination=Ce,this.id="",this.objectNumber=-1};hm.prototype.restore=function(){It=this.page,M=this.currentPage,At=this.pagesContext,xe=this.pages,tr=this.x,jt=this.y,$r=this.matrix,mm(M,this.width),pm(M,this.height),Ce=this.outputDestination};var i1=function(O,J,ge,we,Ee){ys.push(new hm),It=M=0,xe=[],tr=O,jt=J,$r=Ee,am([ge,we])},d5=function(O){if(vr[O])ys.pop().restore();else{var J=new hm,ge="Xo"+(Object.keys(Ge).length+1).toString(10);J.id=ge,vr[O]=ge,Ge[ge]=J,qt.publish("addFormObject",J),ys.pop().restore()}};for(var Y0 in m.beginFormObject=function(O,J,ge,we,Ee){return i1(O,J,ge,we,Ee),this},m.endFormObject=function(O){return d5(O),this},m.doFormObject=function(O,J){var ge=Ge[vr[O]];return ue("q"),ue(J.toString()+" cm"),ue("/"+ge.id+" Do"),ue("Q"),this},m.getFormObject=function(O){var J=Ge[vr[O]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(O,J){return O=O||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Sd(W0(Rl()),O),typeof Sd.unload=="function"&&Rt.setTimeout&&setTimeout(Sd.unload,911),this):new Promise(function(ge,we){try{var Ee=Sd(W0(Rl()),O);typeof Sd.unload=="function"&&Rt.setTimeout&&setTimeout(Sd.unload,911),ge(Ee)}catch($e){we($e.message)}})},Et.API)Et.API.hasOwnProperty(Y0)&&(Y0==="events"&&Et.API.events.length?function(O,J){var ge,we,Ee;for(Ee=J.length-1;Ee!==-1;Ee--)ge=J[Ee][0],we=J[Ee][1],O.subscribe.apply(O,[ge].concat(typeof we=="function"?[we]:we))}(qt,Et.API.events):m[Y0]=Et.API[Y0]);var md=m.getPageWidth=function(O){return(At[O=O||M].mediaBox.topRightX-At[O].mediaBox.bottomLeftX)/Qe},mm=m.setPageWidth=function(O,J){At[O].mediaBox.topRightX=J*Qe+At[O].mediaBox.bottomLeftX},$c=m.getPageHeight=function(O){return(At[O=O||M].mediaBox.topRightY-At[O].mediaBox.bottomLeftY)/Qe},pm=m.setPageHeight=function(O,J){At[O].mediaBox.topRightY=J*Qe+At[O].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ms,getStyle:Qx,getFont:o5,getFontSize:Je,getCharSpace:u5,getTextColor:c5,getLineHeight:r1,getLineHeightFactor:a1,getLineWidth:q0,write:Me,getHorizontalCoordinate:nl,getVerticalCoordinate:Bl,getCoordinateString:l5,getVerticalCoordinateString:Uc,collections:{},newObject:Wr,newAdditionalObject:fe,newObjectDeferred:yr,newObjectDeferredBegin:te,getFilters:Te,putStream:Be,events:qt,scaleFactor:Qe,pageSize:{getWidth:function(){return md(M)},setWidth:function(O){mm(M,O)},getHeight:function(){return $c(M)},setHeight:function(O){pm(M,O)}},encryptionOptions:d,encryption:Ga,getEncryptor:t5,output:H0,getNumberOfPages:Xw,pages:xe,out:ue,f2:I,f3:T,getPageInfo:Jx,getPageInfoByObjId:Wt,getCurrentPageInfo:r5,getPDFVersion:g,Point:K0,Rectangle:fm,Matrix:Ot,hasHotfix:Zx},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return md(M)},set:function(O){mm(M,O)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return $c(M)},set:function(O){pm(M,O)},enumerable:!0,configurable:!0}),Kw.call(m,We),nt="F1",Kx(a,r),qt.publish("initialized"),m}wf.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},wf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},wf.prototype.processOwnerPassword=function(e,t){return K4(G4(t).substr(0,5),e)},wf.prototype.encryptor=function(e,t){var r=G4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return K4(r,n)}},Ng.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_r(e)!==_r(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="2.5.2";var xn=Et.API,AA=1,M0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(e){return e.toFixed(2)},nu=function(e){return e.toFixed(5)};xn.__acroform__={};var ai=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},o8=function(e){return e*AA},fl=function(e){var t=new qB,r=kt.internal.getHeight(e)||0,n=kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Vt(n)),Number(Vt(r))],t},tfe=xn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},rfe=xn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},nfe=xn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ln=xn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nfe(e,t-1)},Dn=xn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tfe(e,t-1)},In=xn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rfe(e,t-1)},afe=xn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(s)||0,[Number(Vt(c.lowerLeft_X)),Number(Vt(c.lowerLeft_Y)),Number(Vt(c.upperRight_X)),Number(Vt(c.upperRight_Y))]},sfe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Y4(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Vt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=fl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Y4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var s=r,i=kt.internal.getHeight(e)||0;i=i<0?-i:i;var l=kt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,P,H){if(T+1<a.length){var q=P+" "+a[T+1][0];return lv(q,e,H).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=lv("3",e,s).height,h=e.multiline?i-s:(i-f)/2,m=h+=2,p=0,g=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+lv(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var v="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var N=!1;if(a[b].length!==1&&x!==a[b].length-1){if((f+2)*(y+2)+2>i)continue e;v+=a[b][x],N=!0,g=b,b--}else{v=(v+=a[b][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var A=parseInt(b),S=c(A,v,s),j=b>=a.length-1;if(S&&!j){v+=" ",x=0;continue}if(S||j){if(j)g=A;else if(e.multiline&&(f+2)*(y+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>i)continue e;g=A}}for(var E="",C=p;C<=g;C++){var I=a[C];if(e.multiline){if(C===g){E+=I[x]+" ",x=(x+1)%I.length;continue}if(C===p){E+=I[I.length-1]+" ";continue}}E+=I[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=lv(E,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=Vt(u)+" "+Vt(m)+` Td
`,t+="("+M0(E)+`) Tj
`,t+=-Vt(u)+` 0 Td
`,m=-(s+2),d=0,p=N?g:g+1,y++,v=""}break}return n.text=t,n.fontSize=s,n},lv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},ife={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ofe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},lfe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),_r(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},cfe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ife)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");AA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new GB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&ofe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],u=l.Rect;if(l.Rect&&(l.Rect=afe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=kt.createDefaultAppearanceStream(l),_r(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=sfe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var p=m[i];typeof p=="function"&&(p=p.call(a,l)),f+="/"+i+" "+p+" ",a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p)}}else typeof(p=m)=="function"&&(p=p.call(a,l)),f+="/"+i+" "+p,a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&lfe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},VB=xn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),_r(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+M0(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ck=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+M0(n(e))+")"},vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vl.prototype.toString=function(){return this.objId+" 0 R"},vl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},vl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:VB(a,this.objId,this.scope)}):a instanceof vl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var qB=function(){vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ai(qB,vl);var GB=function(){vl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+M0(r(e))+")"}},set:function(r){e=r}})};ai(GB,vl);var Zo=function e(){vl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ln(t,3)},set:function(v){v?this.F=Dn(t,3):this.F=In(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Yy)return;s="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+M0(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(v){i=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/AA:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Yy||this instanceof Fu))return Ck(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof oa?h:Ck(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof oa?v:v.substr(0,1)==="("?pf(v.substr(1,v.length-2)):pf(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oa?pf(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof oa?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof oa?m:Ck(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=this instanceof oa?v:v.substr(0,1)==="("?pf(v.substr(1,v.length-2)):pf(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oa?pf(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof oa?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,1)},set:function(v){v?this.Ff=Dn(this.Ff,1):this.Ff=In(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,2)},set:function(v){v?this.Ff=Dn(this.Ff,2):this.Ff=In(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,3)},set:function(v){v?this.Ff=Dn(this.Ff,3):this.Ff=In(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};ai(Zo,vl);var Xd=function(){Zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return VB(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,l){l||(l=1);for(var c,u=[];c=i.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,18)},set:function(r){r?this.Ff=Dn(this.Ff,18):this.Ff=In(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Dn(this.Ff,19):this.Ff=In(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,20)},set:function(r){r?(this.Ff=Dn(this.Ff,20),t.sort()):this.Ff=In(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,22)},set:function(r){r?this.Ff=Dn(this.Ff,22):this.Ff=In(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(r){r?this.Ff=Dn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,27)},set:function(r){r?this.Ff=Dn(this.Ff,27):this.Ff=In(this.Ff,27)}}),this.hasAppearanceStream=!1};ai(Xd,Zo);var Zd=function(){Xd.call(this),this.fontName="helvetica",this.combo=!1};ai(Zd,Xd);var Jd=function(){Zd.call(this),this.combo=!0};ai(Jd,Zd);var Ep=function(){Jd.call(this),this.edit=!0};ai(Ep,Jd);var oa=function(){Zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,15)},set:function(r){r?this.Ff=Dn(this.Ff,15):this.Ff=In(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,16)},set:function(r){r?this.Ff=Dn(this.Ff,16):this.Ff=In(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,17)},set:function(r){r?this.Ff=Dn(this.Ff,17):this.Ff=In(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(r){r?this.Ff=Dn(this.Ff,26):this.Ff=In(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+M0(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_r(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ai(oa,Zo);var Cp=function(){oa.call(this),this.pushButton=!0};ai(Cp,oa);var Qd=function(){oa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ai(Qd,oa);var Yy=function(){var e,t;Zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+M0(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){_r(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ai(Yy,Zo),Qd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Qd.prototype.createOption=function(e){var t=new Yy;return t.Parent=this,t.optionName=e,this.Kids.push(t),ufe.call(this.scope,t),t};var Tp=function(){oa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};ai(Tp,oa);var Fu=function(){Zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,13)},set:function(t){t?this.Ff=Dn(this.Ff,13):this.Ff=In(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,21)},set:function(t){t?this.Ff=Dn(this.Ff,21):this.Ff=In(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(t){t?this.Ff=Dn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,24)},set:function(t){t?this.Ff=Dn(this.Ff,24):this.Ff=In(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,25)},set:function(t){t?this.Ff=Dn(this.Ff,25):this.Ff=In(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(t){t?this.Ff=Dn(this.Ff,26):this.Ff=In(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ai(Fu,Zo);var Pp=function(){Fu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,14)},set:function(e){e?this.Ff=Dn(this.Ff,14):this.Ff=In(this.Ff,14)}}),this.password=!0};ai(Pp,Fu);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Y4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Vt(kt.internal.getWidth(e))+" "+Vt(kt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=fl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=kt.internal.getHeight(e),i=kt.internal.getWidth(e),l=Y4(e,e.caption);return a.push("1 g"),a.push("0 0 "+Vt(i)+" "+Vt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vt(i-1)+" "+Vt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Vt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(kt.internal.getWidth(e))+" "+Vt(kt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Circle.YesNormal,t.D[e]=kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=kt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+nu(kt.internal.getWidth(e)/2)+" "+nu(kt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*kt.internal.Bezier_C).toFixed(5)),i=Number((n*kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nu(kt.internal.getWidth(e)/2)+" "+nu(kt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+nu(kt.internal.getWidth(e)/2)+" "+nu(kt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+nu(kt.internal.getWidth(e)/2)+" "+nu(kt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Cross.YesNormal,t.D[e]=kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=fl(e);t.scope=e.scope;var r=[],n=kt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Vt(kt.internal.getWidth(e)-2)+" "+Vt(kt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),r.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),r.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),r.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=kt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(kt.internal.getWidth(e))+" "+Vt(kt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vt(kt.internal.getWidth(e)-2)+" "+Vt(kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(r.x1.x)+" "+Vt(r.x1.y)+" m"),n.push(Vt(r.x2.x)+" "+Vt(r.x2.y)+" l"),n.push(Vt(r.x4.x)+" "+Vt(r.x4.y)+" m"),n.push(Vt(r.x3.x)+" "+Vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=fl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(kt.internal.getWidth(e))+" "+Vt(kt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kt.internal.getWidth(e),r=kt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},kt.internal.getWidth=function(e){var t=0;return _r(e)==="object"&&(t=o8(e.Rect[2])),t},kt.internal.getHeight=function(e){var t=0;return _r(e)==="object"&&(t=o8(e.Rect[3])),t};var ufe=xn.addField=function(e){if(cfe(this,e),!(e instanceof Zo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xn.AcroFormChoiceField=Xd,xn.AcroFormListBox=Zd,xn.AcroFormComboBox=Jd,xn.AcroFormEditBox=Ep,xn.AcroFormButton=oa,xn.AcroFormPushButton=Cp,xn.AcroFormRadioButton=Qd,xn.AcroFormCheckBox=Tp,xn.AcroFormTextField=Fu,xn.AcroFormPasswordField=Pp,xn.AcroFormAppearance=kt,xn.AcroForm={ChoiceField:Xd,ListBox:Zd,ComboBox:Jd,EditBox:Ep,Button:oa,PushButton:Cp,RadioButton:Qd,CheckBox:Tp,TextField:Fu,PasswordField:Pp,Appearance:kt},Et.AcroForm={ChoiceField:Xd,ListBox:Zd,ComboBox:Jd,EditBox:Ep,Button:oa,PushButton:Cp,RadioButton:Qd,CheckBox:Tp,TextField:Fu,PasswordField:Pp,Appearance:kt};var dfe=Et.AcroForm;function KB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,P){var H,q,ae,R,z,Y=t;if((P=P||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(S(T))for(z in r)for(ae=r[z],H=0;H<ae.length;H+=1){for(R=!0,q=0;q<ae[H].length;q+=1)if(ae[H][q]!==void 0&&ae[H][q]!==T[q]){R=!1;break}if(R===!0){Y=z;break}}else for(z in r)for(ae=r[z],H=0;H<ae.length;H+=1){for(R=!0,q=0;q<ae[H].length;q+=1)if(ae[H][q]!==void 0&&ae[H][q]!==T.charCodeAt(q)){R=!1;break}if(R===!0){Y=z;break}}return Y===t&&P!==t&&(Y=P),Y},a=function T(P){for(var H=this.internal.write,q=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:P.width}),R.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var z="",Y=0,U=P.transparency.length;Y<U;Y++)z+=P.transparency[Y]+" "+P.transparency[Y]+" ";R.push({key:"Mask",value:"["+z+"]"})}P.sMask!==void 0&&R.push({key:"SMask",value:P.objectId+1+" 0 R"});var Q=P.filter!==void 0?["/"+P.filter]:void 0;if(q({data:P.data,additionalKeyValues:R,alreadyAppliedFilters:Q,objectId:P.objectId}),H("endobj"),"sMask"in P&&P.sMask!==void 0){var pe="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,F={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:pe,data:P.sMask};"filter"in P&&(F.filter=P.filter),T.call(this,F)}if(P.colorSpace===x.INDEXED){var M=this.internal.newObject();q({data:E(new Uint8Array(P.palette)),objectId:M}),H("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var P in T)a.call(this,T[P])},i=function(){var T,P=this.internal.collections.addImage_images,H=this.internal.write;for(var q in P)H("/I"+(T=P[q]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return _r(T)==="object"&&T.nodeType===1},h=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var H=""+T.getAttribute("src");if(H.indexOf("data:image/")===0)return _p(unescape(H).split("base64,").pop());var q=e.loadFile(H,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ae;switch(P){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return _p(T.toDataURL(ae,1).split("base64,").pop())}},m=function(T){var P=this.internal.collections.addImage_images;if(P){for(var H in P)if(T===P[H].alias)return P[H]}},p=function(T,P,H){return T||P||(T=-96,P=-96),T<0&&(T=-1*H.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*H.height*72/P/this.internal.scaleFactor),T===0&&(T=P*H.width/H.height),P===0&&(P=T*H.height/H.width),[T,P]},g=function(T,P,H,q,ae,R){var z=p.call(this,H,q,ae),Y=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,Q=c.call(this);if(H=z[0],q=z[1],Q[ae.index]=ae,R){R*=Math.PI/180;var pe=Math.cos(R),F=Math.sin(R),M=function(D){return D.toFixed(4)},B=[M(pe),M(F),M(-1*F),M(pe),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,Y(T),U(P+q),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([Y(H),"0","0",Y(q),"0","0","cm"].join(" "))):this.internal.write([Y(H),"0","0",Y(q),Y(T),U(P+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(T){var P,H,q=0;if(typeof T=="string")for(H=T.length,P=0;P<H;P++)q=(q<<5)-q+T.charCodeAt(P),q|=0;else if(S(T))for(H=T.byteLength/2,P=0;P<H;P++)q=(q<<5)-q+T[P],q|=0;return q},b=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},N=e.__addimage__.extractImageFromDataUrl=function(T){var P=(T=T||"").split("base64,"),H=null;if(P.length===2){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(q)&&(H={mimeType:q[1],charset:q[2],data:P[1]})}return H},A=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return A()&&T instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(T){return A()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,H=new Uint8Array(P),q=0;q<P;q++)H[q]=T.charCodeAt(q);return H},E=e.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",H=S(T)?T:new Uint8Array(T),q=0;q<H.length;q+=8192)P+=String.fromCharCode.apply(null,H.subarray(q,q+8192));return P};e.addImage=function(){var T,P,H,q,ae,R,z,Y,U;if(typeof arguments[1]=="number"?(P=t,H=arguments[1],q=arguments[2],ae=arguments[3],R=arguments[4],z=arguments[5],Y=arguments[6],U=arguments[7]):(P=arguments[1],H=arguments[2],q=arguments[3],ae=arguments[4],R=arguments[5],z=arguments[6],Y=arguments[7],U=arguments[8]),_r(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var Q=T;T=Q.imageData,P=Q.format||P||t,H=Q.x||H||0,q=Q.y||q||0,ae=Q.w||Q.width||ae,R=Q.h||Q.height||R,z=Q.alias||z,Y=Q.compression||Y,U=Q.rotation||Q.angle||U}var pe=this.internal.getFilters();if(Y===void 0&&pe.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(H)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=C.call(this,T,P,z,Y);return g.call(this,H,q,ae,R,F,U),this};var C=function(T,P,H,q){var ae,R,z;if(typeof T=="string"&&n(T)===t){T=unescape(T);var Y=I(T,!1);(Y!==""||(Y=e.loadFile(T,!0))!==void 0)&&(T=Y)}if(f(T)&&(T=h(T,P)),P=n(T,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((z=H)==null||z.length===0)&&(H=function(U){return typeof U=="string"||S(U)?y(U):S(U.data)?y(U.data):null}(T)),(ae=m.call(this,H))||(A()&&(T instanceof Uint8Array||P==="RGBA"||(R=T,T=j(T))),ae=this["process"+P.toUpperCase()](T,u.call(this),H,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:v.NONE}(q),R)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},I=e.__addimage__.convertBase64ToBinaryString=function(T,P){var H;P=typeof P!="boolean"||P;var q,ae="";if(typeof T=="string"){q=(H=N(T))!==null?H.data:T;try{ae=_p(q)}catch(R){if(P)throw b(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};e.getImageProperties=function(T){var P,H,q="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((q=I(T,!1))===""&&(q=e.loadFile(T)||""),T=q),H=n(T),!d(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!A()||T instanceof Uint8Array||(T=j(T)),!(P=this["process"+H.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=H,P}})(Et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(v(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(v(y))+") >>",g.content=s;var b=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(p(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var A=this.annotations._nameMap[n.options.name];n.options.pageNumber=A.page,n.options.top=A.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;i=Math.ceil(u*d)}else l=c,i=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,i,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,v=r,y="",b=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(b++,typeof(v=v[g.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),x===g.length-1&&(v=r,y+=g.charAt(x-(b-1)),x-=b-1,b=0)):(v=r,y+=g.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,x,v){return i(g)?s(g)===!1?-1:!u(g)||!i(x)&&!i(v)||!i(v)&&l(x)||l(g)&&!i(x)||l(g)&&c(x)||l(g)&&l(x)?0:d(g)&&i(x)&&!l(x)&&i(v)&&u(v)?3:l(g)||!i(v)?1:2:-1},m=function(g){var x=0,v=0,y=0,b="",N="",A="",S=(g=g||"").split("\\s+"),j=[];for(x=0;x<S.length;x+=1){for(j.push(""),v=0;v<S[x].length;v+=1)b=S[x][v],N=S[x][v-1],A=S[x][v+1],i(b)?(y=h(b,N,A),j[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):j[x]+=b;j[x]=f(j[x])}return j.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var y=0;for(v=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?v.push([m(x[y][0]),x[y][1],x[y][2]]):v.push([m(x[y])]);g=v}else g=m(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(Et.API),Et.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,p=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,N){return b.concat(x.splitTextToSize(N,v))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)m<(g=this.getStringUnitWidth(c[y],{font:f})*d)&&(m=g);return m!==0&&(p=c.length),{w:m/=h,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,p,g,x,v=[],y=[],b=[],N={},A={},S=[],j=[],E=(h=h||{}).autoSize||!1,C=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,H=h.headerBackgroundColor||"#c8c8c8",q=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=q,this.setFontSize(I),f==null)y=v=Object.keys(d[0]),b=v.map(function(){return"left"});else if(Array.isArray(f)&&_r(f[0])==="object")for(v=f.map(function(Q){return Q.name}),y=f.map(function(Q){return Q.prompt||Q.name||""}),b=f.map(function(Q){return Q.align||"left"}),m=0;m<f.length;m+=1)A[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=v=f,b=v.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<v.length;m+=1){for(N[x=v[m]]=d.map(function(Q){return Q[x]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=N[x],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)S.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[x]=Math.max.apply(null,S)+P+P,S=[]}if(C){var ae={};for(m=0;m<v.length;m+=1)ae[v[m]]={},ae[v[m]].text=y[m],ae[v[m]].align=b[m];var R=l.call(this,ae,A);j=v.map(function(Q){return new s(c,u,A[Q],R,ae[Q].text,void 0,ae[Q].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var z=f.reduce(function(Q,pe){return Q[pe.name]=pe.align,Q},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var Y=l.call(this,d[m],A);for(g=0;g<v.length;g+=1){var U=d[m][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:U},this),i.call(this,new s(c,u,A[v[g]],Y,U,m+2,z[v[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var p=c[m];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,p){return Math.max(m,p)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Et.API);var YB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X4=KB(XB),ZB=[100,200,300,400,500,600,700,800,900],ffe=KB(ZB);function Z4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return YB[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof X4[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function l8(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var hfe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},c8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function u8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function mfe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},hfe,r.genericFontFamilies||{}),s=null,i=null,l=0;l<t.length;++l)if(a[(s=Z4(t[l])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+u8(s)+"' and default family '"+n+"'.");if(i=function(c,u){if(u[c])return u[c];var d=X4[c],f=d<=X4.normal?-1:1,h=l8(u,XB,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,i),i=function(c,u){if(u[c])return u[c];for(var d=YB[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(s.style,i),!(i=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=ffe[c],f=l8(u,ZB,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+u8(s)+"'.");return i}function d8(e){return e.trimLeft()}function pfe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function gfe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var cv,f8,h8,Tk=["times"];(function(e){var t,r,n,a,s,i,l,c,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new i,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new i,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=F;Object.defineProperty(this,"pdf",{get:function(){return M}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(Se){B=!!Se}});var D=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return D},set:function(Se){D=!!Se}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(Se){isNaN(Se)||(X=Se)}});var V=0;Object.defineProperty(this,"posY",{get:function(){return V},set:function(Se){isNaN(Se)||(V=Se)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Se){var ue;typeof Se=="number"?ue=[Se,Se,Se,Se]:((ue=new Array(4))[0]=Se[0],ue[1]=Se.length>=2?Se[1]:ue[0],ue[2]=Se.length>=3?Se[2]:ue[0],ue[3]=Se.length>=4?Se[3]:ue[1]),u.margin=ue}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(Se){ee=Se}});var K=0;Object.defineProperty(this,"lastBreak",{get:function(){return K},set:function(Se){K=Se}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(Se){ce=Se}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Se){Se instanceof d&&(u=Se)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Se){u.path=Se}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Se){xe=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ue;ue=h(Se),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ue=h(Se);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var G=null;function Ce(Se,ue){if(G===null){var Me=function(rt){var We=[];return Object.keys(rt).forEach(function(ve){rt[ve].forEach(function(Ue){var Je=null;switch(Ue){case"bold":Je={family:ve,weight:"bold"};break;case"italic":Je={family:ve,style:"italic"};break;case"bolditalic":Je={family:ve,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:ve}}Je!==null&&(Je.ref={name:ve,style:Ue},We.push(Je))})}),We}(Se.getFontList());G=function(rt){for(var We={},ve=0;ve<rt.length;++ve){var Ue=Z4(rt[ve]),Je=Ue.family,dt=Ue.stretch,be=Ue.style,at=Ue.weight;We[Je]=We[Je]||{},We[Je][dt]=We[Je][dt]||{},We[Je][dt][be]=We[Je][dt][be]||{},We[Je][dt][be][at]=Ue}return We}(Me.concat(ue))}return G}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Se){G=null,Ve=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ue;if(this.ctx.font=Se,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Me=ue[1],rt=(ue[2],ue[3]),We=ue[4],ve=(ue[5],ue[6]),Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(Ue==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var Je=function(xt){var nt,Qe,tr=[],jt=xt.trim();if(jt==="")return Tk;if(jt in c8)return[c8[jt]];for(;jt!=="";){switch(Qe=null,nt=(jt=d8(jt)).charAt(0)){case'"':case"'":Qe=pfe(jt.substring(1),nt);break;default:Qe=gfe(jt)}if(Qe===null||(tr.push(Qe[0]),(jt=d8(Qe[1]))!==""&&jt.charAt(0)!==","))return Tk;jt=jt.replace(/^,/,"")}return tr}(ve);if(this.fontFaces){var dt=mfe(Ce(this.pdf,this.fontFaces),Je.map(function(xt){return{family:xt,stretch:"normal",weight:rt,style:Me}}));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var be="";(rt==="bold"||parseInt(rt,10)>=700||Me==="bold")&&(be="bold"),Me==="italic"&&(be+="italic"),be.length===0&&(be="normal");for(var at="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<Je.length;_t++){if(this.pdf.internal.getFont(Je[_t],be,{noFallback:!0,disableWarning:!0})!==void 0){at=Je[_t];break}if(be==="bolditalic"&&this.pdf.internal.getFont(Je[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Je[_t],be="bold";else if(this.pdf.internal.getFont(Je[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Je[_t],be="normal";break}}if(at===""){for(var Ct=0;Ct<Je.length;Ct++)if(ht[Je[Ct]]){at=ht[Je[Ct]];break}}at=at===""?"Times":at,this.pdf.setFont(at,be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,M){if(isNaN(F)||isNaN(M))throw Lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new i(F,M));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new i(F,M)},f.prototype.closePath=function(){var F=new i(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&_r(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){F=new i(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(F.x,F.y)},f.prototype.lineTo=function(F,M){if(isNaN(F)||isNaN(M))throw Lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new i(F,M));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new i(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,M,B,D){if(isNaN(B)||isNaN(D)||isNaN(F)||isNaN(M))throw Lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new i(B,D)),V=this.ctx.transform.applyToPoint(new i(F,M));this.path.push({type:"qct",x1:V.x,y1:V.y,x:X.x,y:X.y}),this.ctx.lastPoint=new i(X.x,X.y)},f.prototype.bezierCurveTo=function(F,M,B,D,X,V){if(isNaN(X)||isNaN(V)||isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D))throw Lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new i(X,V)),K=this.ctx.transform.applyToPoint(new i(F,M)),ce=this.ctx.transform.applyToPoint(new i(B,D));this.path.push({type:"bct",x1:K.x,y1:K.y,x2:ce.x,y2:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new i(ee.x,ee.y)},f.prototype.arc=function(F,M,B,D,X,V){if(isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D)||isNaN(X))throw Lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(V=!!V,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new i(F,M));F=ee.x,M=ee.y;var K=this.ctx.transform.applyToPoint(new i(0,B)),ce=this.ctx.transform.applyToPoint(new i(0,0));B=Math.sqrt(Math.pow(K.x-ce.x,2)+Math.pow(K.y-ce.y,2))}Math.abs(X-D)>=2*Math.PI&&(D=0,X=2*Math.PI),this.path.push({type:"arc",x:F,y:M,radius:B,startAngle:D,endAngle:X,counterclockwise:V})},f.prototype.arcTo=function(F,M,B,D,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,M,B,D){if(isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D))throw Lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,M),this.lineTo(F+B,M),this.lineTo(F+B,M+D),this.lineTo(F,M+D),this.lineTo(F,M),this.lineTo(F+B,M),this.lineTo(F,M)},f.prototype.fillRect=function(F,M,B,D){if(isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D))throw Lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,M,B,D),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(F,M,B,D){if(isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D))throw Lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(F,M,B,D),this.stroke())},f.prototype.clearRect=function(F,M,B,D){if(isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D))throw Lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,M,B,D))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var D=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=D}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(M),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(F){var M,B,D,X;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))M=0,B=0,D=0,X=0;else{var V=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(V!==null)M=parseInt(V[1]),B=parseInt(V[2]),D=parseInt(V[3]),X=1;else if((V=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)M=parseInt(V[1]),B=parseInt(V[2]),D=parseInt(V[3]),X=parseFloat(V[4]);else{if(X=1,typeof F=="string"&&F.charAt(0)!=="#"){var ee=new $B(F);F=ee.ok?ee.toHex():"#000000"}F.length===4?(M=F.substring(1,2),M+=M,B=F.substring(2,3),B+=B,D=F.substring(3,4),D+=D):(M=F.substring(1,3),B=F.substring(3,5),D=F.substring(5,7)),M=parseInt(M,16),B=parseInt(B,16),D=parseInt(D,16)}}return{r:M,g:B,b:D,a:X,style:F}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,M,B,D){if(isNaN(M)||isNaN(B)||typeof F!="string")throw Lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(D=isNaN(D)?void 0:D,!m.call(this)){var X=Y(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;P.call(this,{text:F,x:M,y:B,scale:V,angle:X,align:this.textAlign,maxWidth:D})}},f.prototype.strokeText=function(F,M,B,D){if(isNaN(M)||isNaN(B)||typeof F!="string")throw Lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){D=isNaN(D)?void 0:D;var X=Y(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;P.call(this,{text:F,x:M,y:B,scale:V,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:D})}},f.prototype.measureText=function(F){if(typeof F!="string")throw Lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,B=this.pdf.internal.scaleFactor,D=M.internal.getFontSize(),X=M.getStringUnitWidth(F)*D/M.internal.scaleFactor,V=function(ee){var K=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return K}}),this};return new V({width:X*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(F,M){if(isNaN(F)||isNaN(M))throw Lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(F,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(F){if(isNaN(F))throw Lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.translate=function(F,M){if(isNaN(F)||isNaN(M))throw Lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,F,M);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(F,M,B,D,X,V){if(isNaN(F)||isNaN(M)||isNaN(B)||isNaN(D)||isNaN(X)||isNaN(V))throw Lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new c(F,M,B,D,X,V);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.setTransform=function(F,M,B,D,X,V){F=isNaN(F)?1:F,M=isNaN(M)?0:M,B=isNaN(B)?0:B,D=isNaN(D)?1:D,X=isNaN(X)?0:X,V=isNaN(V)?0:V,this.ctx.transform=new c(F,M,B,D,X,V)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,M,B,D,X,V,ee,K,ce){var xe=this.pdf.getImageProperties(F),G=1,Ce=1,Ve=1,Se=1;D!==void 0&&K!==void 0&&(Ve=K/D,Se=ce/X,G=xe.width/D*K/D,Ce=xe.height/X*ce/X),V===void 0&&(V=M,ee=B,M=0,B=0),D!==void 0&&K===void 0&&(K=D,ce=X),D===void 0&&K===void 0&&(K=xe.width,ce=xe.height);for(var ue,Me=this.ctx.transform.decompose(),rt=Y(Me.rotate.shx),We=new c,ve=(We=(We=(We=We.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new l(V-M*Ve,ee-B*Se,D*G,X*Ce)),Ue=x.call(this,ve),Je=[],dt=0;dt<Ue.length;dt+=1)Je.indexOf(Ue[dt])===-1&&Je.push(Ue[dt]);if(b(Je),this.autoPaging)for(var be=Je[0],at=Je[Je.length-1],ht=be;ht<at+1;ht++){this.pdf.setPage(ht);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=ht===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=ht===1?0:xt+(ht-2)*nt;if(this.ctx.clip_path.length!==0){var tr=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ue,this.posX+this.margin[3],-Qe+Ct+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=tr}var jt=JSON.parse(JSON.stringify(ve));jt=y([jt],this.posX+this.margin[3],-Qe+Ct+this.ctx.prevPageLastElemOffset)[0];var $r=(ht>be||ht<at)&&g.call(this);$r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,nt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,rt),$r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,rt)};var x=function(F,M,B){var D=[];M=M||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":D.push(Math.floor((F.y+X)/B)+1);break;case"arc":D.push(Math.floor((F.y+X-F.radius)/B)+1),D.push(Math.floor((F.y+X+F.radius)/B)+1);break;case"qct":var V=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);D.push(Math.floor((V.y+X)/B)+1),D.push(Math.floor((V.y+V.h+X)/B)+1);break;case"bct":var ee=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);D.push(Math.floor((ee.y+X)/B)+1),D.push(Math.floor((ee.y+ee.h+X)/B)+1);break;case"rect":D.push(Math.floor((F.y+X)/B)+1),D.push(Math.floor((F.y+F.h+X)/B)+1)}for(var K=0;K<D.length;K+=1)for(;this.pdf.internal.getNumberOfPages()<D[K];)v.call(this);return D},v=function(){var F=this.fillStyle,M=this.strokeStyle,B=this.font,D=this.lineCap,X=this.lineWidth,V=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=M,this.font=B,this.lineCap=D,this.lineWidth=X,this.lineJoin=V},y=function(F,M,B){for(var D=0;D<F.length;D++)switch(F[D].type){case"bct":F[D].x2+=M,F[D].y2+=B;case"qct":F[D].x1+=M,F[D].y1+=B;case"mt":case"lt":case"arc":default:F[D].x+=M,F[D].y+=B}return F},b=function(F){return F.sort(function(M,B){return M-B})},N=function(F,M){for(var B,D,X=this.fillStyle,V=this.strokeStyle,ee=this.lineCap,K=this.lineWidth,ce=Math.abs(K*this.ctx.transform.scaleX),xe=this.lineJoin,G=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Ve=[],Se=0;Se<Ce.length;Se++)if(Ce[Se].x!==void 0)for(var ue=x.call(this,Ce[Se]),Me=0;Me<ue.length;Me+=1)Ve.indexOf(ue[Me])===-1&&Ve.push(ue[Me]);for(var rt=0;rt<Ve.length;rt++)for(;this.pdf.internal.getNumberOfPages()<Ve[rt];)v.call(this);if(b(Ve),this.autoPaging)for(var We=Ve[0],ve=Ve[Ve.length-1],Ue=We;Ue<ve+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=X,this.strokeStyle=V,this.lineCap=ee,this.lineWidth=ce,this.lineJoin=xe;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Ue===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Ue===1?0:be+(Ue-2)*at;if(this.ctx.clip_path.length!==0){var _t=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(B,this.posX+this.margin[3],-ht+dt+this.ctx.prevPageLastElemOffset),A.call(this,F,!0),this.path=_t}if(D=JSON.parse(JSON.stringify(G)),this.path=y(D,this.posX+this.margin[3],-ht+dt+this.ctx.prevPageLastElemOffset),M===!1||Ue===0){var Ct=(Ue>We||Ue<ve)&&g.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,at,null).clip().discardPath()),A.call(this,F,M),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=K}else this.lineWidth=ce,A.call(this,F,M),this.lineWidth=K;this.path=G},A=function(F,M){if((F!=="stroke"||M||!p.call(this))&&(F==="stroke"||M||!m.call(this))){for(var B,D,X=[],V=this.path,ee=0;ee<V.length;ee++){var K=V[ee];switch(K.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:K,deltas:[],abs:[]});break;case"lt":var ce=X.length;if(V[ee-1]&&!isNaN(V[ee-1].x)&&(B=[K.x-V[ee-1].x,K.y-V[ee-1].y],ce>0)){for(;ce>=0;ce--)if(X[ce-1].close!==!0&&X[ce-1].begin!==!0){X[ce-1].deltas.push(B),X[ce-1].abs.push(K);break}}break;case"bct":B=[K.x1-V[ee-1].x,K.y1-V[ee-1].y,K.x2-V[ee-1].x,K.y2-V[ee-1].y,K.x-V[ee-1].x,K.y-V[ee-1].y],X[X.length-1].deltas.push(B);break;case"qct":var xe=V[ee-1].x+2/3*(K.x1-V[ee-1].x),G=V[ee-1].y+2/3*(K.y1-V[ee-1].y),Ce=K.x+2/3*(K.x1-K.x),Ve=K.y+2/3*(K.y1-K.y),Se=K.x,ue=K.y;B=[xe-V[ee-1].x,G-V[ee-1].y,Ce-V[ee-1].x,Ve-V[ee-1].y,Se-V[ee-1].x,ue-V[ee-1].y],X[X.length-1].deltas.push(B);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(K)}}D=M?null:F==="stroke"?"stroke":"fill";for(var Me=!1,rt=0;rt<X.length;rt++)if(X[rt].arc)for(var We=X[rt].abs,ve=0;ve<We.length;ve++){var Ue=We[ve];Ue.type==="arc"?E.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,M,!Me):H.call(this,Ue.x,Ue.y),Me=!0}else if(X[rt].close===!0)this.pdf.internal.out("h"),Me=!1;else if(X[rt].begin!==!0){var Je=X[rt].start.x,dt=X[rt].start.y;q.call(this,X[rt].deltas,Je,dt),Me=!0}D&&C.call(this,D),M&&I.call(this)}},S=function(F){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-B;case"top":return F+M-B;case"hanging":return F+M-2*B;case"middle":return F+M/2-B;case"ideographic":return F;case"alphabetic":default:return F}},j=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(M,B){this.colorStops.push([M,B])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(F,M,B,D,X,V,ee,K,ce){for(var xe=R.call(this,B,D,X,V),G=0;G<xe.length;G++){var Ce=xe[G];G===0&&(ce?T.call(this,Ce.x1+F,Ce.y1+M):H.call(this,Ce.x1+F,Ce.y1+M)),ae.call(this,F,M,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}K?I.call(this):C.call(this,ee)},C=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(F,M){this.pdf.internal.out(r(F)+" "+n(M)+" m")},P=function(F){var M;switch(F.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var B=this.pdf.getTextDimensions(F.text),D=S.call(this,F.y),X=j.call(this,D)-B.h,V=this.ctx.transform.applyToPoint(new i(F.x,D)),ee=this.ctx.transform.decompose(),K=new c;K=(K=(K=K.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var ce,xe,G,Ce=this.ctx.transform.applyToRectangle(new l(F.x,D,B.w,B.h)),Ve=K.applyToRectangle(new l(F.x,X,B.w,B.h)),Se=x.call(this,Ve),ue=[],Me=0;Me<Se.length;Me+=1)ue.indexOf(Se[Me])===-1&&ue.push(Se[Me]);if(b(ue),this.autoPaging)for(var rt=ue[0],We=ue[ue.length-1],ve=rt;ve<We+1;ve++){this.pdf.setPage(ve);var Ue=ve===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],be=dt-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ht=at-this.margin[3],_t=ve===1?0:Je+(ve-2)*be;if(this.ctx.clip_path.length!==0){var Ct=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-1*_t+Ue),A.call(this,"fill",!0),this.path=Ct}var xt=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-_t+Ue+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*F.scale),G=this.lineWidth,this.lineWidth=G*F.scale);var nt=this.autoPaging!=="text";if(nt||xt.y+xt.h<=dt){if(nt||xt.y>=Ue&&xt.x<=at){var Qe=nt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||at-xt.x)[0],tr=y([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-_t+Ue+this.ctx.prevPageLastElemOffset)[0],jt=nt&&(ve>rt||ve<We)&&g.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,be,null).clip().discardPath()),this.pdf.text(Qe,tr.x,tr.y,{angle:F.angle,align:M,renderingMode:F.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else xt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-xt.y);F.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=G)}else F.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*F.scale),G=this.lineWidth,this.lineWidth=G*F.scale),this.pdf.text(F.text,V.x+this.posX,V.y+this.posY,{angle:F.angle,align:M,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=G)},H=function(F,M,B,D){B=B||0,D=D||0,this.pdf.internal.out(r(F+B)+" "+n(M+D)+" l")},q=function(F,M,B){return this.pdf.lines(F,M,B,null,null)},ae=function(F,M,B,D,X,V,ee,K){this.pdf.internal.out([t(a(B+F)),t(s(D+M)),t(a(X+F)),t(s(V+M)),t(a(ee+F)),t(s(K+M)),"c"].join(" "))},R=function(F,M,B,D){for(var X=2*Math.PI,V=Math.PI/2;M>B;)M-=X;var ee=Math.abs(B-M);ee<X&&D&&(ee=X-ee);for(var K=[],ce=D?-1:1,xe=M;ee>1e-5;){var G=xe+ce*Math.min(ee,V);K.push(z.call(this,F,xe,G)),ee-=Math.abs(G-xe),xe=G}return K},z=function(F,M,B){var D=(B-M)/2,X=F*Math.cos(D),V=F*Math.sin(D),ee=X,K=-V,ce=ee*ee+K*K,xe=ce+ee*X+K*V,G=4/3*(Math.sqrt(2*ce*xe)-xe)/(ee*V-K*X),Ce=ee-G*K,Ve=K+G*ee,Se=Ce,ue=-Ve,Me=D+M,rt=Math.cos(Me),We=Math.sin(Me);return{x1:F*Math.cos(M),y1:F*Math.sin(M),x2:Ce*rt-Ve*We,y2:Ce*We+Ve*rt,x3:Se*rt-ue*We,y3:Se*We+ue*rt,x4:F*Math.cos(B),y4:F*Math.sin(B)}},Y=function(F){return 180*F/Math.PI},U=function(F,M,B,D,X,V){var ee=F+.5*(B-F),K=M+.5*(D-M),ce=X+.5*(B-X),xe=V+.5*(D-V),G=Math.min(F,X,ee,ce),Ce=Math.max(F,X,ee,ce),Ve=Math.min(M,V,K,xe),Se=Math.max(M,V,K,xe);return new l(G,Ve,Ce-G,Se-Ve)},Q=function(F,M,B,D,X,V,ee,K){var ce,xe,G,Ce,Ve,Se,ue,Me,rt,We,ve,Ue,Je,dt,be=B-F,at=D-M,ht=X-B,_t=V-D,Ct=ee-X,xt=K-V;for(xe=0;xe<41;xe++)rt=(ue=(G=F+(ce=xe/40)*be)+ce*((Ve=B+ce*ht)-G))+ce*(Ve+ce*(X+ce*Ct-Ve)-ue),We=(Me=(Ce=M+ce*at)+ce*((Se=D+ce*_t)-Ce))+ce*(Se+ce*(V+ce*xt-Se)-Me),xe==0?(ve=rt,Ue=We,Je=rt,dt=We):(ve=Math.min(ve,rt),Ue=Math.min(Ue,We),Je=Math.max(Je,rt),dt=Math.max(dt,We));return new l(Math.round(ve),Math.round(Ue),Math.round(Je-ve),Math.round(dt-Ue))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,M,B=(F=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:M}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(Et.API),function(e){var t=function(s){var i,l,c,u,d,f,h,m,p,g;for(l=[],c=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,m+33,p+33,g+33)):l.push(122);return function(x,v){for(var y=v;y>0;y--)x.pop()}(l,i.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var i,l,c,u,d,f=String,h="length",m=255,p="charCodeAt",g="slice",x="replace";for(s[g](-2),s=s[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(s+=i="uuuuu"[g](s[h]%5||5))[h];d>u;u+=5)l=52200625*(s[p](u)-33)+614125*(s[p](u+1)-33)+7225*(s[p](u+2)-33)+85*(s[p](u+3)-33)+(s[p](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(v,y){for(var b=y;b>0;b--)v.pop()}(c,i[h]),f.fromCharCode.apply(f,c)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var i=new Uint8Array(s.length),l=s.length;l--;)i[l]=s.charCodeAt(l);return s=(i=V4(i)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,i){var l=0,c=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),l=0;l<i.length;l+=1)switch(i[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Et.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(p){var g=p.length,x=[],v=String.fromCharCode;for(h=0;h<g;h+=1)x.push(v(255&p.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,s,i)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Et.API),function(e){function t(){return(Rt.html2canvas?Promise.resolve(Rt.html2canvas):Ky(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(Rt.DOMPurify?Promise.resolve(Rt.DOMPurify):Ky(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var l=_r(i);return l==="undefined"?"undefined":l==="string"||i instanceof String?"string":l==="number"||i instanceof Number?"number":l==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(i,l){var c=document.createElement(i);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function i(l){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,i,1,[i])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,l){return i.__proto__=l||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],p=m.src.find(function(g){return g.format==="truetype"});p&&c.addFont(p.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,l):this.outputPdf(i,l)},s.prototype.outputPdf=function(i,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,l)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var l=Object.keys(i||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(i,l){return this.then(function(){var c=i in s.template.prop?this.prop[i]:this.opt[i];return l?l(c):c})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(i=i||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:l(i.inner.width,i.k),height:l(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,l,c,u){return i!=null&&(this.progress.val=i),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,l,c,u){return this.setProgress(i?this.progress.val+i:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,l){var c=this;return this.thenCore(i,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(i,l,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,i,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(i,l){return Promise.prototype.then.call(this,i,l)},s.prototype.thenList=function(i){var l=this;return i.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(i){i&&(i=i.bind(this));var l=Promise.prototype.catch.call(this,i);return s.convert(l,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Et.getPageSize=function(i,l,c){if(_r(i)==="object"){var u=i;i=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var m,p=0,g=0;if(h.hasOwnProperty(f))p=h[f][1]/d,g=h[f][0]/d;else try{p=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",g>p&&(m=g,g=p,p=m);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",p>g&&(m=g,g=p,p=m)}return{width:g,height:p,unit:l,k:d,orientation:i}},e.html=function(i,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Z4):null;var c=new s(l);return l.worker?c:c.from(i).doCallback()}}(Et.API),Et.API.addJS=function(e){return h8=e,this.internal.events.subscribe("postPutResources",function(){cv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),f8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+h8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cv!==void 0&&f8!==void 0&&this.internal.out("/Names <</JavaScript "+cv+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),p=f.length,g={width:0,height:0,numcomponents:1},x=4;x<p;x+=2){if(x+=m,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}m=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Et.API);var gf,uv,m8,p8,g8,xfe=function(){var e,t,r;function n(s){var i,l,c,u,d,f,h,m,p,g,x,v,y,b;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),p=(function(){var N,A;for(A=[],N=0;N<4;++N)A.push(String.fromCharCode(this.data[this.pos++]));return A}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,i-=4),s=(f!=null?f.data:void 0)||this.imgData,v=0;0<=i?v<i:v>i;0<=i?++v:--v)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":h=(x=this.read(i)).indexOf(0),m=String.fromCharCode.apply(String,x.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,l;for(l=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*i),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,h,m,p){var g,x,v,y,b,N,A,S,j,E,C,I,T,P,H,q,ae,R,z,Y,U,Q=Math.ceil((u.width-f)/m),pe=Math.ceil((u.height-h)/p),F=u.width==Q&&u.height==pe;for(P=i*Q,I=F?l:new Uint8Array(P*pe),N=s.length,T=0,x=0;T<pe&&c<N;){switch(s[c++]){case 0:for(y=ae=0;ae<P;y=ae+=1)I[x++]=s[c++];break;case 1:for(y=R=0;R<P;y=R+=1)g=s[c++],b=y<i?0:I[x-i],I[x++]=(g+b)%256;break;case 2:for(y=z=0;z<P;y=z+=1)g=s[c++],v=(y-y%i)/i,H=T&&I[(T-1)*P+v*i+y%i],I[x++]=(H+g)%256;break;case 3:for(y=Y=0;Y<P;y=Y+=1)g=s[c++],v=(y-y%i)/i,b=y<i?0:I[x-i],H=T&&I[(T-1)*P+v*i+y%i],I[x++]=(g+Math.floor((b+H)/2))%256;break;case 4:for(y=U=0;U<P;y=U+=1)g=s[c++],v=(y-y%i)/i,b=y<i?0:I[x-i],T===0?H=q=0:(H=I[(T-1)*P+v*i+y%i],q=v&&I[(T-1)*P+(v-1)*i+y%i]),A=b+H-q,S=Math.abs(A-b),E=Math.abs(A-H),C=Math.abs(A-q),j=S<=E&&S<=C?b:E<=C?H:q,I[x++]=(g+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!F){var M=((h+T*p)*u.width+f)*i,B=T*P;for(y=0;y<Q;y+=1){for(var D=0;D<i;D+=1)l[M++]=I[B++];M+=(m-1)*i}}T++}}return s=K0e(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var s,i,l,c,u,d,f,h,m;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,s=0,i=f=0,h=l.length;f<h;i=f+=3)u[c++]=l[i],u[c++]=l[i+1],u[c++]=l[i+2],u[c++]=(m=d[s++])!=null?m:255;return u},n.prototype.copyToImageData=function(s,i){var l,c,u,d,f,h,m,p,g,x,v;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),p=(u=s.data||s).length,f=g||i,d=h=0,c===1)for(;d<p;)m=g?4*i[d/4]:h,x=f[m++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[m++]:255,h=m;else for(;d<p;)m=g?4*i[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=l?f[m++]:255,h=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Rt)==="[object Window]"){try{t=Rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,l,c,u,d,f,h,m;if(this.animation){for(m=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)i=h[l],c=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,u),i.imageData=c,m.push(i.image=e(c));return m}},n.prototype.renderFrame=function(s,i){var l,c,u;return l=(c=this.animation.frames)[i],u=c[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var i,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(i=function(){var m,p;if(m=l++%u,p=c[m],h.renderFrame(s,m),u>1&&l/u<d)return h.animation._timeout=setTimeout(i,p.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(l=i.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),i.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function vfe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=i,t+=3*i);var u=!0,d=[],f=0,h=null,m=0,p=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++],A=N>>6&1,S=1<<(7&N)+1,j=l,E=c,C=!1;N>>7&&(C=!0,j=t,E=S,t+=3*S);var I=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x,y:v,width:y,height:b,has_local_palette:C,palette_offset:j,palette_size:E,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!A,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,H){var q=this.frameInfo(P),ae=q.width*q.height,R=new Uint8Array(ae);x8(e,q.data_offset,R,ae);var z=q.palette_offset,Y=q.transparent_index;Y===null&&(Y=256);var U=q.width,Q=r-U,pe=U,F=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),B=F,D=4*Q;q.interlaced===!0&&(D+=4*r*7);for(var X=8,V=0,ee=R.length;V<ee;++V){var K=R[V];if(pe===0&&(pe=U,(B+=D)>=M&&(D=4*Q+4*r*(X-1),B=F+(U+Q)*(X<<1),X>>=1)),K===Y)B+=4;else{var ce=e[z+3*K],xe=e[z+3*K+1],G=e[z+3*K+2];H[B++]=G,H[B++]=xe,H[B++]=ce,H[B++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(P,H){var q=this.frameInfo(P),ae=q.width*q.height,R=new Uint8Array(ae);x8(e,q.data_offset,R,ae);var z=q.palette_offset,Y=q.transparent_index;Y===null&&(Y=256);var U=q.width,Q=r-U,pe=U,F=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),B=F,D=4*Q;q.interlaced===!0&&(D+=4*r*7);for(var X=8,V=0,ee=R.length;V<ee;++V){var K=R[V];if(pe===0&&(pe=U,(B+=D)>=M&&(D=4*Q+4*r*(X-1),B=F+(U+Q)*(X<<1),X>>=1)),K===Y)B+=4;else{var ce=e[z+3*K],xe=e[z+3*K+1],G=e[z+3*K+2];H[B++]=ce,H[B++]=xe,H[B++]=G,H[B++]=255}--pe}}}function x8(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,l=i+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],p=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==s){if(x===i)break;for(var v=x<l?x:g,y=0,b=v;b>s;)b=p[b]>>8,++y;var N=b;if(h+y+(v!==x?1:0)>n)return void Lr.log("Warning, gif stream longer than expected.");r[h++]=N;var A=h+=y;for(v!==x&&(r[h++]=N),b=v;y--;)b=p[b],r[--A]=255&b,b>>=8;g!==null&&l<4096&&(p[l++]=g<<8|N,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=x}else l=i+1,u=(1<<(c=a+1))-1,g=null}return h!==n&&Lr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pk(e){var t,r,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),p=new Array(64),g=[],x=0,v=7,y=new Array(64),b=new Array(64),N=new Array(64),A=new Array(256),S=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(F,M){for(var B=0,D=0,X=new Array,V=1;V<=16;V++){for(var ee=1;ee<=F[V];ee++)X[M[D]]=[],X[M[D]][0]=B,X[M[D]][1]=V,D++,B++;B*=2}return X}function z(F){for(var M=F[0],B=F[1]-1;B>=0;)M&1<<B&&(x|=1<<v),B--,--v<0&&(x==255?(Y(255),Y(0)):Y(x),v=7,x=0)}function Y(F){g.push(F)}function U(F){Y(F>>8&255),Y(255&F)}function Q(F,M,B,D,X){for(var V,ee=X[0],K=X[240],ce=function(We,ve){var Ue,Je,dt,be,at,ht,_t,Ct,xt,nt,Qe=0;for(xt=0;xt<8;++xt){Ue=We[Qe],Je=We[Qe+1],dt=We[Qe+2],be=We[Qe+3],at=We[Qe+4],ht=We[Qe+5],_t=We[Qe+6];var tr=Ue+(Ct=We[Qe+7]),jt=Ue-Ct,$r=Je+_t,ar=Je-_t,dr=dt+ht,qa=dt-ht,Qt=be+at,Li=be-at,ye=tr+Qt,Dt=tr-Qt,Ft=$r+dr,It=$r-dr;We[Qe]=ye+Ft,We[Qe+4]=ye-Ft;var At=.707106781*(It+Dt);We[Qe+2]=Dt+At,We[Qe+6]=Dt-At;var qt=.382683433*((ye=Li+qa)-(It=ar+jt)),aa=.5411961*ye+qt,Ge=1.306562965*It+qt,vr=.707106781*(Ft=qa+ar),ys=jt+vr,Ot=jt-vr;We[Qe+5]=Ot+aa,We[Qe+3]=Ot-aa,We[Qe+1]=ys+Ge,We[Qe+7]=ys-Ge,Qe+=8}for(Qe=0,xt=0;xt<8;++xt){Ue=We[Qe],Je=We[Qe+8],dt=We[Qe+16],be=We[Qe+24],at=We[Qe+32],ht=We[Qe+40],_t=We[Qe+48];var bs=Ue+(Ct=We[Qe+56]),An=Ue-Ct,ya=Je+_t,Wr=Je-_t,yr=dt+ht,te=dt-ht,fe=be+at,oe=be-at,le=bs+fe,he=bs-fe,me=ya+yr,Te=ya-yr;We[Qe]=le+me,We[Qe+32]=le-me;var Be=.707106781*(Te+he);We[Qe+16]=he+Be,We[Qe+48]=he-Be;var Pe=.382683433*((le=oe+te)-(Te=Wr+An)),Le=.5411961*le+Pe,Ie=1.306562965*Te+Pe,tt=.707106781*(me=te+Wr),lt=An+tt,gt=An-tt;We[Qe+40]=gt+Le,We[Qe+24]=gt-Le,We[Qe+8]=lt+Ie,We[Qe+56]=lt-Ie,Qe++}for(xt=0;xt<64;++xt)nt=We[xt]*ve[xt],m[xt]=nt>0?nt+.5|0:nt-.5|0;return m}(F,M),xe=0;xe<64;++xe)p[j[xe]]=ce[xe];var G=p[0]-B;B=p[0],G==0?z(D[0]):(z(D[h[V=32767+G]]),z(f[V]));for(var Ce=63;Ce>0&&p[Ce]==0;)Ce--;if(Ce==0)return z(ee),B;for(var Ve,Se=1;Se<=Ce;){for(var ue=Se;p[Se]==0&&Se<=Ce;)++Se;var Me=Se-ue;if(Me>=16){Ve=Me>>4;for(var rt=1;rt<=Ve;++rt)z(K);Me&=15}V=32767+p[Se],z(X[(Me<<4)+h[V]]),z(f[V]),Se++}return Ce!=63&&z(ee),B}function pe(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(M){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],D=0;D<64;D++){var X=i((B[D]*M+50)/100);X=Math.min(Math.max(X,1),255),l[j[D]]=X}for(var V=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var K=i((V[ee]*M+50)/100);K=Math.min(Math.max(K,1),255),c[j[ee]]=K}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,G=0;G<8;G++)for(var Ce=0;Ce<8;Ce++)u[xe]=1/(l[j[xe]]*ce[G]*ce[Ce]*8),d[xe]=1/(c[j[xe]]*ce[G]*ce[Ce]*8),xe++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,M){M&&pe(M),g=new Array,x=0,v=7,U(65496),U(65504),U(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),U(1),U(1),Y(0),Y(0),function(){U(65499),U(132),Y(0);for(var Je=0;Je<64;Je++)Y(l[Je]);Y(1);for(var dt=0;dt<64;dt++)Y(c[dt])}(),function(Je,dt){U(65472),U(17),Y(8),U(dt),U(Je),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(F.width,F.height),function(){U(65476),U(418),Y(0);for(var Je=0;Je<16;Je++)Y(E[Je+1]);for(var dt=0;dt<=11;dt++)Y(C[dt]);Y(16);for(var be=0;be<16;be++)Y(I[be+1]);for(var at=0;at<=161;at++)Y(T[at]);Y(1);for(var ht=0;ht<16;ht++)Y(P[ht+1]);for(var _t=0;_t<=11;_t++)Y(H[_t]);Y(17);for(var Ct=0;Ct<16;Ct++)Y(q[Ct+1]);for(var xt=0;xt<=161;xt++)Y(ae[xt])}(),U(65498),U(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var B=0,D=0,X=0;x=0,v=7,this.encode.displayName="_encode_";for(var V,ee,K,ce,xe,G,Ce,Ve,Se,ue=F.data,Me=F.width,rt=F.height,We=4*Me,ve=0;ve<rt;){for(V=0;V<We;){for(xe=We*ve+V,Ce=-1,Ve=0,Se=0;Se<64;Se++)G=xe+(Ve=Se>>3)*We+(Ce=4*(7&Se)),ve+Ve>=rt&&(G-=We*(ve+1+Ve-rt)),V+Ce>=We&&(G-=V+Ce-We+4),ee=ue[G++],K=ue[G++],ce=ue[G++],y[Se]=(S[ee]+S[K+256>>0]+S[ce+512>>0]>>16)-128,b[Se]=(S[ee+768>>0]+S[K+1024>>0]+S[ce+1280>>0]>>16)-128,N[Se]=(S[ee+1280>>0]+S[K+1536>>0]+S[ce+1792>>0]>>16)-128;B=Q(y,u,B,t,n),D=Q(b,d,D,r,a),X=Q(N,d,X,r,a),V+=32}ve+=8}if(v>=0){var Ue=[];Ue[1]=v+1,Ue[0]=(1<<v+1)-1,z(Ue)}return U(65497),new Uint8Array(g)},e=e||50,function(){for(var F=String.fromCharCode,M=0;M<256;M++)A[M]=F(M)}(),t=R(E,C),r=R(P,H),n=R(I,T),a=R(q,ae),function(){for(var F=1,M=2,B=1;B<=15;B++){for(var D=F;D<M;D++)h[32767+D]=B,f[32767+D]=[],f[32767+D][1]=B,f[32767+D][0]=D;for(var X=-(M-1);X<=-F;X++)h[32767+X]=B,f[32767+X]=[],f[32767+X][1]=B,f[32767+X][0]=M-1+X;F<<=1,M<<=1}}(),function(){for(var F=0;F<256;F++)S[F]=19595*F,S[F+256>>0]=38470*F,S[F+512>>0]=7471*F+32768,S[F+768>>0]=-11059*F,S[F+1024>>0]=-21709*F,S[F+1280>>0]=32768*F+8421375,S[F+1536>>0]=-27439*F,S[F+1792>>0]=-5329*F}(),pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Co(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function v8(e){function t(E){if(!E)throw Error("assert :P")}function r(E,C,I){for(var T=0;4>T;T++)if(E[C+T]!=I.charCodeAt(T))return!0;return!1}function n(E,C,I,T,P){for(var H=0;H<P;H++)E[C+H]=I[T+H]}function a(E,C,I,T){for(var P=0;P<T;P++)E[C+P]=I}function s(E){return new Int32Array(E)}function i(E,C){for(var I=[],T=0;T<E;T++)I.push(new C);return I}function l(E,C){var I=[];return function T(P,H,q){for(var ae=q[H],R=0;R<ae&&(P.push(q.length>H+1?[]:new C),!(q.length<H+1));R++)T(P[R],H+1,q)}(I,0,E),I}var c=function(){var E=this;function C(w,_){for(var L=1<<_-1>>>0;w&L;)L>>>=1;return L?(w&L-1)+L:w}function I(w,_,L,W,Z){t(!(W%L));do w[_+(W-=L)]=Z;while(0<W)}function T(w,_,L,W,Z){if(t(2328>=Z),512>=Z)var re=s(512);else if((re=s(Z))==null)return 0;return function(ne,se,ie,de,ke,Oe){var Fe,_e,Ye=se,ze=1<<ie,Ne=s(16),je=s(16);for(t(ke!=0),t(de!=null),t(ne!=null),t(0<ie),_e=0;_e<ke;++_e){if(15<de[_e])return 0;++Ne[de[_e]]}if(Ne[0]==ke)return 0;for(je[1]=0,Fe=1;15>Fe;++Fe){if(Ne[Fe]>1<<Fe)return 0;je[Fe+1]=je[Fe]+Ne[Fe]}for(_e=0;_e<ke;++_e)Fe=de[_e],0<de[_e]&&(Oe[je[Fe]++]=_e);if(je[15]==1)return(de=new P).g=0,de.value=Oe[0],I(ne,Ye,1,ze,de),ze;var qe,Ze=-1,Ke=ze-1,yt=0,ft=1,Lt=1,mt=1<<ie;for(_e=0,Fe=1,ke=2;Fe<=ie;++Fe,ke<<=1){if(ft+=Lt<<=1,0>(Lt-=Ne[Fe]))return 0;for(;0<Ne[Fe];--Ne[Fe])(de=new P).g=Fe,de.value=Oe[_e++],I(ne,Ye+yt,ke,mt,de),yt=C(yt,Fe)}for(Fe=ie+1,ke=2;15>=Fe;++Fe,ke<<=1){if(ft+=Lt<<=1,0>(Lt-=Ne[Fe]))return 0;for(;0<Ne[Fe];--Ne[Fe]){if(de=new P,(yt&Ke)!=Ze){for(Ye+=mt,qe=1<<(Ze=Fe)-ie;15>Ze&&!(0>=(qe-=Ne[Ze]));)++Ze,qe<<=1;ze+=mt=1<<(qe=Ze-ie),ne[se+(Ze=yt&Ke)].g=qe+ie,ne[se+Ze].value=Ye-se-Ze}de.g=Fe-ie,de.value=Oe[_e++],I(ne,Ye+(yt>>ie),ke,mt,de),yt=C(yt,Fe)}}return ft!=2*je[15]-1?0:ze}(w,_,L,W,Z,re)}function P(){this.value=this.g=0}function H(){this.value=this.g=0}function q(){this.G=i(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(La,H)}function ae(w,_,L,W){t(w!=null),t(_!=null),t(2147483648>W),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=_,w.pa=L,w.Jd=_,w.Yc=L+W,w.Zc=4<=W?L+W-4+1:L,V(w)}function R(w,_){for(var L=0;0<_--;)L|=K(w,128)<<_;return L}function z(w,_){var L=R(w,_);return ee(w)?-L:L}function Y(w,_,L,W){var Z,re=0;for(t(w!=null),t(_!=null),t(4294967288>W),w.Sb=W,w.Ra=0,w.u=0,w.h=0,4<W&&(W=4),Z=0;Z<W;++Z)re+=_[L+Z]<<8*Z;w.Ra=re,w.bb=W,w.oa=_,w.pa=L}function U(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<ef-8>>>0,++w.bb,w.u-=8;B(w)&&(w.h=1,w.u=0)}function Q(w,_){if(t(0<=_),!w.h&&_<=Q0){var L=M(w)&J0[_];return w.u+=_,U(w),L}return w.h=1,w.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(w){return w.Ra>>>(w.u&ef-1)>>>0}function B(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>ef}function D(w,_){w.u=_,w.h=B(w)}function X(w){w.u>=bm&&(t(w.u>=bm),U(w))}function V(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ee(w){return R(w,1)}function K(w,_){var L=w.Ca;0>w.b&&V(w);var W=w.b,Z=L*_>>>8,re=(w.I>>>W>Z)+0;for(re?(L-=Z,w.I-=Z+1<<W>>>0):L=Z+1,W=L,Z=0;256<=W;)Z+=8,W>>=8;return W=7^Z+Rs[W],w.b-=W,w.Ca=(L<<W)-1,re}function ce(w,_,L){w[_+0]=L>>24&255,w[_+1]=L>>16&255,w[_+2]=L>>8&255,w[_+3]=L>>0&255}function xe(w,_){return w[_+0]<<0|w[_+1]<<8}function G(w,_){return xe(w,_)|w[_+2]<<16}function Ce(w,_){return xe(w,_)|xe(w,_+2)<<16}function Ve(w,_){var L=1<<_;return t(w!=null),t(0<_),w.X=s(L),w.X==null?0:(w.Mb=32-_,w.Xa=_,1)}function Se(w,_){t(w!=null),t(_!=null),t(w.Xa==_.Xa),n(_.X,0,w.X,0,1<<_.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function Me(w,_,L,W){t(L!=null),t(W!=null);var Z=L[0],re=W[0];return Z==0&&(Z=(w*re+_/2)/_),re==0&&(re=(_*Z+w/2)/w),0>=Z||0>=re?0:(L[0]=Z,W[0]=re,1)}function rt(w,_){return w+(1<<_)-1>>>_}function We(w,_){return((4278255360&w)+(4278255360&_)>>>0&4278255360)+((16711935&w)+(16711935&_)>>>0&16711935)>>>0}function ve(w,_){E[_]=function(L,W,Z,re,ne,se,ie){var de;for(de=0;de<ne;++de){var ke=E[w](se[ie+de-1],Z,re+de);se[ie+de]=We(L[W+de],ke)}}}function Ue(){this.ud=this.hd=this.jd=0}function Je(w,_){return((4278124286&(w^_))>>>1)+(w&_)>>>0}function dt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function be(w,_){return dt(w+(w-_+.5>>1))}function at(w,_,L){return Math.abs(_-L)-Math.abs(w-L)}function ht(w,_,L,W,Z,re,ne){for(W=re[ne-1],L=0;L<Z;++L)re[ne+L]=W=We(w[_+L],W)}function _t(w,_,L,W,Z){var re;for(re=0;re<L;++re){var ne=w[_+re],se=ne>>8&255,ie=16711935&(ie=(ie=16711935&ne)+((se<<16)+se));W[Z+re]=(4278255360&ne)+ie>>>0}}function Ct(w,_){_.jd=w>>0&255,_.hd=w>>8&255,_.ud=w>>16&255}function xt(w,_,L,W,Z,re){var ne;for(ne=0;ne<W;++ne){var se=_[L+ne],ie=se>>>8,de=se,ke=255&(ke=(ke=se>>>16)+((w.jd<<24>>24)*(ie<<24>>24)>>>5));de=255&(de=(de=de+((w.hd<<24>>24)*(ie<<24>>24)>>>5))+((w.ud<<24>>24)*(ke<<24>>24)>>>5)),Z[re+ne]=(4278255360&se)+(ke<<16)+de}}function nt(w,_,L,W,Z){E[_]=function(re,ne,se,ie,de,ke,Oe,Fe,_e){for(ie=Oe;ie<Fe;++ie)for(Oe=0;Oe<_e;++Oe)de[ke++]=Z(se[W(re[ne++])])},E[w]=function(re,ne,se,ie,de,ke,Oe){var Fe=8>>re.b,_e=re.Ea,Ye=re.K[0],ze=re.w;if(8>Fe)for(re=(1<<re.b)-1,ze=(1<<Fe)-1;ne<se;++ne){var Ne,je=0;for(Ne=0;Ne<_e;++Ne)Ne&re||(je=W(ie[de++])),ke[Oe++]=Z(Ye[je&ze]),je>>=Fe}else E["VP8LMapColor"+L](ie,de,Ye,ze,ke,Oe,ne,se,_e)}}function Qe(w,_,L,W,Z){for(L=_+L;_<L;){var re=w[_++];W[Z++]=re>>16&255,W[Z++]=re>>8&255,W[Z++]=re>>0&255}}function tr(w,_,L,W,Z){for(L=_+L;_<L;){var re=w[_++];W[Z++]=re>>16&255,W[Z++]=re>>8&255,W[Z++]=re>>0&255,W[Z++]=re>>24&255}}function jt(w,_,L,W,Z){for(L=_+L;_<L;){var re=(ne=w[_++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;W[Z++]=re,W[Z++]=ne}}function $r(w,_,L,W,Z){for(L=_+L;_<L;){var re=(ne=w[_++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;W[Z++]=re,W[Z++]=ne}}function ar(w,_,L,W,Z){for(L=_+L;_<L;){var re=w[_++];W[Z++]=re>>0&255,W[Z++]=re>>8&255,W[Z++]=re>>16&255}}function dr(w,_,L,W,Z,re){if(re==0)for(L=_+L;_<L;)ce(W,((re=w[_++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Z+=32;else n(W,Z,w,_,L)}function qa(w,_){E[_][0]=E[w+"0"],E[_][1]=E[w+"1"],E[_][2]=E[w+"2"],E[_][3]=E[w+"3"],E[_][4]=E[w+"4"],E[_][5]=E[w+"5"],E[_][6]=E[w+"6"],E[_][7]=E[w+"7"],E[_][8]=E[w+"8"],E[_][9]=E[w+"9"],E[_][10]=E[w+"10"],E[_][11]=E[w+"11"],E[_][12]=E[w+"12"],E[_][13]=E[w+"13"],E[_][14]=E[w+"0"],E[_][15]=E[w+"0"]}function Qt(w){return w==p5||w==g5||w==v1||w==x5}function Li(){this.eb=[],this.size=this.A=this.fb=0}function ye(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Li,this.f.kb=new ye,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function qt(w,_){var L=w.T,W=_.ba.f.RGBA,Z=W.eb,re=W.fb+w.ka*W.A,ne=zi[_.ba.S],se=w.y,ie=w.O,de=w.f,ke=w.N,Oe=w.ea,Fe=w.W,_e=_.cc,Ye=_.dc,ze=_.Mc,Ne=_.Nc,je=w.ka,qe=w.ka+w.T,Ze=w.U,Ke=Ze+1>>1;for(je==0?ne(se,ie,null,null,de,ke,Oe,Fe,de,ke,Oe,Fe,Z,re,null,null,Ze):(ne(_.ec,_.fc,se,ie,_e,Ye,ze,Ne,de,ke,Oe,Fe,Z,re-W.A,Z,re,Ze),++L);je+2<qe;je+=2)_e=de,Ye=ke,ze=Oe,Ne=Fe,ke+=w.Rc,Fe+=w.Rc,re+=2*W.A,ne(se,(ie+=2*w.fa)-w.fa,se,ie,_e,Ye,ze,Ne,de,ke,Oe,Fe,Z,re-W.A,Z,re,Ze);return ie+=w.fa,w.j+qe<w.o?(n(_.ec,_.fc,se,ie,Ze),n(_.cc,_.dc,de,ke,Ke),n(_.Mc,_.Nc,Oe,Fe,Ke),L--):1&qe||ne(se,ie,null,null,de,ke,Oe,Fe,de,ke,Oe,Fe,Z,re+W.A,null,null,Ze),L}function aa(w,_,L){var W=w.F,Z=[w.J];if(W!=null){var re=w.U,ne=_.ba.S,se=ne==x1||ne==v1;_=_.ba.f.RGBA;var ie=[0],de=w.ka;ie[0]=w.T,w.Kb&&(de==0?--ie[0]:(--de,Z[0]-=w.width),w.j+w.ka+w.T==w.o&&(ie[0]=w.o-w.j-de));var ke=_.eb;de=_.fb+de*_.A,w=Rr(W,Z[0],w.width,re,ie,ke,de+(se?0:3),_.A),t(L==ie),w&&Qt(ne)&&Ri(ke,de,se,re,ie,_.A)}return 0}function Ge(w){var _=w.ma,L=_.ba.S,W=11>L,Z=L==p1||L==g1||L==x1||L==m5||L==12||Qt(L);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!vm(_.Oa,w,Z?11:12))return 0;if(Z&&Qt(L)&&et(),w.da)alert("todo:use_scaling");else{if(W){if(_.Ib=At,w.Kb){if(L=w.U+1>>1,_.memory=s(w.U+2*L),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+w.U,_.Mc=_.cc,_.Nc=_.dc+L,_.Ib=qt,et()}}else alert("todo:EmitYUV");Z&&(_.Jb=aa,W&&Ee())}if(W&&!zE){for(w=0;256>w;++w)aK[w]=89858*(w-128)+b1>>y1,oK[w]=-22014*(w-128)+b1,iK[w]=-45773*(w-128),sK[w]=113618*(w-128)+b1>>y1;for(w=_m;w<b5;++w)_=76283*(w-16)+b1>>y1,lK[w-_m]=li(_,255),cK[w-_m]=li(_+8>>4,15);zE=1}return 1}function vr(w){var _=w.ma,L=w.U,W=w.T;return t(!(1&w.ka)),0>=L||0>=W?0:(L=_.Ib(w,_),_.Jb!=null&&_.Jb(w,_,L),_.Dc+=L,1)}function ys(w){w.ma.memory=null}function Ot(w,_,L,W){return Q(w,8)!=47?0:(_[0]=Q(w,14)+1,L[0]=Q(w,14)+1,W[0]=Q(w,1),Q(w,3)!=0?0:!w.h)}function bs(w,_){if(4>w)return w+1;var L=w-2>>1;return(2+(1&w)<<L)+Q(_,L)+1}function An(w,_){return 120<_?_-120:1<=(L=((L=HG[_-1])>>4)*w+(8-(15&L)))?L:1;var L}function ya(w,_,L){var W=M(L),Z=w[_+=255&W].g-8;return 0<Z&&(D(L,L.u+8),W=M(L),_+=w[_].value,_+=W&(1<<Z)-1),D(L,L.u+w[_].g),w[_].value}function Wr(w,_,L){return L.g+=w.g,L.value+=w.value<<_>>>0,t(8>=L.g),w.g}function yr(w,_,L){var W=w.xc;return t((_=W==0?0:w.vc[w.md*(L>>W)+(_>>W)])<w.Wb),w.Ya[_]}function te(w,_,L,W){var Z=w.ab,re=w.c*_,ne=w.C;_=ne+_;var se=L,ie=W;for(W=w.Ta,L=w.Ua;0<Z--;){var de=w.gc[Z],ke=ne,Oe=_,Fe=se,_e=ie,Ye=(ie=W,se=L,de.Ea);switch(t(ke<Oe),t(Oe<=de.nc),de.hc){case 2:l1(Fe,_e,(Oe-ke)*Ye,ie,se);break;case 0:var ze=ke,Ne=Oe,je=ie,qe=se,Ze=(mt=de).Ea;ze==0&&(f5(Fe,_e,null,null,1,je,qe),ht(Fe,_e+1,0,0,Ze-1,je,qe+1),_e+=Ze,qe+=Ze,++ze);for(var Ke=1<<mt.b,yt=Ke-1,ft=rt(Ze,mt.b),Lt=mt.K,mt=mt.w+(ze>>mt.b)*ft;ze<Ne;){var pr=Lt,wr=mt,or=1;for(wm(Fe,_e,je,qe-Ze,1,je,qe);or<Ze;){var nr=(or&~yt)+Ke;nr>Ze&&(nr=Ze),(0,Wc[pr[wr++]>>8&15])(Fe,_e+ +or,je,qe+or-Ze,nr-or,je,qe+or),or=nr}_e+=Ze,qe+=Ze,++ze&yt||(mt+=ft)}Oe!=de.nc&&n(ie,se-Ye,ie,se+(Oe-ke-1)*Ye,Ye);break;case 1:for(Ye=Fe,Ne=_e,Ze=(Fe=de.Ea)-(qe=Fe&~(je=(_e=1<<de.b)-1)),ze=rt(Fe,de.b),Ke=de.K,de=de.w+(ke>>de.b)*ze;ke<Oe;){for(yt=Ke,ft=de,Lt=new Ue,mt=Ne+qe,pr=Ne+Fe;Ne<mt;)Ct(yt[ft++],Lt),pd(Lt,Ye,Ne,_e,ie,se),Ne+=_e,se+=_e;Ne<pr&&(Ct(yt[ft++],Lt),pd(Lt,Ye,Ne,Ze,ie,se),Ne+=Ze,se+=Ze),++ke&je||(de+=ze)}break;case 3:if(Fe==ie&&_e==se&&0<de.b){for(Ne=ie,Fe=Ye=se+(Oe-ke)*Ye-(qe=(Oe-ke)*rt(de.Ea,de.b)),_e=ie,je=se,ze=[],qe=(Ze=qe)-1;0<=qe;--qe)ze[qe]=_e[je+qe];for(qe=Ze-1;0<=qe;--qe)Ne[Fe+qe]=ze[qe];Di(de,ke,Oe,ie,Ye,ie,se)}else Di(de,ke,Oe,Fe,_e,ie,se)}se=W,ie=L}ie!=L&&n(W,L,se,ie,re)}function fe(w,_){var L=w.V,W=w.Ba+w.c*w.C,Z=_-w.C;if(t(_<=w.l.o),t(16>=Z),0<Z){var re=w.l,ne=w.Ta,se=w.Ua,ie=re.width;if(te(w,Z,L,W),Z=se=[se],t((L=w.C)<(W=_)),t(re.v<re.va),W>re.o&&(W=re.o),L<re.j){var de=re.j-L;L=re.j,Z[0]+=de*ie}if(L>=W?L=0:(Z[0]+=4*re.v,re.ka=L-re.j,re.U=re.va-re.v,re.T=W-L,L=1),L){if(se=se[0],11>(L=w.ca).S){var ke=L.f.RGBA,Oe=(W=L.S,Z=re.U,re=re.T,de=ke.eb,ke.A),Fe=re;for(ke=ke.fb+w.Ma*ke.A;0<Fe--;){var _e=ne,Ye=se,ze=Z,Ne=de,je=ke;switch(W){case m1:Bs(_e,Ye,ze,Ne,je);break;case p1:ws(_e,Ye,ze,Ne,je);break;case p5:ws(_e,Ye,ze,Ne,je),Ri(Ne,je,0,ze,1,0);break;case PE:Ul(_e,Ye,ze,Ne,je);break;case g1:dr(_e,Ye,ze,Ne,je,1);break;case g5:dr(_e,Ye,ze,Ne,je,1),Ri(Ne,je,0,ze,1,0);break;case x1:dr(_e,Ye,ze,Ne,je,0);break;case v1:dr(_e,Ye,ze,Ne,je,0),Ri(Ne,je,1,ze,1,0);break;case m5:Hc(_e,Ye,ze,Ne,je);break;case x5:Hc(_e,Ye,ze,Ne,je),Mr(Ne,je,ze,1,0);break;case OE:zl(_e,Ye,ze,Ne,je);break;default:t(0)}se+=ie,ke+=Oe}w.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=L.height)}}w.C=_,t(w.C<=w.i)}function oe(w){var _;if(0<w.ua)return 0;for(_=0;_<w.Wb;++_){var L=w.Ya[_].G,W=w.Ya[_].H;if(0<L[1][W[1]+0].g||0<L[2][W[2]+0].g||0<L[3][W[3]+0].g)return 0}return 1}function le(w,_,L,W,Z,re){if(w.Z!=0){var ne=w.qd,se=w.rd;for(t(Kc[w.Z]!=null);_<L;++_)Kc[w.Z](ne,se,W,Z,W,Z,re),ne=W,se=Z,Z+=re;w.qd=ne,w.rd=se}}function he(w,_){var L=w.l.ma,W=L.Z==0||L.Z==1?w.l.j:w.C;if(W=w.C<W?W:w.C,t(_<=w.l.o),_>W){var Z=w.l.width,re=L.ca,ne=L.tb+Z*W,se=w.V,ie=w.Ba+w.c*W,de=w.gc;t(w.ab==1),t(de[0].hc==3),c1(de[0],W,_,se,ie,re,ne),le(L,W,_,re,ne,Z)}w.C=w.Ma=_}function me(w,_,L,W,Z,re,ne){var se=w.$/W,ie=w.$%W,de=w.m,ke=w.s,Oe=L+w.$,Fe=Oe;Z=L+W*Z;var _e=L+W*re,Ye=280+ke.ua,ze=w.Pb?se:16777216,Ne=0<ke.ua?ke.Wa:null,je=ke.wc,qe=Oe<_e?yr(ke,ie,se):null;t(w.C<re),t(_e<=Z);var Ze=!1;e:for(;;){for(;Ze||Oe<_e;){var Ke=0;if(se>=ze){var yt=Oe-L;t((ze=w).Pb),ze.wd=ze.m,ze.xd=yt,0<ze.s.ua&&Se(ze.s.Wa,ze.s.vb),ze=se+qG}if(ie&je||(qe=yr(ke,ie,se)),t(qe!=null),qe.Qb&&(_[Oe]=qe.qb,Ze=!0),!Ze)if(X(de),qe.jc){Ke=de,yt=_;var ft=Oe,Lt=qe.pd[M(Ke)&La-1];t(qe.jc),256>Lt.g?(D(Ke,Ke.u+Lt.g),yt[ft]=Lt.value,Ke=0):(D(Ke,Ke.u+Lt.g-256),t(256<=Lt.value),Ke=Lt.value),Ke==0&&(Ze=!0)}else Ke=ya(qe.G[0],qe.H[0],de);if(de.h)break;if(Ze||256>Ke){if(!Ze)if(qe.nd)_[Oe]=(qe.qb|Ke<<8)>>>0;else{if(X(de),Ze=ya(qe.G[1],qe.H[1],de),X(de),yt=ya(qe.G[2],qe.H[2],de),ft=ya(qe.G[3],qe.H[3],de),de.h)break;_[Oe]=(ft<<24|Ze<<16|Ke<<8|yt)>>>0}if(Ze=!1,++Oe,++ie>=W&&(ie=0,++se,ne!=null&&se<=re&&!(se%16)&&ne(w,se),Ne!=null))for(;Fe<Oe;)Ke=_[Fe++],Ne.X[(506832829*Ke&4294967295)>>>Ne.Mb]=Ke}else if(280>Ke){if(Ke=bs(Ke-256,de),yt=ya(qe.G[4],qe.H[4],de),X(de),yt=An(W,yt=bs(yt,de)),de.h)break;if(Oe-L<yt||Z-Oe<Ke)break e;for(ft=0;ft<Ke;++ft)_[Oe+ft]=_[Oe+ft-yt];for(Oe+=Ke,ie+=Ke;ie>=W;)ie-=W,++se,ne!=null&&se<=re&&!(se%16)&&ne(w,se);if(t(Oe<=Z),ie&je&&(qe=yr(ke,ie,se)),Ne!=null)for(;Fe<Oe;)Ke=_[Fe++],Ne.X[(506832829*Ke&4294967295)>>>Ne.Mb]=Ke}else{if(!(Ke<Ye))break e;for(Ze=Ke-280,t(Ne!=null);Fe<Oe;)Ke=_[Fe++],Ne.X[(506832829*Ke&4294967295)>>>Ne.Mb]=Ke;Ke=Oe,t(!(Ze>>>(yt=Ne).Xa)),_[Ke]=yt.X[Ze],Ze=!0}Ze||t(de.h==B(de))}if(w.Pb&&de.h&&Oe<Z)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Se(w.s.vb,w.s.Wa);else{if(de.h)break e;ne!=null&&ne(w,se>re?re:se),w.a=0,w.$=Oe-L}return 1}return w.a=3,0}function Te(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var _=w.Wa;_!=null&&(_.X=null),w.vb=null,t(w!=null)}function Be(){var w=new d5;return w==null?null:(w.a=0,w.xb=DE,qa("Predictor","VP8LPredictors"),qa("Predictor","VP8LPredictors_C"),qa("PredictorAdd","VP8LPredictorsAdd"),qa("PredictorAdd","VP8LPredictorsAdd_C"),l1=_t,pd=xt,Bs=Qe,ws=tr,Hc=jt,zl=$r,Ul=ar,E.VP8LMapColor32b=tf,E.VP8LMapColor8b=u1,w)}function Pe(w,_,L,W,Z){var re=1,ne=[w],se=[_],ie=W.m,de=W.s,ke=null,Oe=0;e:for(;;){if(L)for(;re&&Q(ie,1);){var Fe=ne,_e=se,Ye=W,ze=1,Ne=Ye.m,je=Ye.gc[Ye.ab],qe=Q(Ne,2);if(Ye.Oc&1<<qe)re=0;else{switch(Ye.Oc|=1<<qe,je.hc=qe,je.Ea=Fe[0],je.nc=_e[0],je.K=[null],++Ye.ab,t(4>=Ye.ab),qe){case 0:case 1:je.b=Q(Ne,3)+2,ze=Pe(rt(je.Ea,je.b),rt(je.nc,je.b),0,Ye,je.K),je.K=je.K[0];break;case 3:var Ze,Ke=Q(Ne,8)+1,yt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(Fe[0]=rt(je.Ea,yt),je.b=yt,Ze=ze=Pe(Ke,1,0,Ye,je.K)){var ft,Lt=Ke,mt=je,pr=1<<(8>>mt.b),wr=s(pr);if(wr==null)Ze=0;else{var or=mt.K[0],nr=mt.w;for(wr[0]=mt.K[0][0],ft=1;ft<1*Lt;++ft)wr[ft]=We(or[nr+ft],wr[ft-1]);for(;ft<4*pr;++ft)wr[ft]=0;mt.K[0]=null,mt.K[0]=wr,Ze=1}}ze=Ze;break;case 2:break;default:t(0)}re=ze}}if(ne=ne[0],se=se[0],re&&Q(ie,1)&&!(re=1<=(Oe=Q(ie,4))&&11>=Oe)){W.a=3;break e}var Fr;if(Fr=re)t:{var Tr,Kt,Wn,zs=W,Hn=ne,Us=se,kr=Oe,ui=L,di=zs.m,wa=zs.s,Da=[null],Ns=1,Ui=0,sl=VG[kr];r:for(;;){if(ui&&Q(di,1)){var ka=Q(di,3)+2,Vl=rt(Hn,ka),bd=rt(Us,ka),of=Vl*bd;if(!Pe(Vl,bd,0,zs,Da))break r;for(Da=Da[0],wa.xc=ka,Tr=0;Tr<of;++Tr){var Yc=Da[Tr]>>8&65535;Da[Tr]=Yc,Yc>=Ns&&(Ns=Yc+1)}}if(di.h)break r;for(Kt=0;5>Kt;++Kt){var gn=FE[Kt];!Kt&&0<kr&&(gn+=1<<kr),Ui<gn&&(Ui=gn)}var w5=i(Ns*sl,P),WE=Ns,HE=i(WE,q);if(HE==null)var k1=null;else t(65536>=WE),k1=HE;var Em=s(Ui);if(k1==null||Em==null||w5==null){zs.a=1;break r}var N1=w5;for(Tr=Wn=0;Tr<Ns;++Tr){var jo=k1[Tr],lf=jo.G,cf=jo.H,VE=0,S1=1,qE=0;for(Kt=0;5>Kt;++Kt){gn=FE[Kt],lf[Kt]=N1,cf[Kt]=Wn,!Kt&&0<kr&&(gn+=1<<kr);a:{var j1,k5=gn,A1=zs,Cm=Em,fK=N1,hK=Wn,N5=0,Xc=A1.m,mK=Q(Xc,1);if(a(Cm,0,0,k5),mK){var pK=Q(Xc,1)+1,gK=Q(Xc,1),GE=Q(Xc,gK==0?1:8);Cm[GE]=1,pK==2&&(Cm[GE=Q(Xc,8)]=1);var _1=1}else{var KE=s(19),YE=Q(Xc,4)+4;if(19<YE){A1.a=3;var E1=0;break a}for(j1=0;j1<YE;++j1)KE[WG[j1]]=Q(Xc,3);var S5=void 0,Tm=void 0,XE=A1,xK=KE,C1=k5,ZE=Cm,j5=0,Zc=XE.m,JE=8,QE=i(128,P);n:for(;T(QE,0,7,xK,19);){if(Q(Zc,1)){var vK=2+2*Q(Zc,3);if((S5=2+Q(Zc,vK))>C1)break n}else S5=C1;for(Tm=0;Tm<C1&&S5--;){X(Zc);var eC=QE[0+(127&M(Zc))];D(Zc,Zc.u+eC.g);var uf=eC.value;if(16>uf)ZE[Tm++]=uf,uf!=0&&(JE=uf);else{var yK=uf==16,tC=uf-16,bK=UG[tC],rC=Q(Zc,zG[tC])+bK;if(Tm+rC>C1)break n;for(var wK=yK?JE:0;0<rC--;)ZE[Tm++]=wK}}j5=1;break n}j5||(XE.a=3),_1=j5}(_1=_1&&!Xc.h)&&(N5=T(fK,hK,8,Cm,k5)),_1&&N5!=0?E1=N5:(A1.a=3,E1=0)}if(E1==0)break r;if(S1&&$G[Kt]==1&&(S1=N1[Wn].g==0),VE+=N1[Wn].g,Wn+=E1,3>=Kt){var Pm,A5=Em[0];for(Pm=1;Pm<gn;++Pm)Em[Pm]>A5&&(A5=Em[Pm]);qE+=A5}}if(jo.nd=S1,jo.Qb=0,S1&&(jo.qb=(lf[3][cf[3]+0].value<<24|lf[1][cf[1]+0].value<<16|lf[2][cf[2]+0].value)>>>0,VE==0&&256>lf[0][cf[0]+0].value&&(jo.Qb=1,jo.qb+=lf[0][cf[0]+0].value<<8)),jo.jc=!jo.Qb&&6>qE,jo.jc){var T1,ql=jo;for(T1=0;T1<La;++T1){var Jc=T1,Qc=ql.pd[Jc],P1=ql.G[0][ql.H[0]+Jc];256<=P1.value?(Qc.g=P1.g+256,Qc.value=P1.value):(Qc.g=0,Qc.value=0,Jc>>=Wr(P1,8,Qc),Jc>>=Wr(ql.G[1][ql.H[1]+Jc],16,Qc),Jc>>=Wr(ql.G[2][ql.H[2]+Jc],0,Qc),Wr(ql.G[3][ql.H[3]+Jc],24,Qc))}}}wa.vc=Da,wa.Wb=Ns,wa.Ya=k1,wa.yc=w5,Fr=1;break t}Fr=0}if(!(re=Fr)){W.a=3;break e}if(0<Oe){if(de.ua=1<<Oe,!Ve(de.Wa,Oe)){W.a=1,re=0;break e}}else de.ua=0;var _5=W,nC=ne,kK=se,E5=_5.s,C5=E5.xc;if(_5.c=nC,_5.i=kK,E5.md=rt(nC,C5),E5.wc=C5==0?-1:(1<<C5)-1,L){W.xb=QG;break e}if((ke=s(ne*se))==null){W.a=1,re=0;break e}re=(re=me(W,ke,0,ne,se,se,null))&&!ie.h;break e}return re?(Z!=null?Z[0]=ke:(t(ke==null),t(L)),W.$=0,L||Te(de)):Te(de),re}function Le(w,_){var L=w.c*w.i,W=L+_+16*_;return t(w.c<=_),w.V=s(W),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+L+_,1)}function Ie(w,_){var L=w.C,W=_-L,Z=w.V,re=w.Ba+w.c*L;for(t(_<=w.l.o);0<W;){var ne=16<W?16:W,se=w.l.ma,ie=w.l.width,de=ie*ne,ke=se.ca,Oe=se.tb+ie*L,Fe=w.Ta,_e=w.Ua;te(w,ne,Z,re),Cn(Fe,_e,ke,Oe,de),le(se,L,L+ne,ke,Oe,ie),W-=ne,Z+=ne*w.c,L+=ne}t(L==_),w.C=w.Ma=_}function tt(){this.ub=this.yd=this.td=this.Rb=0}function lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function it(){this.Yb=function(){var w=[];return function _(L,W,Z){for(var re=Z[W],ne=0;ne<re&&(L.push(Z.length>W+1?[]:0),!(Z.length<W+1));ne++)_(L[ne],W+1,Z)}(w,0,[3,11]),w}()}function pt(){this.jb=s(3),this.Wc=l([4,8],it),this.Xc=l([4,17],it)}function $t(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function br(){this.ld=this.La=this.dd=this.tc=0}function Cr(){this.Na=this.la=0}function Un(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new br),this.Y=0,this.ya=Array(new yo),this.aa=0,this.l=new tl}function el(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bo(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new tt,this.Kc=new lt,this.ed=new $t,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new Ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,pe),this.ia=0,this.pb=i(4,Un),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new el),this.Hd=0,this.rb=Array(new Cr),this.sb=0,this.wa=Array(new br),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yo),this.L=this.aa=0,this.gd=l([4,2],br),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oi(){var w=new bo;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Am||(Am=Gx)),w}function _n(w,_,L){return w.a==0&&(w.a=_,w.sc=L,w.cb=0),0}function Vx(w,_,L){return 3<=L&&w[_+0]==157&&w[_+1]==1&&w[_+2]==42}function qx(w,_){if(w==null)return 0;if(w.a=0,w.sc="OK",_==null)return _n(w,2,"null VP8Io passed to VP8GetHeaders()");var L=_.data,W=_.w,Z=_.ha;if(4>Z)return _n(w,7,"Truncated header.");var re=L[W+0]|L[W+1]<<8|L[W+2]<<16,ne=w.Od;if(ne.Rb=!(1&re),ne.td=re>>1&7,ne.yd=re>>4&1,ne.ub=re>>5,3<ne.td)return _n(w,3,"Incorrect keyframe parameters.");if(!ne.yd)return _n(w,4,"Frame not displayable.");W+=3,Z-=3;var se=w.Kc;if(ne.Rb){if(7>Z)return _n(w,7,"cannot parse picture header");if(!Vx(L,W,Z))return _n(w,3,"Bad code word");se.c=16383&(L[W+4]<<8|L[W+3]),se.Td=L[W+4]>>6,se.i=16383&(L[W+6]<<8|L[W+5]),se.Ud=L[W+6]>>6,W+=7,Z-=7,w.za=se.c+15>>4,w.Ub=se.i+15>>4,_.width=se.c,_.height=se.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((re=w.Pa).jb,0,255,re.jb.length),t((re=w.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ne.ub>Z)return _n(w,7,"bad partition length");ae(re=w.m,L,W,ne.ub),W+=ne.ub,Z-=ne.ub,ne.Rb&&(se.Ld=ee(re),se.Kd=ee(re)),se=w.Qa;var ie,de=w.Pa;if(t(re!=null),t(se!=null),se.Cb=ee(re),se.Cb){if(se.Bb=ee(re),ee(re)){for(se.Fb=ee(re),ie=0;4>ie;++ie)se.Zb[ie]=ee(re)?z(re,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=ee(re)?z(re,6):0}if(se.Bb)for(ie=0;3>ie;++ie)de.jb[ie]=ee(re)?R(re,8):255}else se.Bb=0;if(re.Ka)return _n(w,3,"cannot parse segment header");if((se=w.ed).zd=ee(re),se.Tb=R(re,6),se.wb=R(re,3),se.Pc=ee(re),se.Pc&&ee(re)){for(de=0;4>de;++de)ee(re)&&(se.vd[de]=z(re,6));for(de=0;4>de;++de)ee(re)&&(se.od[de]=z(re,6))}if(w.L=se.Tb==0?0:se.zd?1:2,re.Ka)return _n(w,3,"cannot parse filter header");var ke=Z;if(Z=ie=W,W=ie+ke,se=ke,w.Xb=(1<<R(w.m,2))-1,ke<3*(de=w.Xb))L=7;else{for(ie+=3*de,se-=3*de,ke=0;ke<de;++ke){var Oe=L[Z+0]|L[Z+1]<<8|L[Z+2]<<16;Oe>se&&(Oe=se),ae(w.Jc[+ke],L,ie,Oe),ie+=Oe,se-=Oe,Z+=3}ae(w.Jc[+de],L,ie,se),L=ie<W?0:5}if(L!=0)return _n(w,L,"cannot parse partitions");for(L=R(ie=w.m,7),Z=ee(ie)?z(ie,4):0,W=ee(ie)?z(ie,4):0,se=ee(ie)?z(ie,4):0,de=ee(ie)?z(ie,4):0,ie=ee(ie)?z(ie,4):0,ke=w.Qa,Oe=0;4>Oe;++Oe){if(ke.Cb){var Fe=ke.Zb[Oe];ke.Fb||(Fe+=L)}else{if(0<Oe){w.pb[Oe]=w.pb[0];continue}Fe=L}var _e=w.pb[Oe];_e.Sc[0]=v5[li(Fe+Z,127)],_e.Sc[1]=y5[li(Fe+0,127)],_e.Eb[0]=2*v5[li(Fe+W,127)],_e.Eb[1]=101581*y5[li(Fe+se,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=v5[li(Fe+de,117)],_e.Qc[1]=y5[li(Fe+ie,127)],_e.lc=Fe+ie}if(!ne.Rb)return _n(w,4,"Not a key frame.");for(ee(re),ne=w.Pa,L=0;4>L;++L){for(Z=0;8>Z;++Z)for(W=0;3>W;++W)for(se=0;11>se;++se)de=K(re,ZG[L][Z][W][se])?R(re,8):YG[L][Z][W][se],ne.Wc[L][Z].Yb[W][se]=de;for(Z=0;17>Z;++Z)ne.Xc[L][Z]=ne.Wc[L][JG[Z]]}return w.kc=ee(re),w.kc&&(w.Bd=R(re,8)),w.cb=1}function Gx(w,_,L,W,Z,re,ne){var se=_[Z].Yb[L];for(L=0;16>Z;++Z){if(!K(w,se[L+0]))return Z;for(;!K(w,se[L+1]);)if(se=_[++Z].Yb[0],L=0,Z==16)return 16;var ie=_[Z+1].Yb;if(K(w,se[L+2])){var de=w,ke=0;if(K(de,(Fe=se)[(Oe=L)+3]))if(K(de,Fe[Oe+6])){for(se=0,Oe=2*(ke=K(de,Fe[Oe+8]))+(Fe=K(de,Fe[Oe+9+ke])),ke=0,Fe=GG[Oe];Fe[se];++se)ke+=ke+K(de,Fe[se]);ke+=3+(8<<Oe)}else K(de,Fe[Oe+7])?(ke=7+2*K(de,165),ke+=K(de,145)):ke=5+K(de,159);else ke=K(de,Fe[Oe+4])?3+K(de,Fe[Oe+5]):2;se=ie[2]}else ke=1,se=ie[1];ie=ne+KG[Z],0>(de=w).b&&V(de);var Oe,Fe=de.b,_e=(Oe=de.Ca>>1)-(de.I>>Fe)>>31;--de.b,de.Ca+=_e,de.Ca|=1,de.I-=(Oe+1&_e)<<Fe,re[ie]=((ke^_e)-_e)*W[(0<Z)+0]}return 16}function nm(w){var _=w.rb[w.sb-1];_.la=0,_.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function Kw(w,_){if(w==null)return 0;if(_==null)return _n(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!qx(w,_))return 0;if(t(w.cb),_.ac==null||_.ac(_)){_.ob&&(w.L=0);var L=w1[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=_.v-L>>4,w.zb=_.j-L>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=_.o+15+L>>4,w.Hb=_.va+15+L>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var W=w.ed;for(L=0;4>L;++L){var Z;if(w.Qa.Cb){var re=w.Qa.Lb[L];w.Qa.Fb||(re+=W.Tb)}else re=W.Tb;for(Z=0;1>=Z;++Z){var ne=w.gd[L][Z],se=re;if(W.Pc&&(se+=W.vd[0],Z&&(se+=W.od[0])),0<(se=0>se?0:63<se?63:se)){var ie=se;0<W.wb&&(ie=4<W.wb?ie>>2:ie>>1)>9-W.wb&&(ie=9-W.wb),1>ie&&(ie=1),ne.dd=ie,ne.tc=2*se+ie,ne.ld=40<=se?2:15<=se?1:0}else ne.tc=0;ne.La=Z}}}L=0}else _n(w,6,"Frame setup failed"),L=w.a;if(L=L==0){if(L){w.$c=0,0<w.Aa||(w.Ic=dK);e:{L=w.Ic,W=4*(ie=w.za);var de=32*ie,ke=ie+1,Oe=0<w.L?ie*(0<w.Aa?2:1):0,Fe=(w.Aa==2?2:1)*ie;if((ne=W+832+(Z=3*(16*L+w1[w.L])/2*de)+(re=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ne)L=0;else{if(ne>w.Vb){if(w.Vb=0,w.Ec=s(ne),w.Fc=0,w.Ec==null){L=_n(w,1,"no memory during frame initialization.");break e}w.Vb=ne}ne=w.Ec,se=w.Fc,w.Ac=ne,w.Bc=se,se+=W,w.Gd=i(de,el),w.Hd=0,w.rb=i(ke+1,Cr),w.sb=1,w.wa=Oe?i(Oe,br):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ie),t(!0),w.oc=ne,w.pc=se,se+=832,w.ya=i(Fe,yo),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ie),w.R=16*ie,w.B=8*ie,ie=(de=w1[w.L])*w.R,de=de/2*w.B,w.sa=ne,w.ta=se+ie,w.qa=w.sa,w.ra=w.ta+16*L*w.R+de,w.Ha=w.qa,w.Ia=w.ra+8*L*w.B+de,w.$c=0,se+=Z,w.mb=re?ne:null,w.nb=re?se:null,t(se+re<=w.Fc+w.Vb),nm(w),a(w.Ac,w.Bc,0,W),L=1}}if(L){if(_.ka=0,_.y=w.sa,_.O=w.ta,_.f=w.qa,_.N=w.ra,_.ea=w.Ha,_.Vd=w.Ia,_.fa=w.R,_.Rc=w.B,_.F=null,_.J=0,!f1){for(L=-255;255>=L;++L)sa[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)Wl[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)jm[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)sf[255+L]=0>L?0:255<L?255:L;f1=1}rf=Zw,$l=Yw,km=Yx,ks=Xw,Ii=Xx,En=Kx,nf=cm,d1=hd,Nm=u5,gd=um,xd=c5,Vc=G0,vd=dm,af=s1,yd=a1,qc=nl,Sm=Bl,Mi=l5,So[0]=rl,So[1]=Jw,So[2]=r5,So[3]=n5,So[4]=Qx,So[5]=V0,So[6]=e1,So[7]=im,So[8]=s5,So[9]=a5,Gc[0]=Zx,Gc[1]=e5,Gc[2]=Rl,Gc[3]=W0,Gc[4]=Ga,Gc[5]=t5,Gc[6]=Jx,Hl[0]=zc,Hl[1]=Qw,Hl[2]=i5,Hl[3]=om,Hl[4]=fd,Hl[5]=o5,Hl[6]=lm,L=1}else L=0}L&&(L=function(_e,Ye){for(_e.M=0;_e.M<_e.Va;++_e.M){var ze,Ne=_e.Jc[_e.M&_e.Xb],je=_e.m,qe=_e;for(ze=0;ze<qe.za;++ze){var Ze=je,Ke=qe,yt=Ke.Ac,ft=Ke.Bc+4*ze,Lt=Ke.zc,mt=Ke.ya[Ke.aa+ze];if(Ke.Qa.Bb?mt.$b=K(Ze,Ke.Pa.jb[0])?2+K(Ze,Ke.Pa.jb[2]):K(Ze,Ke.Pa.jb[1]):mt.$b=0,Ke.kc&&(mt.Ad=K(Ze,Ke.Bd)),mt.Za=!K(Ze,145)+0,mt.Za){var pr=mt.Ob,wr=0;for(Ke=0;4>Ke;++Ke){var or,nr=Lt[0+Ke];for(or=0;4>or;++or){nr=XG[yt[ft+or]][nr];for(var Fr=LE[K(Ze,nr[0])];0<Fr;)Fr=LE[2*Fr+K(Ze,nr[Fr])];nr=-Fr,yt[ft+or]=nr}n(pr,wr,yt,ft,4),wr+=4,Lt[0+Ke]=nr}}else nr=K(Ze,156)?K(Ze,128)?1:3:K(Ze,163)?2:0,mt.Ob[0]=nr,a(yt,ft,nr,4),a(Lt,0,nr,4);mt.Dd=K(Ze,142)?K(Ze,114)?K(Ze,183)?1:3:2:0}if(qe.m.Ka)return _n(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(qe=Ne,Ze=(je=_e).rb[je.sb-1],yt=je.rb[je.sb+je.ja],ze=je.ya[je.aa+je.ja],ft=je.kc?ze.Ad:0)Ze.la=yt.la=0,ze.Za||(Ze.Na=yt.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Tr,Kt;if(Ze=yt,yt=qe,ft=je.Pa.Xc,Lt=je.ya[je.aa+je.ja],mt=je.pb[Lt.$b],Ke=Lt.ad,pr=0,wr=je.rb[je.sb-1],nr=or=0,a(Ke,pr,0,384),Lt.Za)var Wn=0,zs=ft[3];else{Fr=s(16);var Hn=Ze.Na+wr.Na;if(Hn=Am(yt,ft[1],Hn,mt.Eb,0,Fr,0),Ze.Na=wr.Na=(0<Hn)+0,1<Hn)rf(Fr,0,Ke,pr);else{var Us=Fr[0]+3>>3;for(Fr=0;256>Fr;Fr+=16)Ke[pr+Fr]=Us}Wn=1,zs=ft[0]}var kr=15&Ze.la,ui=15&wr.la;for(Fr=0;4>Fr;++Fr){var di=1&ui;for(Us=Kt=0;4>Us;++Us)kr=kr>>1|(di=(Hn=Am(yt,zs,Hn=di+(1&kr),mt.Sc,Wn,Ke,pr))>Wn)<<7,Kt=Kt<<2|(3<Hn?3:1<Hn?2:Ke[pr+0]!=0),pr+=16;kr>>=4,ui=ui>>1|di<<7,or=(or<<8|Kt)>>>0}for(zs=kr,Wn=ui>>4,Tr=0;4>Tr;Tr+=2){for(Kt=0,kr=Ze.la>>4+Tr,ui=wr.la>>4+Tr,Fr=0;2>Fr;++Fr){for(di=1&ui,Us=0;2>Us;++Us)Hn=di+(1&kr),kr=kr>>1|(di=0<(Hn=Am(yt,ft[2],Hn,mt.Qc,0,Ke,pr)))<<3,Kt=Kt<<2|(3<Hn?3:1<Hn?2:Ke[pr+0]!=0),pr+=16;kr>>=2,ui=ui>>1|di<<5}nr|=Kt<<4*Tr,zs|=kr<<4<<Tr,Wn|=(240&ui)<<Tr}Ze.la=zs,wr.la=Wn,Lt.Hc=or,Lt.Gc=nr,Lt.ia=43690&nr?0:mt.ia,ft=!(or|nr)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[ze.$b][ze.Za],je.wa[je.Y+je.ja].La|=!ft),qe.Ka)return _n(_e,7,"Premature end-of-file encountered.")}if(nm(_e),je=Ye,qe=1,ze=(Ne=_e).D,Ze=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(ze.M=Ne.M,ze.uc=Ze,xm(Ne,ze),qe=1,ze=(Kt=Ne.D).Nb,Ze=(nr=w1[Ne.L])*Ne.R,yt=nr/2*Ne.B,Fr=16*ze*Ne.R,Us=8*ze*Ne.B,ft=Ne.sa,Lt=Ne.ta-Ze+Fr,mt=Ne.qa,Ke=Ne.ra-yt+Us,pr=Ne.Ha,wr=Ne.Ia-yt+Us,ui=(kr=Kt.M)==0,or=kr>=Ne.Va-1,Ne.Aa==2&&xm(Ne,Kt),Kt.uc)for(di=(Hn=Ne).D.M,t(Hn.D.uc),Kt=Hn.yb;Kt<Hn.Hb;++Kt){Wn=Kt,zs=di;var wa=(Da=(gn=Hn).D).Nb;Tr=gn.R;var Da=Da.wa[Da.Y+Wn],Ns=gn.sa,Ui=gn.ta+16*wa*Tr+16*Wn,sl=Da.dd,ka=Da.tc;if(ka!=0)if(t(3<=ka),gn.L==1)0<Wn&&qc(Ns,Ui,Tr,ka+4),Da.La&&Mi(Ns,Ui,Tr,ka),0<zs&&yd(Ns,Ui,Tr,ka+4),Da.La&&Sm(Ns,Ui,Tr,ka);else{var Vl=gn.B,bd=gn.qa,of=gn.ra+8*wa*Vl+8*Wn,Yc=gn.Ha,gn=gn.Ia+8*wa*Vl+8*Wn;wa=Da.ld,0<Wn&&(d1(Ns,Ui,Tr,ka+4,sl,wa),gd(bd,of,Yc,gn,Vl,ka+4,sl,wa)),Da.La&&(Vc(Ns,Ui,Tr,ka,sl,wa),af(bd,of,Yc,gn,Vl,ka,sl,wa)),0<zs&&(nf(Ns,Ui,Tr,ka+4,sl,wa),Nm(bd,of,Yc,gn,Vl,ka+4,sl,wa)),Da.La&&(xd(Ns,Ui,Tr,ka,sl,wa),vd(bd,of,Yc,gn,Vl,ka,sl,wa))}}if(Ne.ia&&alert("todo:DitherRow"),je.put!=null){if(Kt=16*kr,kr=16*(kr+1),ui?(je.y=Ne.sa,je.O=Ne.ta+Fr,je.f=Ne.qa,je.N=Ne.ra+Us,je.ea=Ne.Ha,je.W=Ne.Ia+Us):(Kt-=nr,je.y=ft,je.O=Lt,je.f=mt,je.N=Ke,je.ea=pr,je.W=wr),or||(kr-=nr),kr>je.o&&(kr=je.o),je.F=null,je.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Kt<kr&&(je.J=pm(Ne,je,Kt,kr-Kt),je.F=Ne.mb,je.F==null&&je.F.length==0)){qe=_n(Ne,3,"Could not decode alpha data.");break e}Kt<je.j&&(nr=je.j-Kt,Kt=je.j,t(!(1&nr)),je.O+=Ne.R*nr,je.N+=Ne.B*(nr>>1),je.W+=Ne.B*(nr>>1),je.F!=null&&(je.J+=je.width*nr)),Kt<kr&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=Kt-je.j,je.U=je.va-je.v,je.T=kr-Kt,qe=je.put(je))}ze+1!=Ne.Ic||or||(n(Ne.sa,Ne.ta-Ze,ft,Lt+16*Ne.R,Ze),n(Ne.qa,Ne.ra-yt,mt,Ke+8*Ne.B,yt),n(Ne.Ha,Ne.Ia-yt,pr,wr+8*Ne.B,yt))}if(!qe)return _n(_e,6,"Output aborted.")}return 1}(w,_)),_.bc!=null&&_.bc(_),L&=1}return L?(w.cb=0,L):0}function wo(w,_,L,W,Z){Z=w[_+L+32*W]+(Z>>3),w[_+L+32*W]=-256&Z?0>Z?0:255:Z}function $0(w,_,L,W,Z,re){wo(w,_,0,L,W+Z),wo(w,_,1,L,W+re),wo(w,_,2,L,W-re),wo(w,_,3,L,W-Z)}function Ms(w){return(20091*w>>16)+w}function am(w,_,L,W){var Z,re=0,ne=s(16);for(Z=0;4>Z;++Z){var se=w[_+0]+w[_+8],ie=w[_+0]-w[_+8],de=(35468*w[_+4]>>16)-Ms(w[_+12]),ke=Ms(w[_+4])+(35468*w[_+12]>>16);ne[re+0]=se+ke,ne[re+1]=ie+de,ne[re+2]=ie-de,ne[re+3]=se-ke,re+=4,_++}for(Z=re=0;4>Z;++Z)se=(w=ne[re+0]+4)+ne[re+8],ie=w-ne[re+8],de=(35468*ne[re+4]>>16)-Ms(ne[re+12]),wo(L,W,0,0,se+(ke=Ms(ne[re+4])+(35468*ne[re+12]>>16))),wo(L,W,1,0,ie+de),wo(L,W,2,0,ie-de),wo(L,W,3,0,se-ke),re++,W+=32}function Kx(w,_,L,W){var Z=w[_+0]+4,re=35468*w[_+4]>>16,ne=Ms(w[_+4]),se=35468*w[_+1]>>16;$0(L,W,0,Z+ne,w=Ms(w[_+1]),se),$0(L,W,1,Z+re,w,se),$0(L,W,2,Z-re,w,se),$0(L,W,3,Z-ne,w,se)}function Yw(w,_,L,W,Z){am(w,_,L,W),Z&&am(w,_+16,L,W+4)}function Yx(w,_,L,W){$l(w,_+0,L,W,1),$l(w,_+32,L,W+128,1)}function Xw(w,_,L,W){var Z;for(w=w[_+0]+4,Z=0;4>Z;++Z)for(_=0;4>_;++_)wo(L,W,_,Z,w)}function Xx(w,_,L,W){w[_+0]&&ks(w,_+0,L,W),w[_+16]&&ks(w,_+16,L,W+4),w[_+32]&&ks(w,_+32,L,W+128),w[_+48]&&ks(w,_+48,L,W+128+4)}function Zw(w,_,L,W){var Z,re=s(16);for(Z=0;4>Z;++Z){var ne=w[_+0+Z]+w[_+12+Z],se=w[_+4+Z]+w[_+8+Z],ie=w[_+4+Z]-w[_+8+Z],de=w[_+0+Z]-w[_+12+Z];re[0+Z]=ne+se,re[8+Z]=ne-se,re[4+Z]=de+ie,re[12+Z]=de-ie}for(Z=0;4>Z;++Z)ne=(w=re[0+4*Z]+3)+re[3+4*Z],se=re[1+4*Z]+re[2+4*Z],ie=re[1+4*Z]-re[2+4*Z],de=w-re[3+4*Z],L[W+0]=ne+se>>3,L[W+16]=de+ie>>3,L[W+32]=ne-se>>3,L[W+48]=de-ie>>3,W+=64}function sm(w,_,L){var W,Z=_-32,re=ci,ne=255-w[Z-1];for(W=0;W<L;++W){var se,ie=re,de=ne+w[_-1];for(se=0;se<L;++se)w[_+se]=ie[de+w[Z+se]];_+=32}}function Jw(w,_){sm(w,_,4)}function Qw(w,_){sm(w,_,8)}function e5(w,_){sm(w,_,16)}function Rl(w,_){var L;for(L=0;16>L;++L)n(w,_+32*L,w,_-32,16)}function W0(w,_){var L;for(L=16;0<L;--L)a(w,_,w[_-1],16),_+=32}function H0(w,_,L){var W;for(W=0;16>W;++W)a(_,L+32*W,w,16)}function Zx(w,_){var L,W=16;for(L=0;16>L;++L)W+=w[_-1+32*L]+w[_+L-32];H0(W>>5,w,_)}function Ga(w,_){var L,W=8;for(L=0;16>L;++L)W+=w[_-1+32*L];H0(W>>4,w,_)}function t5(w,_){var L,W=8;for(L=0;16>L;++L)W+=w[_+L-32];H0(W>>4,w,_)}function Jx(w,_){H0(128,w,_)}function Wt(w,_,L){return w+2*_+L+2>>2}function r5(w,_){var L,W=_-32;for(W=new Uint8Array([Wt(w[W-1],w[W+0],w[W+1]),Wt(w[W+0],w[W+1],w[W+2]),Wt(w[W+1],w[W+2],w[W+3]),Wt(w[W+2],w[W+3],w[W+4])]),L=0;4>L;++L)n(w,_+32*L,W,0,W.length)}function n5(w,_){var L=w[_-1],W=w[_-1+32],Z=w[_-1+64],re=w[_-1+96];ce(w,_+0,16843009*Wt(w[_-1-32],L,W)),ce(w,_+32,16843009*Wt(L,W,Z)),ce(w,_+64,16843009*Wt(W,Z,re)),ce(w,_+96,16843009*Wt(Z,re,re))}function rl(w,_){var L,W=4;for(L=0;4>L;++L)W+=w[_+L-32]+w[_-1+32*L];for(W>>=3,L=0;4>L;++L)a(w,_+32*L,W,4)}function Qx(w,_){var L=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1-32],ne=w[_+0-32],se=w[_+1-32],ie=w[_+2-32],de=w[_+3-32];w[_+0+96]=Wt(W,Z,w[_-1+96]),w[_+1+96]=w[_+0+64]=Wt(L,W,Z),w[_+2+96]=w[_+1+64]=w[_+0+32]=Wt(re,L,W),w[_+3+96]=w[_+2+64]=w[_+1+32]=w[_+0+0]=Wt(ne,re,L),w[_+3+64]=w[_+2+32]=w[_+1+0]=Wt(se,ne,re),w[_+3+32]=w[_+2+0]=Wt(ie,se,ne),w[_+3+0]=Wt(de,ie,se)}function e1(w,_){var L=w[_+1-32],W=w[_+2-32],Z=w[_+3-32],re=w[_+4-32],ne=w[_+5-32],se=w[_+6-32],ie=w[_+7-32];w[_+0+0]=Wt(w[_+0-32],L,W),w[_+1+0]=w[_+0+32]=Wt(L,W,Z),w[_+2+0]=w[_+1+32]=w[_+0+64]=Wt(W,Z,re),w[_+3+0]=w[_+2+32]=w[_+1+64]=w[_+0+96]=Wt(Z,re,ne),w[_+3+32]=w[_+2+64]=w[_+1+96]=Wt(re,ne,se),w[_+3+64]=w[_+2+96]=Wt(ne,se,ie),w[_+3+96]=Wt(se,ie,ie)}function V0(w,_){var L=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1-32],ne=w[_+0-32],se=w[_+1-32],ie=w[_+2-32],de=w[_+3-32];w[_+0+0]=w[_+1+64]=re+ne+1>>1,w[_+1+0]=w[_+2+64]=ne+se+1>>1,w[_+2+0]=w[_+3+64]=se+ie+1>>1,w[_+3+0]=ie+de+1>>1,w[_+0+96]=Wt(Z,W,L),w[_+0+64]=Wt(W,L,re),w[_+0+32]=w[_+1+96]=Wt(L,re,ne),w[_+1+32]=w[_+2+96]=Wt(re,ne,se),w[_+2+32]=w[_+3+96]=Wt(ne,se,ie),w[_+3+32]=Wt(se,ie,de)}function im(w,_){var L=w[_+0-32],W=w[_+1-32],Z=w[_+2-32],re=w[_+3-32],ne=w[_+4-32],se=w[_+5-32],ie=w[_+6-32],de=w[_+7-32];w[_+0+0]=L+W+1>>1,w[_+1+0]=w[_+0+64]=W+Z+1>>1,w[_+2+0]=w[_+1+64]=Z+re+1>>1,w[_+3+0]=w[_+2+64]=re+ne+1>>1,w[_+0+32]=Wt(L,W,Z),w[_+1+32]=w[_+0+96]=Wt(W,Z,re),w[_+2+32]=w[_+1+96]=Wt(Z,re,ne),w[_+3+32]=w[_+2+96]=Wt(re,ne,se),w[_+3+64]=Wt(ne,se,ie),w[_+3+96]=Wt(se,ie,de)}function a5(w,_){var L=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1+96];w[_+0+0]=L+W+1>>1,w[_+2+0]=w[_+0+32]=W+Z+1>>1,w[_+2+32]=w[_+0+64]=Z+re+1>>1,w[_+1+0]=Wt(L,W,Z),w[_+3+0]=w[_+1+32]=Wt(W,Z,re),w[_+3+32]=w[_+1+64]=Wt(Z,re,re),w[_+3+64]=w[_+2+64]=w[_+0+96]=w[_+1+96]=w[_+2+96]=w[_+3+96]=re}function s5(w,_){var L=w[_-1+0],W=w[_-1+32],Z=w[_-1+64],re=w[_-1+96],ne=w[_-1-32],se=w[_+0-32],ie=w[_+1-32],de=w[_+2-32];w[_+0+0]=w[_+2+32]=L+ne+1>>1,w[_+0+32]=w[_+2+64]=W+L+1>>1,w[_+0+64]=w[_+2+96]=Z+W+1>>1,w[_+0+96]=re+Z+1>>1,w[_+3+0]=Wt(se,ie,de),w[_+2+0]=Wt(ne,se,ie),w[_+1+0]=w[_+3+32]=Wt(L,ne,se),w[_+1+32]=w[_+3+64]=Wt(W,L,ne),w[_+1+64]=w[_+3+96]=Wt(Z,W,L),w[_+1+96]=Wt(re,Z,W)}function i5(w,_){var L;for(L=0;8>L;++L)n(w,_+32*L,w,_-32,8)}function om(w,_){var L;for(L=0;8>L;++L)a(w,_,w[_-1],8),_+=32}function dd(w,_,L){var W;for(W=0;8>W;++W)a(_,L+32*W,w,8)}function zc(w,_){var L,W=8;for(L=0;8>L;++L)W+=w[_+L-32]+w[_-1+32*L];dd(W>>4,w,_)}function o5(w,_){var L,W=4;for(L=0;8>L;++L)W+=w[_+L-32];dd(W>>3,w,_)}function fd(w,_){var L,W=4;for(L=0;8>L;++L)W+=w[_-1+32*L];dd(W>>3,w,_)}function lm(w,_){dd(128,w,_)}function q0(w,_,L){var W=w[_-L],Z=w[_+0],re=3*(Z-W)+h5[1020+w[_-2*L]-w[_+L]],ne=h1[112+(re+4>>3)];w[_-L]=ci[255+W+h1[112+(re+3>>3)]],w[_+0]=ci[255+Z-ne]}function t1(w,_,L,W){var Z=w[_+0],re=w[_+L];return Bi[255+w[_-2*L]-w[_-L]]>W||Bi[255+re-Z]>W}function r1(w,_,L,W){return 4*Bi[255+w[_-L]-w[_+0]]+Bi[255+w[_-2*L]-w[_+L]]<=W}function n1(w,_,L,W,Z){var re=w[_-3*L],ne=w[_-2*L],se=w[_-L],ie=w[_+0],de=w[_+L],ke=w[_+2*L],Oe=w[_+3*L];return 4*Bi[255+se-ie]+Bi[255+ne-de]>W?0:Bi[255+w[_-4*L]-re]<=Z&&Bi[255+re-ne]<=Z&&Bi[255+ne-se]<=Z&&Bi[255+Oe-ke]<=Z&&Bi[255+ke-de]<=Z&&Bi[255+de-ie]<=Z}function a1(w,_,L,W){var Z=2*W+1;for(W=0;16>W;++W)r1(w,_+W,L,Z)&&q0(w,_+W,L)}function nl(w,_,L,W){var Z=2*W+1;for(W=0;16>W;++W)r1(w,_+W*L,1,Z)&&q0(w,_+W*L,1)}function Bl(w,_,L,W){var Z;for(Z=3;0<Z;--Z)a1(w,_+=4*L,L,W)}function l5(w,_,L,W){var Z;for(Z=3;0<Z;--Z)nl(w,_+=4,L,W)}function Uc(w,_,L,W,Z,re,ne,se){for(re=2*re+1;0<Z--;){if(n1(w,_,L,re,ne))if(t1(w,_,L,se))q0(w,_,L);else{var ie=w,de=_,ke=L,Oe=ie[de-2*ke],Fe=ie[de-ke],_e=ie[de+0],Ye=ie[de+ke],ze=ie[de+2*ke],Ne=27*(qe=h5[1020+3*(_e-Fe)+h5[1020+Oe-Ye]])+63>>7,je=18*qe+63>>7,qe=9*qe+63>>7;ie[de-3*ke]=ci[255+ie[de-3*ke]+qe],ie[de-2*ke]=ci[255+Oe+je],ie[de-ke]=ci[255+Fe+Ne],ie[de+0]=ci[255+_e-Ne],ie[de+ke]=ci[255+Ye-je],ie[de+2*ke]=ci[255+ze-qe]}_+=W}}function ko(w,_,L,W,Z,re,ne,se){for(re=2*re+1;0<Z--;){if(n1(w,_,L,re,ne))if(t1(w,_,L,se))q0(w,_,L);else{var ie=w,de=_,ke=L,Oe=ie[de-ke],Fe=ie[de+0],_e=ie[de+ke],Ye=h1[112+((ze=3*(Fe-Oe))+4>>3)],ze=h1[112+(ze+3>>3)],Ne=Ye+1>>1;ie[de-2*ke]=ci[255+ie[de-2*ke]+Ne],ie[de-ke]=ci[255+Oe+ze],ie[de+0]=ci[255+Fe-Ye],ie[de+ke]=ci[255+_e-Ne]}_+=W}}function cm(w,_,L,W,Z,re){Uc(w,_,L,1,16,W,Z,re)}function hd(w,_,L,W,Z,re){Uc(w,_,1,L,16,W,Z,re)}function c5(w,_,L,W,Z,re){var ne;for(ne=3;0<ne;--ne)ko(w,_+=4*L,L,1,16,W,Z,re)}function G0(w,_,L,W,Z,re){var ne;for(ne=3;0<ne;--ne)ko(w,_+=4,1,L,16,W,Z,re)}function u5(w,_,L,W,Z,re,ne,se){Uc(w,_,Z,1,8,re,ne,se),Uc(L,W,Z,1,8,re,ne,se)}function um(w,_,L,W,Z,re,ne,se){Uc(w,_,1,Z,8,re,ne,se),Uc(L,W,1,Z,8,re,ne,se)}function dm(w,_,L,W,Z,re,ne,se){ko(w,_+4*Z,Z,1,8,re,ne,se),ko(L,W+4*Z,Z,1,8,re,ne,se)}function s1(w,_,L,W,Z,re,ne,se){ko(w,_+4,1,Z,8,re,ne,se),ko(L,W+4,1,Z,8,re,ne,se)}function K0(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function fm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function hm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function i1(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new P}function d5(){this.xb=this.a=0,this.l=new tl,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new i1,this.ab=0,this.gc=i(4,hm),this.Oc=0}function Y0(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function md(w,_,L,W,Z,re,ne){for(w=w==null?0:w[_+0],_=0;_<ne;++_)Z[re+_]=w+L[W+_]&255,w=Z[re+_]}function mm(w,_,L,W,Z,re,ne){var se;if(w==null)md(null,null,L,W,Z,re,ne);else for(se=0;se<ne;++se)Z[re+se]=w[_+se]+L[W+se]&255}function $c(w,_,L,W,Z,re,ne){if(w==null)md(null,null,L,W,Z,re,ne);else{var se,ie=w[_+0],de=ie,ke=ie;for(se=0;se<ne;++se)de=ke+(ie=w[_+se])-de,ke=L[W+se]+(-256&de?0>de?0:255:de)&255,de=ie,Z[re+se]=ke}}function pm(w,_,L,W){var Z=_.width,re=_.o;if(t(w!=null&&_!=null),0>L||0>=W||L+W>re)return null;if(!w.Cc){if(w.ga==null){var ne;if(w.ga=new Y0,(ne=w.ga==null)||(ne=_.width*_.o,t(w.Gb.length==0),w.Gb=s(ne),w.Uc=0,w.Gb==null?ne=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ne=1),ne=!ne),!ne){ne=w.ga;var se=w.Fa,ie=w.P,de=w.qc,ke=w.mb,Oe=w.nb,Fe=ie+1,_e=de-1,Ye=ne.l;if(t(se!=null&&ke!=null&&_!=null),Kc[0]=null,Kc[1]=md,Kc[2]=mm,Kc[3]=$c,ne.ca=ke,ne.tb=Oe,ne.c=_.width,ne.i=_.height,t(0<ne.c&&0<ne.i),1>=de)_=0;else if(ne.$a=se[ie+0]>>0&3,ne.Z=se[ie+0]>>2&3,ne.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ie)_=0;else if(Ye.put=vr,Ye.ac=Ge,Ye.bc=ys,Ye.ma=ne,Ye.width=_.width,Ye.height=_.height,Ye.Da=_.Da,Ye.v=_.v,Ye.va=_.va,Ye.j=_.j,Ye.o=_.o,ne.$a)e:{t(ne.$a==1),_=Be();t:for(;;){if(_==null){_=0;break e}if(t(ne!=null),ne.mc=_,_.c=ne.c,_.i=ne.i,_.l=ne.l,_.l.ma=ne,_.l.width=ne.c,_.l.height=ne.i,_.a=0,Y(_.m,se,Fe,_e),!Pe(ne.c,ne.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&oe(_.s)?(ne.ic=1,se=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(se),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ne.ic=0,_=Le(_,ne.c)),!_))break t;_=1;break e}ne.mc=null,_=0}else _=_e>=ne.c*ne.i;ne=!_}if(ne)return null;w.ga.Lc!=1?w.Ga=0:W=re-L}t(w.ga!=null),t(L+W<=re);e:{if(_=(se=w.ga).c,re=se.l.o,se.$a==0){if(Fe=w.rc,_e=w.Vc,Ye=w.Fa,ie=w.P+1+L*_,de=w.mb,ke=w.nb+L*_,t(ie<=w.P+w.qc),se.Z!=0)for(t(Kc[se.Z]!=null),ne=0;ne<W;++ne)Kc[se.Z](Fe,_e,Ye,ie,de,ke,_),Fe=de,_e=ke,ke+=_,ie+=_;else for(ne=0;ne<W;++ne)n(de,ke,Ye,ie,_),Fe=de,_e=ke,ke+=_,ie+=_;w.rc=Fe,w.Vc=_e}else{if(t(se.mc!=null),_=L+W,t((ne=se.mc)!=null),t(_<=ne.i),ne.C>=_)_=1;else if(se.ic||Ee(),se.ic){se=ne.V,Fe=ne.Ba,_e=ne.c;var ze=ne.i,Ne=(Ye=1,ie=ne.$/_e,de=ne.$%_e,ke=ne.m,Oe=ne.s,ne.$),je=_e*ze,qe=_e*_,Ze=Oe.wc,Ke=Ne<qe?yr(Oe,de,ie):null;t(Ne<=je),t(_<=ze),t(oe(Oe));t:for(;;){for(;!ke.h&&Ne<qe;){if(de&Ze||(Ke=yr(Oe,de,ie)),t(Ke!=null),X(ke),256>(ze=ya(Ke.G[0],Ke.H[0],ke)))se[Fe+Ne]=ze,++Ne,++de>=_e&&(de=0,++ie<=_&&!(ie%16)&&he(ne,ie));else{if(!(280>ze)){Ye=0;break t}ze=bs(ze-256,ke);var yt,ft=ya(Ke.G[4],Ke.H[4],ke);if(X(ke),!(Ne>=(ft=An(_e,ft=bs(ft,ke)))&&je-Ne>=ze)){Ye=0;break t}for(yt=0;yt<ze;++yt)se[Fe+Ne+yt]=se[Fe+Ne+yt-ft];for(Ne+=ze,de+=ze;de>=_e;)de-=_e,++ie<=_&&!(ie%16)&&he(ne,ie);Ne<qe&&de&Ze&&(Ke=yr(Oe,de,ie))}t(ke.h==B(ke))}he(ne,ie>_?_:ie);break t}!Ye||ke.h&&Ne<je?(Ye=0,ne.a=ke.h?5:3):ne.$=Ne,_=Ye}else _=me(ne,ne.V,ne.Ba,ne.c,ne.i,_,Ie);if(!_){W=0;break e}}L+W>=re&&(w.Cc=1),W=1}if(!W)return null;if(w.Cc&&((W=w.ga)!=null&&(W.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+L*Z}function O(w,_,L,W,Z,re){for(;0<Z--;){var ne,se=w,ie=_+(L?1:0),de=w,ke=_+(L?0:3);for(ne=0;ne<W;++ne){var Oe=de[ke+4*ne];Oe!=255&&(Oe*=32897,se[ie+4*ne+0]=se[ie+4*ne+0]*Oe>>23,se[ie+4*ne+1]=se[ie+4*ne+1]*Oe>>23,se[ie+4*ne+2]=se[ie+4*ne+2]*Oe>>23)}_+=re}}function J(w,_,L,W,Z){for(;0<W--;){var re;for(re=0;re<L;++re){var ne=w[_+2*re+0],se=15&(de=w[_+2*re+1]),ie=4369*se,de=(240&de|de>>4)*ie>>16;w[_+2*re+0]=(240&ne|ne>>4)*ie>>16&240|(15&ne|ne<<4)*ie>>16>>4&15,w[_+2*re+1]=240&de|se}_+=Z}}function ge(w,_,L,W,Z,re,ne,se){var ie,de,ke=255;for(de=0;de<Z;++de){for(ie=0;ie<W;++ie){var Oe=w[_+ie];re[ne+4*ie]=Oe,ke&=Oe}_+=L,ne+=se}return ke!=255}function we(w,_,L,W,Z){var re;for(re=0;re<Z;++re)L[W+re]=w[_+re]>>8}function Ee(){Ri=O,Mr=J,Rr=ge,Cn=we}function $e(w,_,L){E[w]=function(W,Z,re,ne,se,ie,de,ke,Oe,Fe,_e,Ye,ze,Ne,je,qe,Ze){var Ke,yt=Ze-1>>1,ft=se[ie+0]|de[ke+0]<<16,Lt=Oe[Fe+0]|_e[Ye+0]<<16;t(W!=null);var mt=3*ft+Lt+131074>>2;for(_(W[Z+0],255&mt,mt>>16,ze,Ne),re!=null&&(mt=3*Lt+ft+131074>>2,_(re[ne+0],255&mt,mt>>16,je,qe)),Ke=1;Ke<=yt;++Ke){var pr=se[ie+Ke]|de[ke+Ke]<<16,wr=Oe[Fe+Ke]|_e[Ye+Ke]<<16,or=ft+pr+Lt+wr+524296,nr=or+2*(pr+Lt)>>3;mt=nr+ft>>1,ft=(or=or+2*(ft+wr)>>3)+pr>>1,_(W[Z+2*Ke-1],255&mt,mt>>16,ze,Ne+(2*Ke-1)*L),_(W[Z+2*Ke-0],255&ft,ft>>16,ze,Ne+(2*Ke-0)*L),re!=null&&(mt=or+Lt>>1,ft=nr+wr>>1,_(re[ne+2*Ke-1],255&mt,mt>>16,je,qe+(2*Ke-1)*L),_(re[ne+2*Ke+0],255&ft,ft>>16,je,qe+(2*Ke+0)*L)),ft=pr,Lt=wr}1&Ze||(mt=3*ft+Lt+131074>>2,_(W[Z+Ze-1],255&mt,mt>>16,ze,Ne+(Ze-1)*L),re!=null&&(mt=3*Lt+ft+131074>>2,_(re[ne+Ze-1],255&mt,mt>>16,je,qe+(Ze-1)*L)))}}function et(){zi[m1]=eK,zi[p1]=IE,zi[PE]=tK,zi[g1]=ME,zi[x1]=RE,zi[m5]=BE,zi[OE]=rK,zi[p5]=IE,zi[g5]=ME,zi[v1]=RE,zi[x5]=BE}function vt(w){return w&-16384?0>w?0:255:w>>nK}function Tt(w,_){return vt((19077*w>>8)+(26149*_>>8)-14234)}function Gt(w,_,L){return vt((19077*w>>8)-(6419*_>>8)-(13320*L>>8)+8708)}function Ht(w,_){return vt((19077*w>>8)+(33050*_>>8)-17685)}function sr(w,_,L,W,Z){W[Z+0]=Tt(w,L),W[Z+1]=Gt(w,_,L),W[Z+2]=Ht(w,_)}function sn(w,_,L,W,Z){W[Z+0]=Ht(w,_),W[Z+1]=Gt(w,_,L),W[Z+2]=Tt(w,L)}function pn(w,_,L,W,Z){var re=Gt(w,_,L);_=re<<3&224|Ht(w,_)>>3,W[Z+0]=248&Tt(w,L)|re>>5,W[Z+1]=_}function $n(w,_,L,W,Z){var re=240&Ht(w,_)|15;W[Z+0]=240&Tt(w,L)|Gt(w,_,L)>>4,W[Z+1]=re}function Ka(w,_,L,W,Z){W[Z+0]=255,sr(w,_,L,W,Z+1)}function ba(w,_,L,W,Z){sn(w,_,L,W,Z),W[Z+3]=255}function No(w,_,L,W,Z){sr(w,_,L,W,Z),W[Z+3]=255}function li(w,_){return 0>w?0:w>_?_:w}function al(w,_,L){E[w]=function(W,Z,re,ne,se,ie,de,ke,Oe){for(var Fe=ke+(-2&Oe)*L;ke!=Fe;)_(W[Z+0],re[ne+0],se[ie+0],de,ke),_(W[Z+1],re[ne+0],se[ie+0],de,ke+L),Z+=2,++ne,++ie,ke+=2*L;1&Oe&&_(W[Z+0],re[ne+0],se[ie+0],de,ke)}}function o1(w,_,L){return L==0?w==0?_==0?6:5:_==0?4:0:L}function gm(w,_,L,W,Z){switch(w>>>30){case 3:$l(_,L,W,Z,0);break;case 2:En(_,L,W,Z);break;case 1:ks(_,L,W,Z)}}function xm(w,_){var L,W,Z=_.M,re=_.Nb,ne=w.oc,se=w.pc+40,ie=w.oc,de=w.pc+584,ke=w.oc,Oe=w.pc+600;for(L=0;16>L;++L)ne[se+32*L-1]=129;for(L=0;8>L;++L)ie[de+32*L-1]=129,ke[Oe+32*L-1]=129;for(0<Z?ne[se-1-32]=ie[de-1-32]=ke[Oe-1-32]=129:(a(ne,se-32-1,127,21),a(ie,de-32-1,127,9),a(ke,Oe-32-1,127,9)),W=0;W<w.za;++W){var Fe=_.ya[_.aa+W];if(0<W){for(L=-1;16>L;++L)n(ne,se+32*L-4,ne,se+32*L+12,4);for(L=-1;8>L;++L)n(ie,de+32*L-4,ie,de+32*L+4,4),n(ke,Oe+32*L-4,ke,Oe+32*L+4,4)}var _e=w.Gd,Ye=w.Hd+W,ze=Fe.ad,Ne=Fe.Hc;if(0<Z&&(n(ne,se-32,_e[Ye].y,0,16),n(ie,de-32,_e[Ye].f,0,8),n(ke,Oe-32,_e[Ye].ea,0,8)),Fe.Za){var je=ne,qe=se-32+16;for(0<Z&&(W>=w.za-1?a(je,qe,_e[Ye].y[15],4):n(je,qe,_e[Ye+1].y,0,4)),L=0;4>L;L++)je[qe+128+L]=je[qe+256+L]=je[qe+384+L]=je[qe+0+L];for(L=0;16>L;++L,Ne<<=2)je=ne,qe=se+UE[L],So[Fe.Ob[L]](je,qe),gm(Ne,ze,16*+L,je,qe)}else if(je=o1(W,Z,Fe.Ob[0]),Gc[je](ne,se),Ne!=0)for(L=0;16>L;++L,Ne<<=2)gm(Ne,ze,16*+L,ne,se+UE[L]);for(L=Fe.Gc,je=o1(W,Z,Fe.Dd),Hl[je](ie,de),Hl[je](ke,Oe),Ne=ze,je=ie,qe=de,255&(Fe=L>>0)&&(170&Fe?km(Ne,256,je,qe):Ii(Ne,256,je,qe)),Fe=ke,Ne=Oe,255&(L>>=8)&&(170&L?km(ze,320,Fe,Ne):Ii(ze,320,Fe,Ne)),Z<w.Ub-1&&(n(_e[Ye].y,0,ne,se+480,16),n(_e[Ye].f,0,ie,de+224,8),n(_e[Ye].ea,0,ke,Oe+224,8)),L=8*re*w.B,_e=w.sa,Ye=w.ta+16*W+16*re*w.R,ze=w.qa,Fe=w.ra+8*W+L,Ne=w.Ha,je=w.Ia+8*W+L,L=0;16>L;++L)n(_e,Ye+L*w.R,ne,se+32*L,16);for(L=0;8>L;++L)n(ze,Fe+L*w.B,ie,de+32*L,8),n(Ne,je+L*w.B,ke,Oe+32*L,8)}}function X0(w,_,L,W,Z,re,ne,se,ie){var de=[0],ke=[0],Oe=0,Fe=ie!=null?ie.kd:0,_e=ie??new fm;if(w==null||12>L)return 7;_e.data=w,_e.w=_,_e.ha=L,_=[_],L=[L],_e.gb=[_e.gb];e:{var Ye=_,ze=L,Ne=_e.gb;if(t(w!=null),t(ze!=null),t(Ne!=null),Ne[0]=0,12<=ze[0]&&!r(w,Ye[0],"RIFF")){if(r(w,Ye[0]+8,"WEBP")){Ne=3;break e}var je=Ce(w,Ye[0]+4);if(12>je||4294967286<je){Ne=3;break e}if(Fe&&je>ze[0]-8){Ne=7;break e}Ne[0]=je,Ye[0]+=12,ze[0]-=12}Ne=0}if(Ne!=0)return Ne;for(je=0<_e.gb[0],L=L[0];;){e:{var qe=w;ze=_,Ne=L;var Ze=de,Ke=ke,yt=Ye=[0];if((mt=Oe=[Oe])[0]=0,8>Ne[0])Ne=7;else{if(!r(qe,ze[0],"VP8X")){if(Ce(qe,ze[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ft=Ce(qe,ze[0]+8),Lt=1+G(qe,ze[0]+12);if(2147483648<=Lt*(qe=1+G(qe,ze[0]+15))){Ne=3;break e}yt!=null&&(yt[0]=ft),Ze!=null&&(Ze[0]=Lt),Ke!=null&&(Ke[0]=qe),ze[0]+=18,Ne[0]-=18,mt[0]=1}Ne=0}}if(Oe=Oe[0],Ye=Ye[0],Ne!=0)return Ne;if(ze=!!(2&Ye),!je&&Oe)return 3;if(re!=null&&(re[0]=!!(16&Ye)),ne!=null&&(ne[0]=ze),se!=null&&(se[0]=0),ne=de[0],Ye=ke[0],Oe&&ze&&ie==null){Ne=0;break}if(4>L){Ne=7;break}if(je&&Oe||!je&&!Oe&&!r(w,_[0],"ALPH")){L=[L],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ft=w,Ne=_,je=L;var mt=_e.gb;Ze=_e.na,Ke=_e.P,yt=_e.Sa,Lt=22,t(ft!=null),t(je!=null),qe=Ne[0];var pr=je[0];for(t(Ze!=null),t(yt!=null),Ze[0]=null,Ke[0]=null,yt[0]=0;;){if(Ne[0]=qe,je[0]=pr,8>pr){Ne=7;break e}var wr=Ce(ft,qe+4);if(4294967286<wr){Ne=3;break e}var or=8+wr+1&-2;if(Lt+=or,0<mt&&Lt>mt){Ne=3;break e}if(!r(ft,qe,"VP8 ")||!r(ft,qe,"VP8L")){Ne=0;break e}if(pr[0]<or){Ne=7;break e}r(ft,qe,"ALPH")||(Ze[0]=ft,Ke[0]=qe+8,yt[0]=wr),qe+=or,pr-=or}}if(L=L[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Ne!=0)break}L=[L],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(mt=w,Ne=_,je=L,Ze=_e.gb[0],Ke=_e.Ja,yt=_e.xa,ft=Ne[0],qe=!r(mt,ft,"VP8 "),Lt=!r(mt,ft,"VP8L"),t(mt!=null),t(je!=null),t(Ke!=null),t(yt!=null),8>je[0])Ne=7;else{if(qe||Lt){if(mt=Ce(mt,ft+4),12<=Ze&&mt>Ze-12){Ne=3;break e}if(Fe&&mt>je[0]-8){Ne=7;break e}Ke[0]=mt,Ne[0]+=8,je[0]-=8,yt[0]=Lt}else yt[0]=5<=je[0]&&mt[ft+0]==47&&!(mt[ft+4]>>5),Ke[0]=je[0];Ne=0}if(L=L[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],_=_[0],Ne!=0)break;if(4294967286<_e.Ja)return 3;if(se==null||ze||(se[0]=_e.xa?2:1),ne=[ne],Ye=[Ye],_e.xa){if(5>L){Ne=7;break}se=ne,Fe=Ye,ze=re,w==null||5>L?w=0:5<=L&&w[_+0]==47&&!(w[_+4]>>5)?(je=[0],mt=[0],Ze=[0],Y(Ke=new F,w,_,L),Ot(Ke,je,mt,Ze)?(se!=null&&(se[0]=je[0]),Fe!=null&&(Fe[0]=mt[0]),ze!=null&&(ze[0]=Ze[0]),w=1):w=0):w=0}else{if(10>L){Ne=7;break}se=Ye,w==null||10>L||!Vx(w,_+3,L-3)?w=0:(Fe=w[_+0]|w[_+1]<<8|w[_+2]<<16,ze=16383&(w[_+7]<<8|w[_+6]),w=16383&(w[_+9]<<8|w[_+8]),1&Fe||3<(Fe>>1&7)||!(Fe>>4&1)||Fe>>5>=_e.Ja||!ze||!w?w=0:(ne&&(ne[0]=ze),se&&(se[0]=w),w=1))}if(!w||(ne=ne[0],Ye=Ye[0],Oe&&(de[0]!=ne||ke[0]!=Ye)))return 3;ie!=null&&(ie[0]=_e,ie.offset=_-ie.w,t(4294967286>_-ie.w),t(ie.offset==ie.ha-L));break}return Ne==0||Ne==7&&Oe&&ie==null?(re!=null&&(re[0]|=_e.na!=null&&0<_e.na.length),W!=null&&(W[0]=ne),Z!=null&&(Z[0]=Ye),0):Ne}function vm(w,_,L){var W=_.width,Z=_.height,re=0,ne=0,se=W,ie=Z;if(_.Da=w!=null&&0<w.Da,_.Da&&(se=w.cd,ie=w.bd,re=w.v,ne=w.j,11>L||(re&=-2,ne&=-2),0>re||0>ne||0>=se||0>=ie||re+se>W||ne+ie>Z))return 0;if(_.v=re,_.j=ne,_.va=re+se,_.o=ne+ie,_.U=se,_.T=ie,_.da=w!=null&&0<w.da,_.da){if(!Me(se,ie,L=[w.ib],re=[w.hb]))return 0;_.ib=L[0],_.hb=re[0]}return _.ob=w!=null&&w.ob,_.Kb=w==null||!w.Sd,_.da&&(_.ob=_.ib<3*W/4&&_.hb<3*Z/4,_.Kb=0),1}function ym(w){if(w==null)return 2;if(11>w.S){var _=w.f.RGBA;_.fb+=(w.height-1)*_.A,_.A=-_.A}else _=w.f.kb,w=w.height,_.O+=(w-1)*_.fa,_.fa=-_.fa,_.N+=(w-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(w-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(w-1)*_.lb,_.lb=-_.lb);return 0}function Z0(w,_,L,W){if(W==null||0>=w||0>=_)return 2;if(L!=null){if(L.Da){var Z=L.cd,re=L.bd,ne=-2&L.v,se=-2&L.j;if(0>ne||0>se||0>=Z||0>=re||ne+Z>w||se+re>_)return 2;w=Z,_=re}if(L.da){if(!Me(w,_,Z=[L.ib],re=[L.hb]))return 2;w=Z[0],_=re[0]}}W.width=w,W.height=_;e:{var ie=W.width,de=W.height;if(w=W.S,0>=ie||0>=de||!(w>=m1&&13>w))w=2;else{if(0>=W.Rd&&W.sd==null){ne=re=Z=_=0;var ke=(se=ie*$E[w])*de;if(11>w||(re=(de+1)/2*(_=(ie+1)/2),w==12&&(ne=(Z=ie)*de)),(de=s(ke+2*re+ne))==null){w=1;break e}W.sd=de,11>w?((ie=W.f.RGBA).eb=de,ie.fb=0,ie.A=se,ie.size=ke):((ie=W.f.kb).y=de,ie.O=0,ie.fa=se,ie.Fd=ke,ie.f=de,ie.N=0+ke,ie.Ab=_,ie.Cd=re,ie.ea=de,ie.W=0+ke+re,ie.Db=_,ie.Ed=re,w==12&&(ie.F=de,ie.J=0+ke+2*re),ie.Tc=ne,ie.lb=Z)}if(_=1,Z=W.S,re=W.width,ne=W.height,Z>=m1&&13>Z)if(11>Z)w=W.f.RGBA,_&=(se=Math.abs(w.A))*(ne-1)+re<=w.size,_&=se>=re*$E[Z],_&=w.eb!=null;else{w=W.f.kb,se=(re+1)/2,ke=(ne+1)/2,ie=Math.abs(w.fa),de=Math.abs(w.Ab);var Oe=Math.abs(w.Db),Fe=Math.abs(w.lb),_e=Fe*(ne-1)+re;_&=ie*(ne-1)+re<=w.Fd,_&=de*(ke-1)+se<=w.Cd,_=(_&=Oe*(ke-1)+se<=w.Ed)&ie>=re&de>=se&Oe>=se,_&=w.y!=null,_&=w.f!=null,_&=w.ea!=null,Z==12&&(_&=Fe>=re,_&=_e<=w.Tc,_&=w.F!=null)}else _=0;w=_?0:2}}return w!=0||L!=null&&L.fd&&(w=ym(W)),w}var La=64,J0=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Q0=24,ef=32,bm=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(w){return w},E.Predictor2=function(w,_,L){return _[L+0]},E.Predictor3=function(w,_,L){return _[L+1]},E.Predictor4=function(w,_,L){return _[L-1]},E.Predictor5=function(w,_,L){return Je(Je(w,_[L+1]),_[L+0])},E.Predictor6=function(w,_,L){return Je(w,_[L-1])},E.Predictor7=function(w,_,L){return Je(w,_[L+0])},E.Predictor8=function(w,_,L){return Je(_[L-1],_[L+0])},E.Predictor9=function(w,_,L){return Je(_[L+0],_[L+1])},E.Predictor10=function(w,_,L){return Je(Je(w,_[L-1]),Je(_[L+0],_[L+1]))},E.Predictor11=function(w,_,L){var W=_[L+0];return 0>=at(W>>24&255,w>>24&255,(_=_[L-1])>>24&255)+at(W>>16&255,w>>16&255,_>>16&255)+at(W>>8&255,w>>8&255,_>>8&255)+at(255&W,255&w,255&_)?W:w},E.Predictor12=function(w,_,L){var W=_[L+0];return(dt((w>>24&255)+(W>>24&255)-((_=_[L-1])>>24&255))<<24|dt((w>>16&255)+(W>>16&255)-(_>>16&255))<<16|dt((w>>8&255)+(W>>8&255)-(_>>8&255))<<8|dt((255&w)+(255&W)-(255&_)))>>>0},E.Predictor13=function(w,_,L){var W=_[L-1];return(be((w=Je(w,_[L+0]))>>24&255,W>>24&255)<<24|be(w>>16&255,W>>16&255)<<16|be(w>>8&255,W>>8&255)<<8|be(w>>0&255,W>>0&255))>>>0};var f5=E.PredictorAdd0;E.PredictorAdd1=ht,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var wm=E.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var l1,Di=E.ColorIndexInverseTransform,tf=E.MapARGB,c1=E.VP8LColorIndexInverseTransformAlpha,u1=E.MapAlpha,Wc=E.VP8LPredictorsAdd=[];Wc.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var pd,Bs,ws,Hc,zl,Ul,rf,$l,En,km,ks,Ii,nf,d1,Nm,gd,xd,Vc,vd,af,yd,qc,Sm,Mi,Ri,Mr,Rr,Cn,sa=s(511),Wl=s(2041),jm=s(225),sf=s(767),f1=0,h5=Wl,h1=jm,ci=sf,Bi=sa,m1=0,p1=1,PE=2,g1=3,x1=4,m5=5,OE=6,p5=7,g5=8,v1=9,x5=10,zG=[2,3,7],UG=[3,3,11],FE=[280,256,256,256,40],$G=[0,1,1,1,0],WG=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HG=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],VG=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qG=8,v5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],y5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Am=null,GG=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],KG=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],YG=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],XG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ZG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],JG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gc=[],So=[],Hl=[],QG=1,DE=2,Kc=[],zi=[];$e("UpsampleRgbLinePair",sr,3),$e("UpsampleBgrLinePair",sn,3),$e("UpsampleRgbaLinePair",No,4),$e("UpsampleBgraLinePair",ba,4),$e("UpsampleArgbLinePair",Ka,4),$e("UpsampleRgba4444LinePair",$n,2),$e("UpsampleRgb565LinePair",pn,2);var eK=E.UpsampleRgbLinePair,tK=E.UpsampleBgrLinePair,IE=E.UpsampleRgbaLinePair,ME=E.UpsampleBgraLinePair,RE=E.UpsampleArgbLinePair,BE=E.UpsampleRgba4444LinePair,rK=E.UpsampleRgb565LinePair,y1=16,b1=1<<y1-1,_m=-227,b5=482,nK=6,zE=0,aK=s(256),sK=s(256),iK=s(256),oK=s(256),lK=s(b5-_m),cK=s(b5-_m);al("YuvToRgbRow",sr,3),al("YuvToBgrRow",sn,3),al("YuvToRgbaRow",No,4),al("YuvToBgraRow",ba,4),al("YuvToArgbRow",Ka,4),al("YuvToRgba4444Row",$n,2),al("YuvToRgb565Row",pn,2);var UE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],w1=[0,2,8],uK=[8,7,6,4,4,2,2,2,1,1,1,1],dK=1;this.WebPDecodeRGBA=function(w,_,L,W,Z){var re=p1,ne=new K0,se=new Dt;ne.ba=se,se.S=re,se.width=[se.width],se.height=[se.height];var ie=se.width,de=se.height,ke=new Ft;if(ke==null||w==null)var Oe=2;else t(ke!=null),Oe=X0(w,_,L,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Oe!=0?ie=0:(ie!=null&&(ie[0]=ke.width[0]),de!=null&&(de[0]=ke.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],W!=null&&(W[0]=se.width),Z!=null&&(Z[0]=se.height);e:{if(W=new tl,(Z=new fm).data=w,Z.w=_,Z.ha=L,Z.kd=1,_=[0],t(Z!=null),((w=X0(Z.data,Z.w,Z.ha,null,null,null,_,null,Z))==0||w==7)&&_[0]&&(w=4),(_=w)==0){if(t(ne!=null),W.data=Z.data,W.w=Z.w+Z.offset,W.ha=Z.ha-Z.offset,W.put=vr,W.ac=Ge,W.bc=ys,W.ma=ne,Z.xa){if((w=Be())==null){ne=1;break e}if(function(Fe,_e){var Ye=[0],ze=[0],Ne=[0];t:for(;;){if(Fe==null)return 0;if(_e==null)return Fe.a=2,0;if(Fe.l=_e,Fe.a=0,Y(Fe.m,_e.data,_e.w,_e.ha),!Ot(Fe.m,Ye,ze,Ne)){Fe.a=3;break t}if(Fe.xb=DE,_e.width=Ye[0],_e.height=ze[0],!Pe(Ye[0],ze[0],1,Fe,null))break t;return 1}return t(Fe.a!=0),0}(w,W)){if(W=(_=Z0(W.width,W.height,ne.Oa,ne.ba))==0){t:{W=w;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((L=W.l)!=null),t((Z=L.ma)!=null),W.xb!=0){if(W.ca=Z.ba,W.tb=Z.tb,t(W.ca!=null),!vm(Z.Oa,L,g1)){W.a=2;break r}if(!Le(W,L.width)||L.da)break r;if((L.da||Qt(W.ca.S))&&Ee(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ee()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Ve(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!me(W,W.V,W.Ba,W.c,W.i,L.o,fe))break r;Z.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(_=w.a)}else _=w.a}else{if((w=new oi)==null){ne=1;break e}if(w.Fa=Z.na,w.P=Z.P,w.qc=Z.Sa,qx(w,W)){if((_=Z0(W.width,W.height,ne.Oa,ne.ba))==0){if(w.Aa=0,L=ne.Oa,t((Z=w)!=null),L!=null){if(0<(ie=0>(ie=L.Md)?0:100<ie?255:255*ie/100)){for(de=ke=0;4>de;++de)12>(Oe=Z.pb[de]).lc&&(Oe.ia=ie*uK[0>Oe.lc?0:Oe.lc]>>3),ke|=Oe.ia;ke&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=L.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Kw(w,W)||(_=w.a)}}else _=w.a}_==0&&ne.Oa!=null&&ne.Oa.fd&&(_=ym(ne.ba))}ne=_}re=ne!=0?null:11>re?se.f.RGBA.eb:se.f.kb.y}else re=null;return re};var $E=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,C){for(var I="",T=0;T<4;T++)I+=String.fromCharCode(E[C++]);return I}function d(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16)>>>0}function f(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16|E[C+3]<<24)>>>0}new c;var h=[0],m=[0],p=[],g=new c,x=e,v=function(E,C){var I={},T=0,P=!1,H=0,q=0;if(I.frames=[],!function(M,B,D,X){for(var V=0;V<X;V++)if(M[B+V]!=D.charCodeAt(V))return!0;return!1}(E,C,"RIFF",4)){var ae,R;for(f(E,C+=4),C+=8;C<E.length;){var z=u(E,C),Y=f(E,C+=4);C+=4;var U=Y+(1&Y);switch(z){case"VP8 ":case"VP8L":I.frames[T]===void 0&&(I.frames[T]={}),(F=I.frames[T]).src_off=P?q:C-8,F.src_size=H+Y+8,T++,P&&(P=!1,H=0,q=0);break;case"VP8X":(F=I.header={}).feature_flags=E[C];var Q=C+4;F.canvas_width=1+d(E,Q),Q+=3,F.canvas_height=1+d(E,Q),Q+=3;break;case"ALPH":P=!0,H=U+8,q=C-8;break;case"ANIM":(F=I.header).bgcolor=f(E,C),Q=C+4,F.loop_count=(ae=E)[(R=Q)+0]<<0|ae[R+1]<<8,Q+=2;break;case"ANMF":var pe,F;(F=I.frames[T]={}).offset_x=2*d(E,C),C+=3,F.offset_y=2*d(E,C),C+=3,F.width=1+d(E,C),C+=3,F.height=1+d(E,C),C+=3,F.duration=d(E,C),C+=3,pe=E[C++],F.dispose=1&pe,F.blend=pe>>1&1}z!="ANMF"&&(C+=U)}return I}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],m=[y.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var A=b[0],S=g.WebPDecodeRGBA(x,A.src_off,A.src_size,m,h);A.rgba=S,A.imgwidth=m[0],A.imgheight=h[0];for(var j=0;j<m[0]*h[0]*4;j++)p[j]=S[j];return this.width=m,this.height=h,this.data=p,this}(function(e){var t=function(){return typeof V4=="function"},r=function(h,m,p,g){var x=4,v=i;switch(g){case e.image_compression.FAST:x=1,v=s;break;case e.image_compression.MEDIUM:x=6,v=l;break;case e.image_compression.SLOW:x=9,v=c}h=n(h,m,p,v);var y=V4(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,m,p,g){for(var x,v,y,b=h.length/m,N=new Uint8Array(h.length+b),A=d(),S=0;S<b;S+=1){if(y=S*m,x=h.subarray(y,y+m),g)N.set(g(x,p,v),y+S);else{for(var j,E=A.length,C=[];j<E;j+=1)C[j]=A[j](x,p,v);var I=f(C.concat());N.set(C[I],y+S)}v=x}return N},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},s=function(h,m){var p,g=[],x=h.length;g[0]=1;for(var v=0;v<x;v+=1)p=h[v-m]||0,g[v+1]=h[v]-p+256&255;return g},i=function(h,m,p){var g,x=[],v=h.length;x[0]=2;for(var y=0;y<v;y+=1)g=p&&p[y]||0,x[y+1]=h[y]-g+256&255;return x},l=function(h,m,p){var g,x,v=[],y=h.length;v[0]=3;for(var b=0;b<y;b+=1)g=h[b-m]||0,x=p&&p[b]||0,v[b+1]=h[b]+256-(g+x>>>1)&255;return v},c=function(h,m,p){var g,x,v,y,b=[],N=h.length;b[0]=4;for(var A=0;A<N;A+=1)g=h[A-m]||0,x=p&&p[A]||0,v=p&&p[A-m]||0,y=u(g,x,v),b[A+1]=h[A]-y+256&255;return b},u=function(h,m,p){if(h===m&&m===p)return h;var g=Math.abs(m-p),x=Math.abs(h-p),v=Math.abs(h+m-p-p);return g<=x&&g<=v?h:x<=v?m:p},d=function(){return[a,s,i,l,c]},f=function(h){var m=h.map(function(p){return p.reduce(function(g,x){return g+Math.abs(x)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,p,g){var x,v,y,b,N,A,S,j,E,C,I,T,P,H,q,ae=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new xfe(h)).imgData,v=y.bits,x=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){E=(j=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,I=new Uint8Array(E*y.colors),C=new Uint8Array(E);var z,Y=y.pixelBitlength-y.bits;for(H=0,q=0;H<E;H++){for(P=j[H],z=0;z<Y;)I[q++]=P>>>z&255,z+=y.bits;C[H]=P>>>z&255}}if(y.bits===16){E=(j=new Uint32Array(y.decodePixels().buffer)).length,I=new Uint8Array(E*(32/y.pixelBitlength)*y.colors),C=new Uint8Array(E*(32/y.pixelBitlength)),T=y.colors>1,H=0,q=0;for(var U=0;H<E;)P=j[H++],I[q++]=P>>>0&255,T&&(I[q++]=P>>>16&255,P=j[H++],I[q++]=P>>>0&255),C[U++]=P>>>16&255;v=8}g!==e.image_compression.NONE&&t()?(h=r(I,y.width*y.colors,y.colors,g),S=r(C,y.width,1,g)):(h=I,S=C,ae=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,A=y.palette,y.transparency.indexed)){var Q=y.transparency.indexed,pe=0;for(H=0,E=Q.length;H<E;++H)pe+=Q[H];if((pe/=255)===E-1&&Q.indexOf(0)!==-1)b=[Q.indexOf(0)];else if(pe!==E){for(j=y.decodePixels(),C=new Uint8Array(j.length),H=0,E=j.length;H<E;H++)C[H]=Q[j[H]];S=r(C,y.width,1)}}var F=function(M){var B;switch(M){case e.image_compression.FAST:B=11;break;case e.image_compression.MEDIUM:B=13;break;case e.image_compression.SLOW:B=14;break;default:B=12}return B}(g);return ae===this.decode.FLATE_DECODE&&(R="/Predictor "+F+" "),R+="/Colors "+N+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:p,data:h,index:m,filter:ae,decodeParameters:R,transparency:b,palette:A,sMask:S,predictor:F,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:x}}}})(Et.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new vfe(t),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:l},d=new Pk(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Et.API),Co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Co.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Lr.log("bit decode error:"+r)}},Co.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Co.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Co.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Co.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},Co.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Co.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Co.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},Co.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Co(t,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new Pk(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Et.API),v8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new v8(t),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},u=new Pk(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Et.API),Et.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];s[l++]=d,s[l++]=f,s[l++]=h,i[c++]=m}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gf=Et.API,uv=gf.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,p=0,g=l[0]||c,x=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(h=f&&_r(u[n])==="object"&&!isNaN(parseInt(u[n][p],10))?u[n][p]/d:0,x.push((l[n]||g)/c+h)),p=n;return x},m8=gf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return gf.processArabic&&(e=gf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:uv.apply(this,arguments).reduce(function(s,i){return s+i},0)},p8=function(e,t,r,n){for(var a=[],s=0,i=e.length,l=0;s!==i&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==i;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},g8=function(e,t,r){r||(r={});var n,a,s,i,l,c,u,d=[],f=[d],h=r.textIndent||0,m=0,p=0,g=e.split(" "),x=uv.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),y=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(A,S){return(S&&A.length?`
`:"")+A})):y.push(N[0])}),g=y,c=m8.apply(this,[v,r])}for(s=0,i=g.length;s<i;s++){var b=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+m+(p=(a=uv.apply(this,[n,r])).reduce(function(N,A){return N+A},0))>t||b){if(p>t){for(l=p8.apply(this,[n,a,t-(h+m),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);p=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,A){return N+A},0)}else d=[n];f.push(d),h=p+c,m=x}else d.push(n),h+=m+p,m=x}return u=c?function(N,A){return(A?v:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(u)},gf.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(g8.apply(this,[n[l],i,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var h,m,p,g,x=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?m="'"+v+"'":(v=parseInt(v,10),m=(m=s(v).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(p=s(h).slice(3),g="-"):(p=s(h).slice(2),g=""),p=g+p.slice(0,-1)+n[p.slice(-1)];else{if(_r(h)!=="object")throw new Error("Don't know what to do with value type "+_r(h)+".");p=i(h)}x.push(m+p)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,p,g,x={},v=1,y=x,b=[],N="",A="",S=f.length-1,j=1;j<S;j+=1)(g=f[j])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([y,p]),y={},p=void 0):g=="}"?((m=b.pop())[0][m[1]]=y,p=void 0,y=m[0]):g=="-"?v=-1:p===void 0?r.hasOwnProperty(g)?(N+=r[g],p=parseInt(N,16)*v,v=1,N=""):N+=g:r.hasOwnProperty(g)?(A+=r[g],y[p]=parseInt(A,16)*v,v=1,p=void 0,A=""):A+=g;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(Et.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(_p(l)),i.metadata=e.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Et),function(e){function t(){return(Rt.canvg?Promise.resolve(Rt.canvg):Ky(()=>import("./index.es-5Ldrkbx6.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Et.API.addSvgAsImage=function(r,n,a,s,i,l,c,u){if(isNaN(n)||isNaN(a))throw Lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(p){return p.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,s,i,c,u)})}}(),Et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],u=0,d=0,f=0;function h(p,g){var x,v=!1;for(x=0;x<p.length;x+=1)p[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(_r(e)==="object"){for(a in e)if(s=e[a],h(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?g.push("/"+p+" /"+r[p].value):g.push("/"+p+" "+r[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(l=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var i,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(m,p){return m-p})).length;f<h;f++)i=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,d=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+kf(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+kf(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+kf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,u=i.newObject,d=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var p=u();d({data:h,addLength1:!0,objectId:p}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+kf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+kf(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,m=f.activeFontKey,p=f.fonts,g=m,x="",v=0,y="",b=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,g=m,Array.isArray(l)&&(y=l[0]),v=0;v<y.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(i=p[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),i||y[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?x+=y[v]:x+="";var N="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?N=h(x,g).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(N=r(x,p[g])),f.isHex=!0,{text:N,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?l.push([a(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):l.push(a(Object.assign({},c,{text:i[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])}(Et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var N=function(T){var P=T.charCodeAt(),H=P>>8,q=g[H];return q!==void 0?f[256*q+(255&P)]:H===252||H===253?"AL":v.test(H)?"L":H===8?"R":"N"},A=function(T){for(var P,H=0;H<T.length;H++){if((P=N(T.charAt(H)))==="L")return!1;if(P==="R")return!0}return!1},S=function(T,P,H,q){var ae,R,z,Y,U=P[q];switch(U){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(U="AN");break;case"AL":y=!0,U="R";break;case"WS":U="N";break;case"CS":q<1||q+1>=P.length||(ae=H[q-1])!=="EN"&&ae!=="AN"||(R=P[q+1])!=="EN"&&R!=="AN"?U="N":y&&(R="AN"),U=R===ae?R:"N";break;case"ES":U=(ae=q>0?H[q-1]:"B")==="EN"&&q+1<P.length&&P[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&H[q-1]==="EN"){U="EN";break}if(y){U="N";break}for(z=q+1,Y=P.length;z<Y&&P[z]==="ET";)z++;U=z<Y&&P[z]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(Y=P.length,z=q+1;z<Y&&P[z]==="NSM";)z++;if(z<Y){var Q=T[q],pe=Q>=1425&&Q<=2303||Q===64286;if(ae=P[z],pe&&(ae==="R"||ae==="AL")){U="R";break}}}U=q<1||(ae=P[q-1])==="B"?"N":H[q-1];break;case"B":y=!1,a=!0,U=b;break;case"S":s=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":U="N"}return U},j=function(T,P,H){var q=T.split("");return H&&E(q,H,{hiLevel:b}),q.reverse(),P&&P.reverse(),q.join("")},E=function(T,P,H){var q,ae,R,z,Y,U=-1,Q=T.length,pe=0,F=[],M=b?m:h,B=[];for(y=!1,a=!1,s=!1,ae=0;ae<Q;ae++)B[ae]=N(T[ae]);for(R=0;R<Q;R++){if(Y=pe,F[R]=S(T,B,F,R),q=240&(pe=M[Y][p[F[R]]]),pe&=15,P[R]=z=M[pe][5],q>0)if(q===16){for(ae=U;ae<R;ae++)P[ae]=1;U=-1}else U=-1;if(M[pe][6])U===-1&&(U=R);else if(U>-1){for(ae=U;ae<R;ae++)P[ae]=z;U=-1}B[R]==="B"&&(P[R]=0),H.hiLevel|=z}s&&function(D,X,V){for(var ee=0;ee<V;ee++)if(D[ee]==="S"){X[ee]=b;for(var K=ee-1;K>=0&&D[K]==="WS";K--)X[K]=b}}(B,P,Q)},C=function(T,P,H,q,ae){if(!(ae.hiLevel<T)){if(T===1&&b===1&&!a)return P.reverse(),void(H&&H.reverse());for(var R,z,Y,U,Q=P.length,pe=0;pe<Q;){if(q[pe]>=T){for(Y=pe+1;Y<Q&&q[Y]>=T;)Y++;for(U=pe,z=Y-1;U<z;U++,z--)R=P[U],P[U]=P[z],P[z]=R,H&&(R=H[U],H[U]=H[z],H[z]=R);pe=Y}pe++}}},I=function(T,P,H){var q=T.split(""),ae={hiLevel:b};return H||(H=[]),E(q,H,ae),function(R,z,Y){if(Y.hiLevel!==0&&d)for(var U,Q=0;Q<R.length;Q++)z[Q]===1&&(U=x.indexOf(R[Q]))>=0&&(R[Q]=x[U+1])}(q,H,ae),C(2,q,P,H,ae),C(1,q,P,H,ae),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,H){if(function(ae,R){if(R)for(var z=0;z<ae.length;z++)R[z]=z;l===void 0&&(l=A(ae)),u===void 0&&(u=A(ae))}(T,P),i||!c||u)if(i&&c&&l^u)b=l?1:0,T=j(T,P,H);else if(!i&&c&&u)b=l?1:0,T=I(T,P,H),T=j(T,P);else if(!i||l||c||u){if(i&&!c&&l^u)T=j(T,P),l?(b=0,T=I(T,P,H)):(b=1,T=I(T,P,H),T=j(T,P));else if(i&&l&&!c&&u)b=1,T=I(T,P,H),T=j(T,P);else if(!i&&!c&&l^u){var q=d;l?(b=1,T=I(T,P,H),b=0,d=!1,T=I(T,P,H),d=q):(b=0,T=I(T,P,H),T=j(T,P),b=1,d=!1,T=I(T,P,H),d=q,T=j(T,P))}}else b=0,T=I(T,P,H);else b=l?1:0,T=I(T,P,H);return T},this.__bidiEngine__.setOptions=function(T){T&&(i=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([r.doBidiReorder(a[l])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Wu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Ffe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yfe(this.contents),this.head=new wfe(this),this.name=new Afe(this),this.cmap=new JB(this),this.toUnicode={},this.hhea=new kfe(this),this.maxp=new _fe(this),this.hmtx=new Efe(this),this.post=new Sfe(this),this.os2=new Nfe(this),this.loca=new Ofe(this),this.glyf=new Cfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,u;for(u=[],i=0,l=(c=this.bbox).length;i<l;i++)t=c[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,l;for(i=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Jo,Wu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),yfe=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,l,c,u,d,f,h,m,p,g;for(g in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),i=Math.floor(f/c),d=16*m-f,(a=new Wu).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*m,u=a.pos+s,l=null,p=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),p=p.concat(h),g==="head"&&(l=u),u+=h.length;u%4;)p.push(0),u++;return a.write(p),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=QB.call(r);r.length%4;)r.push(0);for(s=new Wu(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),bfe={}.hasOwnProperty,Dl=function(e,t){for(var r in t)bfe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Jo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var wfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Wu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),y8=function(){function e(t,r){var n,a,s,i,l,c,u,d,f,h,m,p,g,x,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,s=function(){var N,A;for(A=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)A.push(t.readUInt16());return A}(),t.pos+=2,g=function(){var N,A;for(A=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)A.push(t.readUInt16());return A}(),u=function(){var N,A;for(A=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)A.push(t.readUInt16());return A}(),d=function(){var N,A;for(A=[],c=N=0;0<=h?N<h:N>h;c=0<=h?++N:--N)A.push(t.readUInt16());return A}(),a=(this.length-t.pos+this.offset)/2,l=function(){var N,A;for(A=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)A.push(t.readUInt16());return A}(),c=v=0,b=s.length;v<b;c=++v)for(x=s[c],n=y=p=g[c];p<=x?y<=x:y>=x;n=p<=x?++y:--y)d[c]===0?i=n+u[c]:(i=l[d[c]/2+(n-p)-(h-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,s,i,l,c,u,d,f,h,m,p,g,x,v,y,b,N,A,S,j,E,C,I,T,P,H,q,ae,R,z,Y,U,Q,pe,F,M,B,D,X,V,ee,K,ce,xe,G;switch(q=new Wu,i=Object.keys(t).sort(function(Ce,Ve){return Ce-Ve}),r){case"macroman":for(g=0,x=function(){var Ce=[];for(p=0;p<256;++p)Ce.push(0);return Ce}(),y={0:0},s={},ae=0,U=i.length;ae<U;ae++)y[K=t[a=i[ae]]]==null&&(y[K]=++g),s[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:s,subtable:q.data,maxGlyphID:g+1};case"unicode":for(P=[],f=[],b=0,y={},n={},v=u=null,R=0,Q=i.length;R<Q;R++)y[A=t[a=i[R]]]==null&&(y[A]=++b),n[a]={old:A,new:y[A]},l=y[A]-a,v!=null&&l===u||(v&&f.push(v),P.push(a),u=l),v=a;for(v&&f.push(v),f.push(65535),P.push(65535),I=2*(C=P.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,j=2*C-E,c=[],S=[],m=[],p=z=0,pe=P.length;z<pe;p=++z){if(T=P[p],d=f[p],T===65535){c.push(0),S.push(0);break}if(T-(H=n[T].new)>=32768)for(c.push(0),S.push(2*(m.length+C-p)),a=Y=T;T<=d?Y<=d:Y>=d;a=T<=d?++Y:--Y)m.push(n[a].new);else c.push(H-T),S.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*C+2*m.length),q.writeUInt16(0),q.writeUInt16(I),q.writeUInt16(E),q.writeUInt16(h),q.writeUInt16(j),V=0,F=f.length;V<F;V++)a=f[V],q.writeUInt16(a);for(q.writeUInt16(0),ee=0,M=P.length;ee<M;ee++)a=P[ee],q.writeUInt16(a);for(ce=0,B=c.length;ce<B;ce++)l=c[ce],q.writeUInt16(l);for(xe=0,D=S.length;xe<D;xe++)N=S[xe],q.writeUInt16(N);for(G=0,X=m.length;G<X;G++)g=m[G],q.writeUInt16(g);return{charMap:n,subtable:q.data,maxGlyphID:b+1}}},e}(),JB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new y8(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=y8.encode(r,n),(s=new Wu).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),kfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Nfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Sfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),jfe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Afe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,i,l,c,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),l=new jfe(d,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),_fe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Efe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,i,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),QB=[].slice,Cfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,i,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Wu(n.read(s))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new Pfe(c,d,h,u,f):new Tfe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,i,l,c,u;for(l=[],i=[],c=0,u=n.length;c<u;c++)s=r[n[c]],i.push(l.length),s&&(l=l.concat(s.encode(a)));return i.push(l.length),{table:l,offsets:i}},t}(),Tfe=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Pfe=function(){function e(t,r,n,a,s){var i,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Wu(QB.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Ofe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Dl(t,Jo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,l=0;l<a.length;++l)if(a[l]=s,i<n.length&&n[i]==l){++i,a[l]=s;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),Ffe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,l,c;for(a={},i=0,l=t.length;i<l;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,l,c,u,d,f,h,m,p,g,x,v;for(a in n=JB.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),m={0:0},v=n.charMap)m[(c=v[a]).old]=c.new;for(p in h=n.maxGlyphID,i)p in m||(m[p]=h++);return d=function(y){var b,N;for(b in N={},y)N[y[b]]=b;return N}(m),f=Object.keys(d).sort(function(y,b){return y-b}),g=function(){var y,b,N;for(N=[],y=0,b=f.length;y<b;y++)l=f[y],N.push(d[l]);return N}(),s=this.font.glyf.encode(i,g,m),u=this.font.loca.encode(s.offsets,g),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();const Lfe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:dfe,AcroFormAppearance:kt,AcroFormButton:oa,AcroFormCheckBox:Tp,AcroFormChoiceField:Xd,AcroFormComboBox:Jd,AcroFormEditBox:Ep,AcroFormListBox:Zd,AcroFormPasswordField:Pp,AcroFormPushButton:Cp,AcroFormRadioButton:Qd,AcroFormTextField:Fu,GState:Ng,ShadingPattern:du,TilingPattern:Dd,default:Et,jsPDF:Et},Symbol.toStringTag,{value:"Module"}));var ez={exports:{}};const Dfe=AK(Lfe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return Dfe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof P5<"u"?P5:typeof window<"u"?window:typeof self<"u"?self:P5,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(m,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},h(m,p)};return function(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(m,p);function g(){this.constructor=m}m.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(m,p,g){this.table=p,this.pageNumber=p.pageNumber,this.pageCount=this.pageNumber,this.settings=p.settings,this.cursor=g,this.doc=m.getDocument()}return h}();c.HookData=d;var f=function(h){u(m,h);function m(p,g,x,v,y,b){var N=h.call(this,p,g,b)||this;return N.cell=x,N.row=v,N.column=y,N.section=v.section,N}return m}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),m=u(776),p=u(664),g=u(972);function x(v){v.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var N;y.length===1?N=y[0]:(console.error("Use of deprecated autoTable initiation"),N=y[2]||{},N.columns=y[0],N.body=y[1]);var A=(0,m.parseInput)(this,N),S=(0,g.createTable)(this,A);return(0,p.drawTable)(this,S),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(y,b,N,A){(0,f.default)(y,b,N,A,this)},v.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},v.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},v.API.autoTableHtmlToJson=function(y,b){var N;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var A=new h.DocHandler(this),S=(0,d.parseHtml)(A,y,window,b,!1),j=S.head,E=S.body,C=((N=j[0])===null||N===void 0?void 0:N.map(function(I){return I.content}))||[];return{columns:C,rows:E,data:E}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},v.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=y,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,m,p){m=m||{};var g=1.15,x=p.internal.scaleFactor,v=p.internal.getFontSize()/x,y=p.getLineHeightFactor?p.getLineHeightFactor():g,b=v*y,N=/\r\n|\r|\n/g,A="",S=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(A=typeof d=="string"?d.split(N):d,S=A.length||1),h+=v*(2-g),m.valign==="middle"?h-=S/2*b:m.valign==="bottom"&&(h-=S*b),m.halign==="center"||m.halign==="right"){var j=v;if(m.halign==="center"&&(j*=.5),A&&S>=1){for(var E=0;E<A.length;E++)p.text(A[E],f-p.getStringUnitWidth(A[E])*j,h),h+=b;return p}f-=p.getStringUnitWidth(d)*j}return m.halign==="justify"?p.text(d,f,h,{maxWidth:m.maxWidth||100,align:"justify"}):p.text(d,f,h),p}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(p,g,x){x.applyStyles(g,!0);var v=Array.isArray(p)?p:[p],y=v.map(function(b){return x.getTextWidth(b)}).reduce(function(b,N){return Math.max(b,N)},0);return y}c.getStringWidth=u;function d(p,g,x,v){var y=g.settings.tableLineWidth,b=g.settings.tableLineColor;p.applyStyles({lineWidth:y,lineColor:b});var N=f(y,!1);N&&p.rect(x.x,x.y,g.getWidth(p.pageSize().width),v.y-x.y,N)}c.addTableBorder=d;function f(p,g){var x=p>0,v=g||g===0;return x&&v?"DF":x?"S":v?"F":null}c.getFillStyle=f;function h(p,g){var x,v,y,b;if(p=p||g,Array.isArray(p)){if(p.length>=4)return{top:p[0],right:p[1],bottom:p[2],left:p[3]};if(p.length===3)return{top:p[0],right:p[1],bottom:p[2],left:p[1]};if(p.length===2)return{top:p[0],right:p[1],bottom:p[0],left:p[1]};p.length===1?p=p[0]:p=g}return typeof p=="object"?(typeof p.vertical=="number"&&(p.top=p.vertical,p.bottom=p.vertical),typeof p.horizontal=="number"&&(p.right=p.horizontal,p.left=p.horizontal),{left:(x=p.left)!==null&&x!==void 0?x:g,top:(v=p.top)!==null&&v!==void 0?v:g,right:(y=p.right)!==null&&y!==void 0?y:g,bottom:(b=p.bottom)!==null&&b!==void 0?b:g}):(typeof p!="number"&&(p=g),{top:p,right:p,bottom:p,left:p})}c.parseSpacing=h;function m(p,g){var x=h(g.settings.margin,0);return p.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=m},796:function(l,c){var u=this&&this.__extends||function(){var m=function(p,g){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(x[y]=v[y])},m(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");m(p,g);function x(){this.constructor=p}p.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(m){u(p,m);function p(g){var x=m.call(this)||this;return x._element=g,x}return p}(Array);c.HtmlRowInput=d;function f(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(m){var p={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return p[m]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(x,v,y,b,N){var A={},S=1.3333333333333333,j=m(v,function(U){return N.getComputedStyle(U).backgroundColor});j!=null&&(A.fillColor=j);var E=m(v,function(U){return N.getComputedStyle(U).color});E!=null&&(A.textColor=E);var C=g(b,y);C&&(A.cellPadding=C);var I="borderTopColor",T=S*y,P=b.borderTopWidth;if(b.borderBottomWidth===P&&b.borderRightWidth===P&&b.borderLeftWidth===P){var H=(parseFloat(P)||0)/T;H&&(A.lineWidth=H)}else A.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/T,right:(parseFloat(b.borderRightWidth)||0)/T,bottom:(parseFloat(b.borderBottomWidth)||0)/T,left:(parseFloat(b.borderLeftWidth)||0)/T},A.lineWidth.top||(A.lineWidth.right?I="borderRightColor":A.lineWidth.bottom?I="borderBottomColor":A.lineWidth.left&&(I="borderLeftColor"));var q=m(v,function(U){return N.getComputedStyle(U)[I]});q!=null&&(A.lineColor=q);var ae=["left","right","center","justify"];ae.indexOf(b.textAlign)!==-1&&(A.halign=b.textAlign),ae=["middle","bottom","top"],ae.indexOf(b.verticalAlign)!==-1&&(A.valign=b.verticalAlign);var R=parseInt(b.fontSize||"");isNaN(R)||(A.fontSize=R/S);var z=h(b);z&&(A.fontStyle=z);var Y=(b.fontFamily||"").toLowerCase();return x.indexOf(Y)!==-1&&(A.font=Y),A}c.parseCss=f;function h(x){var v="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(v="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(v+="italic"),v}function m(x,v){var y=p(x,v);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var N=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],A=parseInt(b[4]);return A===0||isNaN(N[0])||isNaN(N[1])||isNaN(N[2])?null:N}function p(x,v){var y=v(x);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?x.parentElement==null?null:p(x.parentElement,v):y}function g(x,v){var y=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],b=96/(72/v),N=(parseInt(x.lineHeight)-parseInt(x.fontSize))/v/2,A=y.map(function(j){return parseInt(j||"0")/b}),S=(0,d.parseSpacing)(A,0);return N>S.top&&(S.top=N),N>S.bottom&&(S.bottom=N),S}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,m){var p,g,x;m===void 0&&(m=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),y=v.fontStyle,b=v.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var N=this.getFontList()[b];N&&N.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N[0]),y=N[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!m){var A=f.unifyColor(h.fillColor);A&&(p=this.jsPDFDocument).setFillColor.apply(p,A),A=f.unifyColor(h.textColor),A&&(g=this.jsPDFDocument).setTextColor.apply(g,A),A=f.unifyColor(h.lineColor),A&&(x=this.jsPDFDocument).setDrawColor.apply(x,A),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,m,p){return this.jsPDFDocument.splitTextToSize(h,m,p)},f.prototype.rect=function(h,m,p,g,x){return this.jsPDFDocument.rect(h,m,p,g,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(g,x,v,y,b){var N,A;y===void 0&&(y=!1),b===void 0&&(b=!1);var S;typeof x=="string"?S=v.document.querySelector(x):S=x;var j=Object.keys(g.getFontList()),E=g.scaleFactor(),C=[],I=[],T=[];if(!S)return console.error("Html table could not be found with input: ",x),{head:C,body:I,foot:T};for(var P=0;P<S.rows.length;P++){var H=S.rows[P],q=(A=(N=H==null?void 0:H.parentElement)===null||N===void 0?void 0:N.tagName)===null||A===void 0?void 0:A.toLowerCase(),ae=m(j,E,v,H,y,b);ae&&(q==="thead"?C.push(ae):q==="tfoot"?T.push(ae):I.push(ae))}return{head:C,body:I,foot:T}}c.parseHtml=h;function m(g,x,v,y,b,N){for(var A=new f.HtmlRowInput(y),S=0;S<y.cells.length;S++){var j=y.cells[S],E=v.getComputedStyle(j);if(b||E.display!=="none"){var C=void 0;N&&(C=(0,d.parseCss)(g,j,x,E,v)),A.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:C,_element:j,content:p(j)})}}var I=v.getComputedStyle(y);if(A.length>0&&(b||I.display!=="none"))return A}function p(g){var x=g.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),m=u(744),p=u(792);function g(S,j){var E=new m.DocHandler(S),C=E.getDocumentOptions(),I=E.getGlobalOptions();(0,p.default)(E,I,C,j);var T=(0,f.assign)({},I,C,j),P;typeof window<"u"&&(P=window);var H=x(I,C,j),q=v(I,C,j),ae=y(E,T),R=N(E,T,P);return{id:j.tableId,content:R,hooks:q,styles:H,settings:ae}}c.parseInput=g;function x(S,j,E){for(var C={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},I=function(q){if(q==="columnStyles"){var ae=S[q],R=j[q],z=E[q];C.columnStyles=(0,f.assign)({},ae,R,z)}else{var Y=[S,j,E],U=Y.map(function(Q){return Q[q]||{}});C[q]=(0,f.assign)({},U[0],U[1],U[2])}},T=0,P=Object.keys(C);T<P.length;T++){var H=P[T];I(H)}return C}function v(S,j,E){for(var C=[S,j,E],I={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},T=0,P=C;T<P.length;T++){var H=P[T];H.didParseCell&&I.didParseCell.push(H.didParseCell),H.willDrawCell&&I.willDrawCell.push(H.willDrawCell),H.didDrawCell&&I.didDrawCell.push(H.didDrawCell),H.willDrawPage&&I.willDrawPage.push(H.willDrawPage),H.didDrawPage&&I.didDrawPage.push(H.didDrawPage)}return I}function y(S,j){var E,C,I,T,P,H,q,ae,R,z,Y,U,Q=(0,h.parseSpacing)(j.margin,40/S.scaleFactor()),pe=(E=b(S,j.startY))!==null&&E!==void 0?E:Q.top,F;j.showFoot===!0?F="everyPage":j.showFoot===!1?F="never":F=(C=j.showFoot)!==null&&C!==void 0?C:"everyPage";var M;j.showHead===!0?M="everyPage":j.showHead===!1?M="never":M=(I=j.showHead)!==null&&I!==void 0?I:"everyPage";var B=(T=j.useCss)!==null&&T!==void 0?T:!1,D=j.theme||(B?"plain":"striped"),X=!!j.horizontalPageBreak,V=(P=j.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(H=j.includeHiddenHtml)!==null&&H!==void 0?H:!1,useCss:B,theme:D,startY:pe,margin:Q,pageBreak:(q=j.pageBreak)!==null&&q!==void 0?q:"auto",rowPageBreak:(ae=j.rowPageBreak)!==null&&ae!==void 0?ae:"auto",tableWidth:(R=j.tableWidth)!==null&&R!==void 0?R:"auto",showHead:M,showFoot:F,tableLineWidth:(z=j.tableLineWidth)!==null&&z!==void 0?z:0,tableLineColor:(Y=j.tableLineColor)!==null&&Y!==void 0?Y:200,horizontalPageBreak:X,horizontalPageBreakRepeat:V,horizontalPageBreakBehaviour:(U=j.horizontalPageBreakBehaviour)!==null&&U!==void 0?U:"afterAllRows"}}function b(S,j){var E=S.getLastAutoTable(),C=S.scaleFactor(),I=S.pageNumber(),T=!1;if(E&&E.startPageNumber){var P=E.startPageNumber+E.pageNumber-1;T=P===I}return typeof j=="number"?j:(j==null||j===!1)&&T&&(E==null?void 0:E.finalY)!=null?E.finalY+20/C:null}function N(S,j,E){var C=j.head||[],I=j.body||[],T=j.foot||[];if(j.html){var P=j.includeHiddenHtml;if(E){var H=(0,d.parseHtml)(S,j.html,E,P,j.useCss)||{};C=H.head||C,I=H.body||C,T=H.foot||C}else console.error("Cannot parse html in non browser environment")}var q=j.columns||A(C,I,T);return{columns:q,head:C,body:I,foot:T}}function A(S,j,E){var C=S[0]||j[0]||E[0]||[],I=[];return Object.keys(C).filter(function(T){return T!=="_element"}).forEach(function(T){var P=1,H;Array.isArray(C)?H=C[parseInt(T)]:H=C[T],typeof H=="object"&&!Array.isArray(H)&&(P=(H==null?void 0:H.colSpan)||1);for(var q=0;q<P;q++){var ae=void 0;Array.isArray(C)?ae=I.length:ae=T+(q>0?"_".concat(q):"");var R={dataKey:ae};I.push(R)}}),I}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,m,p){for(var g=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(T){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(T),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(T),f.applyStyles(f.userStyles),b.afterPageAdd&&T.pageNumber>1&&T.afterPageAdd(T),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(T){b[T]&&console.error('The "'.concat(T,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(T){var P=T[0],H=T[1];b[H]&&(console.error("Use of deprecated option ".concat(H,". Use ").concat(P," instead")),b[P]=b[H])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(T){var P=typeof T=="string"?T:T[0],H=typeof T=="string"?T:T[1];typeof b[P]<"u"&&(typeof b.styles[H]>"u"&&(b.styles[H]=b[P]),console.error("Use of deprecated option: "+P+", use the style "+H+" instead."))});for(var N=0,A=["styles","bodyStyles","headStyles","footStyles"];N<A.length;N++){var S=A[N];d(b[S]||{})}for(var j=b.columnStyles||{},E=0,C=Object.keys(j);E<C.length;E++){var I=C[E];d(j[I]||{})}},x=0,v=[h,m,p];x<v.length;x++){var y=v[x];g(y)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),m=function(){function v(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return v.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,N){return b+N.getMaxCellHeight(y)},0)},v.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,N){return b+N.getMaxCellHeight(y)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(y,b,N,A,S,j){for(var E=0,C=b;E<C.length;E++){var I=C[E],T=new f.CellHookData(y,this,N,A,S,j),P=I(T)===!1;if(N.text=Array.isArray(N.text)?N.text:[N.text],P)return!1}return!0},v.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var N=0,A=this.hooks.didDrawPage;N<A.length;N++){var S=A[N];S(new f.HookData(y,this,b))}},v.prototype.callWillDrawPageHooks=function(y,b){for(var N=0,A=this.hooks.willDrawPage;N<A.length;N++){var S=A[N];S(new f.HookData(y,this,b))}},v.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(A,S){return A+S.wrappedWidth},0);return b}else{var N=this.settings.margin;return y-N.left-N.right}},v}();c.Table=m;var p=function(){function v(y,b,N,A,S){S===void 0&&(S=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=N,this.cells=A,this.spansMultiplePages=S}return v.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(N,A){var S;return Math.max(N,((S=b.cells[A.index])===null||S===void 0?void 0:S.height)||0)},0)},v.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(N){var A=b.cells[N.index];return A?A.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},v.prototype.getMinimumRowHeight=function(y,b){var N=this;return y.reduce(function(A,S){var j=N.cells[S.index];if(!j)return 0;var E=b.getLineHeight(j.styles.fontSize),C=j.padding("vertical"),I=C+E;return I>A?I:A},0)},v}();c.Row=p;var g=function(){function v(y,b,N){var A,S;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=N,this.raw=y;var j=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,j=(S=(A=y.content)!==null&&A!==void 0?A:y.title)!==null&&S!==void 0?S:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var E=j!=null?""+j:"",C=/\r\n|\r|\n/g;this.text=E.split(C)}return v.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var N;if(this.styles.halign==="right")N=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var A=this.width-this.padding("horizontal");N=this.x+A/2+this.padding("left")}else N=this.x+this.padding("left");return{x:N,y}},v.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var N=Array.isArray(this.text)?this.text.length:1,A=this.styles.fontSize/y*b,S=N*A+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},v.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},v}();c.Cell=g;var x=function(){function v(y,b,N){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=N}return v.prototype.getMaxCustomCellWidth=function(y){for(var b=0,N=0,A=y.allRows();N<A.length;N++){var S=A[N],j=S.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(b=Math.max(b,j.styles.cellWidth))}return b},v}();c.Column=x},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,m,p){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(d),x=1;x<arguments.length;x++){var v=arguments[x];if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),m=u(796),p=u(356);function g(S,j){var E=new d.DocHandler(S),C=x(j,E.scaleFactor()),I=new f.Table(j,C);return(0,h.calculateWidths)(E,I),E.applyStyles(E.userStyles),I}c.createTable=g;function x(S,j){var E=S.content,C=N(E.columns);if(E.head.length===0){var I=y(C,"head");I&&E.head.push(I)}if(E.foot.length===0){var I=y(C,"foot");I&&E.foot.push(I)}var T=S.settings.theme,P=S.styles;return{columns:C,head:v("head",E.head,C,P,T,j),body:v("body",E.body,C,P,T,j),foot:v("foot",E.foot,C,P,T,j)}}function v(S,j,E,C,I,T){var P={},H=j.map(function(q,ae){for(var R=0,z={},Y=0,U=0,Q=0,pe=E;Q<pe.length;Q++){var F=pe[Q];if(P[F.index]==null||P[F.index].left===0)if(U===0){var M=void 0;Array.isArray(q)?M=q[F.index-Y-R]:M=q[F.dataKey];var B={};typeof M=="object"&&!Array.isArray(M)&&(B=(M==null?void 0:M.styles)||{});var D=A(S,F,ae,I,C,T,B),X=new f.Cell(M,D,S);z[F.dataKey]=X,z[F.index]=X,U=X.colSpan-1,P[F.index]={left:X.rowSpan-1,times:U}}else U--,Y++;else P[F.index].left--,U=P[F.index].times,R++}return new f.Row(q,ae,S,z)});return H}function y(S,j){var E={};return S.forEach(function(C){if(C.raw!=null){var I=b(j,C.raw);I!=null&&(E[C.dataKey]=I)}}),Object.keys(E).length>0?E:null}function b(S,j){if(S==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(S==="foot"&&typeof j=="object")return j.footer;return null}function N(S){return S.map(function(j,E){var C,I,T;return typeof j=="object"?T=(I=(C=j.dataKey)!==null&&C!==void 0?C:j.key)!==null&&I!==void 0?I:E:T=E,new f.Column(T,j,E)})}function A(S,j,E,C,I,T,P){var H=(0,m.getTheme)(C),q;S==="head"?q=I.headStyles:S==="body"?q=I.bodyStyles:S==="foot"&&(q=I.footStyles);var ae=(0,p.assign)({},H.table,H[S],I.styles,q),R=I.columnStyles[j.dataKey]||I.columnStyles[j.index]||{},z=S==="body"?R:{},Y=S==="body"&&E%2===0?(0,p.assign)({},H.alternateRow,I.alternateRowStyles):{},U=(0,m.defaultStyles)(T),Q=(0,p.assign)({},U,ae,Y,z);return(0,p.assign)(Q,P)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),m=u(356),p=u(136),g=u(224);function x(R,z){var Y=z.settings,U=Y.startY,Q=Y.margin,pe={x:Q.left,y:U},F=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns),M=U+Q.bottom+F;if(Y.pageBreak==="avoid"){var B=z.body,D=B.reduce(function(ee,K){return ee+K.height},0);M+=D}var X=new h.DocHandler(R);(Y.pageBreak==="always"||Y.startY!=null&&M>X.pageSize().height)&&(ae(X),pe.y=Q.top),z.callWillDrawPageHooks(X,pe);var V=(0,m.assign)({},pe);z.startPageNumber=X.pageNumber(),Y.horizontalPageBreak?v(X,z,V,pe):(X.applyStyles(X.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&z.head.forEach(function(ee){return I(X,z,ee,pe,z.columns)}),X.applyStyles(X.userStyles),z.body.forEach(function(ee,K){var ce=K===z.body.length-1;C(X,z,ee,ce,V,pe,z.columns)}),X.applyStyles(X.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&z.foot.forEach(function(ee){return I(X,z,ee,pe,z.columns)})),(0,d.addTableBorder)(X,z,V,pe),z.callEndPageHooks(X,pe),z.finalY=pe.y,R.lastAutoTable=z,R.previousAutoTable=z,R.autoTable&&(R.autoTable.previous=z),X.applyStyles(X.userStyles)}c.drawTable=x;function v(R,z,Y,U){var Q=(0,g.calculateAllColumnsCanFitInPage)(R,z),pe=z.settings;if(pe.horizontalPageBreakBehaviour==="afterAllRows")Q.forEach(function(D,X){R.applyStyles(R.userStyles),X>0?q(R,z,Y,U,D.columns,!0):y(R,z,U,D.columns),b(R,z,Y,U,D.columns),A(R,z,U,D.columns)});else for(var F=-1,M=Q[0],B=function(){var D=F;if(M){R.applyStyles(R.userStyles);var X=M.columns;F>=0?q(R,z,Y,U,X,!0):y(R,z,U,X),D=N(R,z,F+1,U,X),A(R,z,U,X)}var V=D-F;Q.slice(1).forEach(function(ee){R.applyStyles(R.userStyles),q(R,z,Y,U,ee.columns,!0),N(R,z,F+1,U,ee.columns,V),A(R,z,U,ee.columns)}),F=D};F<z.body.length-1;)B()}function y(R,z,Y,U){var Q=z.settings;R.applyStyles(R.userStyles),(Q.showHead==="firstPage"||Q.showHead==="everyPage")&&z.head.forEach(function(pe){return I(R,z,pe,Y,U)})}function b(R,z,Y,U,Q){R.applyStyles(R.userStyles),z.body.forEach(function(pe,F){var M=F===z.body.length-1;C(R,z,pe,M,Y,U,Q)})}function N(R,z,Y,U,Q,pe){R.applyStyles(R.userStyles),pe=pe??z.body.length;var F=Math.min(Y+pe,z.body.length),M=-1;return z.body.slice(Y,F).forEach(function(B,D){var X=Y+D===z.body.length-1,V=H(R,z,X,U);B.canEntireRowFit(V,Q)&&(I(R,z,B,U,Q),M=Y+D)}),M}function A(R,z,Y,U){var Q=z.settings;R.applyStyles(R.userStyles),(Q.showFoot==="lastPage"||Q.showFoot==="everyPage")&&z.foot.forEach(function(pe){return I(R,z,pe,Y,U)})}function S(R,z,Y){var U=Y.getLineHeight(R.styles.fontSize),Q=R.padding("vertical"),pe=Math.floor((z-Q)/U);return Math.max(0,pe)}function j(R,z,Y,U){var Q={};R.spansMultiplePages=!0,R.height=0;for(var pe=0,F=0,M=Y.columns;F<M.length;F++){var B=M[F],D=R.cells[B.index];if(D){Array.isArray(D.text)||(D.text=[D.text]);var X=new f.Cell(D.raw,D.styles,D.section);X=(0,m.assign)(X,D),X.text=[];var V=S(D,z,U);D.text.length>V&&(X.text=D.text.splice(V,D.text.length));var ee=U.scaleFactor(),K=U.getLineHeightFactor();D.contentHeight=D.getContentHeight(ee,K),D.contentHeight>=z&&(D.contentHeight=z,X.styles.minCellHeight-=z),D.contentHeight>R.height&&(R.height=D.contentHeight),X.contentHeight=X.getContentHeight(ee,K),X.contentHeight>pe&&(pe=X.contentHeight),Q[B.index]=X}}var ce=new f.Row(R.raw,-1,R.section,Q,!0);ce.height=pe;for(var xe=0,G=Y.columns;xe<G.length;xe++){var B=G[xe],X=ce.cells[B.index];X&&(X.height=ce.height);var D=R.cells[B.index];D&&(D.height=R.height)}return ce}function E(R,z,Y,U){var Q=R.pageSize().height,pe=U.settings.margin,F=pe.top+pe.bottom,M=Q-F;z.section==="body"&&(M-=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns));var B=z.getMinimumRowHeight(U.columns,R),D=B<Y;if(B>M)return console.error("Will not be able to print row ".concat(z.index," correctly since it's minimum height is larger than page height")),!0;if(!D)return!1;var X=z.hasRowSpan(U.columns),V=z.getMaxCellHeight(U.columns)>M;return V?(X&&console.error("The content of row ".concat(z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(X||U.settings.rowPageBreak==="avoid")}function C(R,z,Y,U,Q,pe,F){var M=H(R,z,U,pe);if(Y.canEntireRowFit(M,F))I(R,z,Y,pe,F);else if(E(R,Y,M,z)){var B=j(Y,M,z,R);I(R,z,Y,pe,F),q(R,z,Q,pe,F),C(R,z,B,U,Q,pe,F)}else q(R,z,Q,pe,F),C(R,z,Y,U,Q,pe,F)}function I(R,z,Y,U,Q){U.x=z.settings.margin.left;for(var pe=0,F=Q;pe<F.length;pe++){var M=F[pe],B=Y.cells[M.index];if(!B){U.x+=M.width;continue}R.applyStyles(B.styles),B.x=U.x,B.y=U.y;var D=z.callCellHooks(R,z.hooks.willDrawCell,B,Y,M,U);if(D===!1){U.x+=M.width;continue}T(R,B,U);var X=B.getTextPos();(0,p.default)(B.text,X.x,X.y,{halign:B.styles.halign,valign:B.styles.valign,maxWidth:Math.ceil(B.width-B.padding("left")-B.padding("right"))},R.getDocument()),z.callCellHooks(R,z.hooks.didDrawCell,B,Y,M,U),U.x+=M.width}U.y+=Y.height}function T(R,z,Y){var U=z.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof U.lineWidth=="number"){var Q=(0,d.getFillStyle)(U.lineWidth,U.fillColor);Q&&R.rect(z.x,Y.y,z.width,z.height,Q)}else typeof U.lineWidth=="object"&&(U.fillColor&&R.rect(z.x,Y.y,z.width,z.height,"F"),P(R,z,Y,U.lineWidth))}function P(R,z,Y,U){var Q,pe,F,M;U.top&&(Q=Y.x,pe=Y.y,F=Y.x+z.width,M=Y.y,U.right&&(F+=.5*U.right),U.left&&(Q-=.5*U.left),B(U.top,Q,pe,F,M)),U.bottom&&(Q=Y.x,pe=Y.y+z.height,F=Y.x+z.width,M=Y.y+z.height,U.right&&(F+=.5*U.right),U.left&&(Q-=.5*U.left),B(U.bottom,Q,pe,F,M)),U.left&&(Q=Y.x,pe=Y.y,F=Y.x,M=Y.y+z.height,U.top&&(pe-=.5*U.top),U.bottom&&(M+=.5*U.bottom),B(U.left,Q,pe,F,M)),U.right&&(Q=Y.x+z.width,pe=Y.y,F=Y.x+z.width,M=Y.y+z.height,U.top&&(pe-=.5*U.top),U.bottom&&(M+=.5*U.bottom),B(U.right,Q,pe,F,M));function B(D,X,V,ee,K){R.getDocument().setLineWidth(D),R.getDocument().line(X,V,ee,K,"S")}}function H(R,z,Y,U){var Q=z.settings.margin.bottom,pe=z.settings.showFoot;return(pe==="everyPage"||pe==="lastPage"&&Y)&&(Q+=z.getFootHeight(z.columns)),R.pageSize().height-U.y-Q}function q(R,z,Y,U,Q,pe){Q===void 0&&(Q=[]),pe===void 0&&(pe=!1),R.applyStyles(R.userStyles),z.settings.showFoot==="everyPage"&&!pe&&z.foot.forEach(function(M){return I(R,z,M,U,Q)}),z.callEndPageHooks(R,U);var F=z.settings.margin;(0,d.addTableBorder)(R,z,Y,U),ae(R),z.pageNumber++,z.pageCount++,U.x=F.left,U.y=F.top,Y.y=F.top,z.callWillDrawPageHooks(R,U),z.settings.showHead==="everyPage"&&(z.head.forEach(function(M){return I(R,z,M,U,Q)}),R.applyStyles(R.userStyles))}c.addPage=q;function ae(R){var z=R.pageNumber();R.setPage(z+1);var Y=R.pageNumber();return Y===z?(R.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(m,p,g){var x;g===void 0&&(g={});var v=(0,d.getPageAvailableWidth)(m,p),y=new Map,b=[],N=[],A=[];p.settings.horizontalPageBreakRepeat,Array.isArray(p.settings.horizontalPageBreakRepeat)?A=p.settings.horizontalPageBreakRepeat:(typeof p.settings.horizontalPageBreakRepeat=="string"||typeof p.settings.horizontalPageBreakRepeat=="number")&&(A=[p.settings.horizontalPageBreakRepeat]),A.forEach(function(C){var I=p.columns.find(function(T){return T.dataKey===C||T.index===C});I&&!y.has(I.index)&&(y.set(I.index,!0),b.push(I.index),N.push(p.columns[I.index]),v-=I.wrappedWidth)});for(var S=!0,j=(x=g==null?void 0:g.start)!==null&&x!==void 0?x:0;j<p.columns.length;){if(y.has(j)){j++;continue}var E=p.columns[j].wrappedWidth;if(S||v>=E)S=!1,b.push(j),N.push(p.columns[j]),v-=E;else break;j++}return{colIndexes:b,columns:N,lastIndex:j-1}}function h(m,p){for(var g=[],x=0;x<p.columns.length;x++){var v=f(m,p,{start:x});v.columns.length&&(g.push(v),x=v.lastIndex)}return g}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(b,N){h(b,N);var A=[],S=0;N.columns.forEach(function(E){var C=E.getMaxCustomCellWidth(N);C?E.width=C:(E.width=E.wrappedWidth,A.push(E)),S+=E.width});var j=N.getWidth(b.pageSize().width)-S;j&&(j=m(A,j,function(E){return Math.max(E.minReadableWidth,E.minWidth)})),j&&(j=m(A,j,function(E){return E.minWidth})),j=Math.abs(j),!N.settings.horizontalPageBreak&&j>.1/b.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),g(N),x(N,b),p(N)}c.calculateWidths=f;function h(b,N){var A=b.scaleFactor(),S=N.settings.horizontalPageBreak,j=(0,d.getPageAvailableWidth)(b,N);N.allRows().forEach(function(E){for(var C=0,I=N.columns;C<I.length;C++){var T=I[C],P=E.cells[T.index];if(P){var H=N.hooks.didParseCell;N.callCellHooks(b,H,P,E,T,null);var q=P.padding("horizontal");P.contentWidth=(0,d.getStringWidth)(P.text,P.styles,b)+q;var ae=(0,d.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,b);if(P.minReadableWidth=ae+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||S===!0)P.contentWidth>j?(P.minWidth=j,P.wrappedWidth=j):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var R=10/A;P.minWidth=P.styles.minCellWidth||R,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),N.allRows().forEach(function(E){for(var C=0,I=N.columns;C<I.length;C++){var T=I[C],P=E.cells[T.index];if(P&&P.colSpan===1)T.wrappedWidth=Math.max(T.wrappedWidth,P.wrappedWidth),T.minWidth=Math.max(T.minWidth,P.minWidth),T.minReadableWidth=Math.max(T.minReadableWidth,P.minReadableWidth);else{var H=N.styles.columnStyles[T.dataKey]||N.styles.columnStyles[T.index]||{},q=H.cellWidth||H.minCellWidth;q&&typeof q=="number"&&(T.minWidth=q,T.wrappedWidth=q)}P&&(P.colSpan>1&&!T.minWidth&&(T.minWidth=P.minWidth),P.colSpan>1&&!T.wrappedWidth&&(T.wrappedWidth=P.minWidth))}})}function m(b,N,A){for(var S=N,j=b.reduce(function(R,z){return R+z.wrappedWidth},0),E=0;E<b.length;E++){var C=b[E],I=C.wrappedWidth/j,T=S*I,P=C.width+T,H=A(C),q=P<H?H:P;N-=q-C.width,C.width=q}if(N=Math.round(N*1e10)/1e10,N){var ae=b.filter(function(R){return N<0?R.width>A(R):!0});ae.length&&(N=m(ae,N,A))}return N}c.resizeColumns=m;function p(b){for(var N={},A=1,S=b.allRows(),j=0;j<S.length;j++)for(var E=S[j],C=0,I=b.columns;C<I.length;C++){var T=I[C],P=N[T.index];if(A>1)A--,delete E.cells[T.index];else if(P)P.cell.height+=E.height,A=P.cell.colSpan,delete E.cells[T.index],P.left--,P.left<=1&&delete N[T.index];else{var H=E.cells[T.index];if(!H)continue;if(H.height=E.height,H.rowSpan>1){var q=S.length-j,ae=H.rowSpan>q?q:H.rowSpan;N[T.index]={cell:H,left:ae,row:E}}}}}function g(b){for(var N=b.allRows(),A=0;A<N.length;A++)for(var S=N[A],j=null,E=0,C=0,I=0;I<b.columns.length;I++){var T=b.columns[I];if(C-=1,C>1&&b.columns[I+1])E+=T.width,delete S.cells[T.index];else if(j){var P=j;delete S.cells[T.index],j=null,P.width=T.width+E}else{var P=S.cells[T.index];if(!P)continue;if(C=P.colSpan,E=0,P.colSpan>1){j=P,E+=T.width;continue}P.width=T.width+E}}}function x(b,N){for(var A={count:0,height:0},S=0,j=b.allRows();S<j.length;S++){for(var E=j[S],C=0,I=b.columns;C<I.length;C++){var T=I[C],P=E.cells[T.index];if(P){N.applyStyles(P.styles,!0);var H=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=N.splitTextToSize(P.text,H+1/N.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=v(P.text,H,P.styles,N,"...");else if(P.styles.overflow==="hidden")P.text=v(P.text,H,P.styles,N,"");else if(typeof P.styles.overflow=="function"){var q=P.styles.overflow(P.text,H);typeof q=="string"?P.text=[q]:P.text=q}P.contentHeight=P.getContentHeight(N.scaleFactor(),N.getLineHeightFactor());var ae=P.contentHeight/P.rowSpan;P.rowSpan>1&&A.count*A.height<ae*P.rowSpan?A={height:ae,count:P.rowSpan}:A&&A.count>0&&A.height>ae&&(ae=A.height),ae>E.height&&(E.height=ae)}}A.count--}}function v(b,N,A,S,j){return b.map(function(E){return y(E,N,A,S,j)})}c.ellipsize=v;function y(b,N,A,S,j){var E=1e4*S.scaleFactor();if(N=Math.ceil(N*E)/E,N>=(0,d.getStringWidth)(b,A,S))return b;for(;N<(0,d.getStringWidth)(b+j,A,S)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+j}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function s(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,s),u.exports}var i={};return function(){var l=i;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=s(340),u=s(776),d=s(664),f=s(972),h=s(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var m=s(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var p=s(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return p.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return p.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return p.Row}});function g(N){(0,c.default)(N)}l.applyPlugin=g;function x(N,A){var S=(0,u.parseInput)(N,A),j=(0,f.createTable)(N,S);(0,d.drawTable)(N,j)}function v(N,A){var S=(0,u.parseInput)(N,A);return(0,f.createTable)(N,S)}l.__createTable=v;function y(N,A){(0,d.drawTable)(N,A)}l.__drawTable=y;try{var b=s(964);b.jsPDF&&(b=b.jsPDF),g(b)}catch{}l.default=x}(),i}()})})(ez);var Ife=ez.exports;const fx=Pl(Ife),_A=({data:e,columns:t,filename:r,disabled:n=!1})=>{const[a,s]=k.useState(!1),i=k.useRef(null);k.useEffect(()=>{const h=m=>{i.current&&!i.current.contains(m.target)&&s(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const l=()=>e.map(h=>{const m={};return t.forEach(p=>{const g=p.key.split(".");let x=h;for(const v of g)x=x==null?void 0:x[v];m[p.header]=x??""}),m}),c=()=>{if(e.length===0){alert("No data to export");return}const h=l(),m=t.map(x=>x.header),p=[m.join(","),...h.map(x=>m.map(v=>{const y=x[v];return typeof y=="string"&&(y.includes(",")||y.includes('"'))?`"${y.replace(/"/g,'""')}"`:y}).join(","))].join(`
`),g=new Blob([p],{type:"text/csv;charset=utf-8;"});f(g,`${r}.csv`),s(!1)},u=()=>{if(e.length===0){alert("No data to export");return}const h=l(),m=Nn.json_to_sheet(h),p=Nn.book_new();Nn.book_append_sheet(p,m,"Data");const g=t.map(x=>x.header.length);h.forEach(x=>{t.forEach((v,y)=>{const b=String(x[v.header]||"");g[y]=Math.max(g[y],b.length)})}),m["!cols"]=g.map(x=>({wch:Math.min(x+2,50)})),I0(p,`${r}.xlsx`),s(!1)},d=()=>{if(e.length===0){alert("No data to export");return}const h=l(),m=new Et({orientation:"landscape"});m.setFontSize(16),m.text(r.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase()),14,15),m.setFontSize(10),m.text(`Exported on ${new Date().toLocaleDateString()}`,14,22),fx(m,{head:[t.map(p=>p.header)],body:h.map(p=>t.map(g=>p[g.header])),startY:28,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[245,245,245]}}),m.save(`${r}.pdf`),s(!1)},f=(h,m)=>{const p=document.createElement("a"),g=URL.createObjectURL(h);p.setAttribute("href",g),p.setAttribute("download",m),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)};return o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("button",{onClick:()=>s(!a),disabled:n||e.length===0,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${n||e.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:[o.jsx(Qs,{size:18}),o.jsxs("span",{children:["Export (",e.length,")"]}),o.jsx(D3,{size:16,className:`transition-transform ${a?"rotate-180":""}`})]}),a&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:[o.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx(Os,{size:18,className:"text-green-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"CSV"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Comma-separated values"})]})]}),o.jsxs("button",{onClick:u,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100",children:[o.jsx(Ly,{size:18,className:"text-emerald-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Excel"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Microsoft Excel format"})]})]}),o.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-50 transition-colors border-t border-gray-100",children:[o.jsx(Os,{size:18,className:"text-red-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"PDF"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Printable document"})]})]})]})]})},Mfe=()=>{const e=po(),{user:t}=ma(),r=["SUPER_ADMIN","SECRETARY","BURSAR"].includes((t==null?void 0:t.role)||""),[n,a]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(""),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,p]=k.useState([]),[g,x]=k.useState([]),[v,y]=k.useState(null),[b,N]=k.useState([]),[A,S]=k.useState(null),[j,E]=k.useState([]),[C,I]=k.useState(!1),[T,P]=k.useState(1),[H]=k.useState(25),[q,ae]=k.useState(""),[R,z]=k.useState(""),[Y,U]=k.useState(""),[Q,pe]=k.useState(!1),F=dc.useMemo(()=>{const be=n.length,at=n.filter(nt=>nt.status==="ACTIVE").length,ht=n.filter(nt=>nt.gender==="MALE").length,_t=n.filter(nt=>nt.gender==="FEMALE").length,Ct=n.filter(nt=>nt.status==="TRANSFERRED").length,xt=n.filter(nt=>nt.status==="GRADUATED").length;return{total:be,active:at,male:ht,female:_t,transferred:Ct,graduated:xt}},[n]),[M,B]=k.useState({firstName:"",lastName:"",admissionNumber:"",dateOfBirth:"",gender:"MALE",guardianName:"",guardianPhone:"",guardianEmail:"",address:"",classId:"",branchId:"",status:"ACTIVE"});k.useEffect(()=>{X(),V(),(t==null?void 0:t.role)==="SUPER_ADMIN"&&D()},[t]);const D=async()=>{try{const be=await Ae.get("/branches");x(be.data)}catch(be){console.error("Failed to fetch branches",be)}},X=async()=>{try{const be=await Ae.get("/students");a(be.data)}catch(be){console.error("Failed to fetch students",be)}finally{i(!1)}},V=async()=>{try{const be=await Ae.get("/classes");p(be.data)}catch(be){console.error("Failed to fetch classes",be)}},ee=async be=>{be.preventDefault();try{v?await Ae.put(`/students/${v.id}`,M):await Ae.post("/students",M),X(),d(!1),G()}catch(at){console.error("Failed to save student",at),alert("Failed to save student")}},K=async be=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ae.delete(`/students/${be}`),X()}catch(at){console.error("Failed to delete student",at)}},ce=be=>{var at;y(be),B({firstName:be.firstName,lastName:be.lastName,admissionNumber:be.admissionNumber,dateOfBirth:new Date(be.dateOfBirth).toISOString().split("T")[0],gender:be.gender,guardianName:be.guardianName,guardianPhone:be.guardianPhone,guardianEmail:be.guardianEmail||"",address:be.address||"",classId:be.classId,branchId:((at=be.branch)==null?void 0:at.id)||"",status:be.status}),d(!0)},xe=()=>{G(),d(!0)},G=()=>{B({firstName:"",lastName:"",admissionNumber:"",dateOfBirth:"",gender:"MALE",guardianName:"",guardianPhone:"",guardianEmail:"",address:"",classId:"",branchId:"",status:"ACTIVE"}),y(null)},Ce=be=>{N(at=>at.includes(be)?at.filter(ht=>ht!==be):[...at,be])},Ve=()=>{b.length===We.length?N([]):N(We.map(be=>be.id))},Se=async()=>{if(window.confirm(`Are you sure you want to delete ${b.length} students? This action cannot be undone.`))try{await Ae.post("/students/bulk-delete",{ids:b}),N([]),X()}catch(be){console.error("Failed to delete students",be),alert("Failed to delete selected students")}},ue=be=>{if(be.target.files&&be.target.files[0]){const at=be.target.files[0];S(at);const ht=new FileReader;ht.onload=_t=>{var tr;const xt=((tr=_t.target)==null?void 0:tr.result).split(`
`),nt=xt[0].split(",").map(jt=>jt.trim()),Qe=xt.slice(1).filter(jt=>jt.trim()).map(jt=>{const $r=jt.split(","),ar={};return nt.forEach((dr,qa)=>{var Qt;ar[dr]=(Qt=$r[qa])==null?void 0:Qt.trim()}),ar});E(Qe)},ht.readAsText(at)}},Me=async()=>{var be,at,ht,_t;if(j.length){I(!0);try{const Ct=j.map(xt=>{var Qe;let nt=xt.classId;if(!nt&&xt.className){const tr=m.find(jt=>jt.name.toLowerCase()===xt.className.toLowerCase());tr&&(nt=tr.id)}return{...xt,classId:nt,gender:((Qe=xt.gender)==null?void 0:Qe.toUpperCase())||"MALE"}});await Ae.post("/students/bulk",Ct),h(!1),S(null),E([]),X(),alert("Students imported successfully")}catch(Ct){console.error("Import failed",Ct),alert("Import failed: "+(((_t=(ht=(at=(be=Ct.response)==null?void 0:be.data)==null?void 0:at.error)==null?void 0:ht[0])==null?void 0:_t.message)||"Check your CSV format"))}finally{I(!1)}}},rt=()=>{const at="data:text/csv;charset=utf-8,"+["firstName","lastName","admissionNumber","dateOfBirth","gender","guardianName","guardianPhone","className","address"].join(","),ht=encodeURI(at),_t=document.createElement("a");_t.setAttribute("href",ht),_t.setAttribute("download","student_import_template.csv"),document.body.appendChild(_t),_t.click(),document.body.removeChild(_t)},We=n.filter(be=>{const at=be.firstName.toLowerCase().includes(l.toLowerCase())||be.lastName.toLowerCase().includes(l.toLowerCase())||be.admissionNumber.includes(l)||be.guardianName.toLowerCase().includes(l.toLowerCase()),ht=!q||be.classId===q,_t=!R||be.status===R,Ct=!Y||be.gender===Y;return at&&ht&&_t&&Ct}),ve=Math.ceil(We.length/H),Ue=(T-1)*H,Je=Ue+H,dt=We.slice(Ue,Je);return k.useEffect(()=>{P(1)},[l,q,R,Y]),o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Students"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage student records and admissions"})]}),o.jsx("div",{className:"flex space-x-2 w-full md:w-auto",children:r&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>h(!0),className:"flex-1 md:flex-none flex items-center justify-center space-x-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx(Ni,{size:20}),o.jsx("span",{children:"Import"})]}),o.jsxs("button",{onClick:xe,className:"flex-1 md:flex-none flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add Student"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"Total"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F.total})]}),o.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:o.jsx(en,{className:"text-blue-600 dark:text-blue-400",size:20})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-green-500",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 uppercase font-medium",children:"Active"}),o.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:F.active})]}),o.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:o.jsx(kR,{className:"text-green-600 dark:text-green-400",size:20})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"Male"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F.male})]}),o.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[F.total>0?Math.round(F.male/F.total*100):0,"%"]})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium",children:"Female"}),o.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F.female})]}),o.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[F.total>0?Math.round(F.female/F.total*100):0,"%"]})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 uppercase font-medium",children:"Graduated"}),o.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:F.graduated})]}),o.jsx("div",{className:"w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:o.jsx(Ai,{className:"text-purple-600 dark:text-purple-400",size:20})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 uppercase font-medium",children:"Transferred"}),o.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:F.transferred})]}),o.jsx("div",{className:"w-10 h-10 bg-orange-50 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:o.jsx(xee,{className:"text-orange-600 dark:text-orange-400",size:20})})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by name or admission number...",value:l,onChange:be=>c(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[b.length>0&&r&&o.jsxs("button",{onClick:Se,className:"flex items-center space-x-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[o.jsx(fs,{size:18}),o.jsxs("span",{className:"hidden sm:inline",children:["Delete (",b.length,")"]})]}),o.jsxs("button",{onClick:()=>pe(!Q),className:`flex items-center justify-center space-x-2 px-3 py-2 border rounded-lg transition-colors ${q||R||Y?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[o.jsx(I3,{size:18}),o.jsx("span",{children:"Filter"}),(q||R||Y)&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:[q,R,Y].filter(Boolean).length})]}),o.jsx(_A,{data:We.map(be=>{var at;return{admissionNumber:be.admissionNumber,firstName:be.firstName,lastName:be.lastName,className:((at=be.class)==null?void 0:at.name)||"Unassigned",gender:be.gender,dateOfBirth:new Date(be.dateOfBirth).toLocaleDateString(),guardianName:be.guardianName,guardianPhone:be.guardianPhone,status:be.status}}),columns:[{key:"admissionNumber",header:"Admission #"},{key:"firstName",header:"First Name"},{key:"lastName",header:"Last Name"},{key:"className",header:"Class"},{key:"gender",header:"Gender"},{key:"dateOfBirth",header:"Date of Birth"},{key:"guardianName",header:"Guardian Name"},{key:"guardianPhone",header:"Guardian Phone"},{key:"status",header:"Status"}],filename:`students_export_${new Date().toISOString().split("T")[0]}`})]})]}),Q&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Filter Students"}),o.jsx("button",{onClick:()=>pe(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:o.jsx(ra,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),o.jsxs("select",{value:q,onChange:be=>ae(be.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"All Classes"}),m.map(be=>o.jsx("option",{value:be.id,children:be.name},be.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),o.jsxs("select",{value:R,onChange:be=>z(be.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"TRANSFERRED",children:"Transferred"}),o.jsx("option",{value:"GRADUATED",children:"Graduated"}),o.jsx("option",{value:"DROPPED_OUT",children:"Dropped Out"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gender"}),o.jsxs("select",{value:Y,onChange:be=>U(be.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"All Genders"}),o.jsx("option",{value:"MALE",children:"Male"}),o.jsx("option",{value:"FEMALE",children:"Female"})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsx("button",{onClick:()=>{ae(""),z(""),U("")},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Clear All"}),o.jsx("button",{onClick:()=>pe(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})]})]})}),o.jsx("div",{className:"hidden md:block overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm text-gray-600",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 w-10",children:o.jsx("button",{onClick:Ve,className:"text-gray-500 hover:text-gray-700",children:b.length===We.length&&We.length>0?o.jsx(ag,{size:20,className:"text-blue-600"}):o.jsx($T,{size:20})})}),o.jsx("th",{className:"px-6 py-3",children:"Admission #"}),o.jsx("th",{className:"px-6 py-3",children:"Name"}),o.jsx("th",{className:"px-6 py-3",children:"Class"}),o.jsx("th",{className:"px-6 py-3",children:"Guardian"}),o.jsx("th",{className:"px-6 py-3",children:"Branch"}),o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading students..."})}):dt.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No students found"})}):dt.map(be=>{var at;return o.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors ${b.includes(be.id)?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>Ce(be.id),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:b.includes(be.id)?o.jsx(ag,{size:20,className:"text-blue-600"}):o.jsx($T,{size:20})})}),o.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:be.admissionNumber}),o.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:[be.lastName,", ",be.firstName]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-slate-700 rounded text-xs font-medium text-gray-600 dark:text-gray-300",children:((at=be.class)==null?void 0:at.name)||"Unassigned"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:be.guardianName}),o.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:be.guardianPhone})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:be.branch?be.branch.name:"-"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:be.status})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>e(`/students/${be.id}`),className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 p-1",title:"View Profile",children:o.jsx(sg,{size:18})}),r&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ce(be),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",children:o.jsx(uo,{size:18})}),o.jsx("button",{onClick:()=>K(be.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:o.jsx(fs,{size:18})})]})]})})]},be.id)})})]})}),o.jsx("div",{className:"md:hidden",children:s?o.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"Loading students..."}):dt.length===0?o.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No students found"}):o.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:dt.map(be=>{var at;return o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[be.lastName,", ",be.firstName]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:be.admissionNumber})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:be.status})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-300",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 block",children:"Class"}),((at=be.class)==null?void 0:at.name)||"Unassigned"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 block",children:"Guardian"}),be.guardianName]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-2 border-t border-gray-50 dark:border-slate-700",children:[o.jsxs("button",{onClick:()=>e(`/students/${be.id}`),className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 text-sm",children:[o.jsx(sg,{size:16}),o.jsx("span",{children:"View"})]}),r&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>ce(be),className:"flex items-center space-x-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm",children:[o.jsx(uo,{size:16}),o.jsx("span",{children:"Edit"})]}),o.jsxs("button",{onClick:()=>K(be.id),className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm",children:[o.jsx(fs,{size:16}),o.jsx("span",{children:"Delete"})]})]})]})]},be.id)})})}),o.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-gray-500 dark:text-gray-400",children:[o.jsxs("span",{children:["Showing ",Ue+1,"-",Math.min(Je,We.length)," of ",We.length," students",(q||R||l)&&o.jsxs("span",{className:"text-gray-400",children:[" (filtered from ",n.length," total)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>P(be=>Math.max(1,be-1)),disabled:T===1,className:"px-3 py-1 border border-gray-200 dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),o.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,ve)},(be,at)=>{let ht;return ve<=5||T<=3?ht=at+1:T>=ve-2?ht=ve-4+at:ht=T-2+at,o.jsx("button",{onClick:()=>P(ht),className:`px-3 py-1 border rounded transition-colors ${T===ht?"bg-blue-600 text-white border-blue-600":"border-gray-200 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ht},ht)})}),o.jsx("button",{onClick:()=>P(be=>Math.min(ve,be+1)),disabled:T===ve,className:"px-3 py-1 border border-gray-200 dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pb-safe",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto pb-safe",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Import Students"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:o.jsx(ra,{size:24})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg border border-blue-100 dark:border-blue-800",children:[o.jsx("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Instructions"}),o.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 dark:text-blue-400 space-y-1",children:[o.jsx("li",{children:"Upload a CSV file with student details."}),o.jsx("li",{children:"Required columns: firstName, lastName, dateOfBirth, gender, className (or classId)."}),o.jsx("li",{children:"Dates should be in YYYY-MM-DD format."}),o.jsx("li",{children:o.jsx("button",{onClick:rt,className:"underline font-medium hover:text-blue-900",children:"Download Template CSV"})})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[o.jsx("p",{className:"text-xs font-semibold text-blue-800 mb-1",children:"Available Classes:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(be=>o.jsx("span",{className:"text-xs bg-white px-2 py-1 rounded border border-blue-200 text-blue-600",children:be.name},be.id))})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-xl p-8 text-center hover:border-blue-500 transition-colors",children:[o.jsx("input",{type:"file",accept:".csv",onChange:ue,className:"hidden",id:"csv-upload"}),o.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(Ni,{size:48,className:"text-gray-400 dark:text-gray-500 mb-4"}),o.jsx("span",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:"Click to upload CSV"}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"or drag and drop here"})]}),A&&o.jsxs("div",{className:"mt-4 p-2 bg-gray-100 dark:bg-slate-700 rounded text-sm font-medium text-gray-700 dark:text-gray-200",children:["Selected: ",A.name]})]}),j.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-gray-800 dark:text-white mb-2",children:["Preview (",j.length," students)"]}),o.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden max-h-60 overflow-y-auto",children:[o.jsxs("table",{className:"w-full text-left text-xs",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 font-medium text-gray-600 dark:text-gray-300",children:o.jsx("tr",{children:Object.keys(j[0]).slice(0,5).map(be=>o.jsx("th",{className:"px-3 py-2",children:be},be))})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:j.slice(0,5).map((be,at)=>o.jsx("tr",{className:"text-gray-700 dark:text-gray-300",children:Object.values(be).slice(0,5).map((ht,_t)=>o.jsx("td",{className:"px-3 py-2",children:ht},_t))},at))})]}),j.length>5&&o.jsxs("div",{className:"p-2 text-center text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-slate-700 border-t border-gray-100 dark:border-slate-600",children:["...and ",j.length-5," more rows"]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 dark:border-slate-700",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:Me,disabled:!A||C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:C?o.jsx(o.Fragment,{children:o.jsx("span",{children:"Importing..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Ni,{size:18}),o.jsx("span",{children:"Import Students"})]})})]})]})]})}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50 overflow-y-auto pb-safe",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-t-xl md:rounded-xl p-6 w-full max-w-2xl md:my-8 h-[90vh] md:h-auto overflow-y-auto pb-safe",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white",children:v?"Edit Student":"Add New Student"}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 md:hidden",children:"Close"})]}),o.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),o.jsx("input",{type:"text",required:!0,value:M.firstName,onChange:be=>B({...M,firstName:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),o.jsx("input",{type:"text",required:!0,value:M.lastName,onChange:be=>B({...M,lastName:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),v&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Admission Number"}),o.jsx("input",{type:"text",value:M.admissionNumber,readOnly:!0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-100 dark:bg-slate-600 text-gray-500 dark:text-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of Birth"}),o.jsx("input",{type:"date",required:!0,value:M.dateOfBirth,onChange:be=>B({...M,dateOfBirth:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gender"}),o.jsxs("select",{value:M.gender,onChange:be=>B({...M,gender:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"MALE",children:"Male"}),o.jsx("option",{value:"FEMALE",children:"Female"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),o.jsxs("select",{required:!0,value:M.classId,onChange:be=>B({...M,classId:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select a class"}),m.map(be=>o.jsx("option",{value:be.id,children:be.name},be.id))]})]}),(t==null?void 0:t.role)==="SUPER_ADMIN"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Branch"}),o.jsxs("select",{value:M.branchId||"",onChange:be=>B({...M,branchId:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Branch (Optional)"}),g.map(be=>o.jsx("option",{value:be.id,children:be.name},be.id))]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty to auto-assign or use default."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guardian Name"}),o.jsx("input",{type:"text",value:M.guardianName,onChange:be=>B({...M,guardianName:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guardian Phone"}),o.jsx("input",{type:"tel",value:M.guardianPhone,onChange:be=>B({...M,guardianPhone:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guardian Email"}),o.jsx("input",{type:"email",value:M.guardianEmail,onChange:be=>B({...M,guardianEmail:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"Optional - creates parent account"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),o.jsx("textarea",{value:M.address,onChange:be=>B({...M,address:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3})]}),v&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),o.jsxs("select",{value:M.status,onChange:be=>B({...M,status:be.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"TRANSFERRED",children:"Transferred"}),o.jsx("option",{value:"GRADUATED",children:"Graduated"}),o.jsx("option",{value:"DROPPED_OUT",children:"Dropped Out"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:v?"Update Student":"Create Student"})]})]})]})})]})},Rfe=()=>{var H,q,ae;const{id:e}=h2(),t=po(),[r,n]=k.useState(null),[a,s]=k.useState(!0),[i,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState([]),[p,g]=k.useState({amount:"",method:"CASH",notes:""}),[x,v]=k.useState(!1),y=async()=>{try{const R=await Ae.get(`/students/${e}`);n(R.data)}catch(R){console.error("Failed to fetch student details",R)}finally{s(!1)}},b=async()=>{try{const R=await Ae.get("/scholarships");m(R.data)}catch(R){console.error("Failed to fetch scholarships",R)}};k.useEffect(()=>{e&&(y(),b())},[e]);const N=async R=>{if(r)try{await Ae.put(`/students/${r.id}`,{scholarshipId:R}),f(!1),y()}catch(z){console.error("Failed to update scholarship",z),alert("Failed to update scholarship")}},A=async R=>{var z,Y;if(R.preventDefault(),!(!r||x)){v(!0);try{await Ae.post("/payments",{studentId:r.id,amount:Number(p.amount),method:p.method,notes:p.notes}),S(),y()}catch(U){console.error("Failed to record payment",U),alert(((Y=(z=U.response)==null?void 0:z.data)==null?void 0:Y.message)||"Failed to record payment")}finally{v(!1)}}},S=()=>{l(!1),g({amount:"",method:"CASH",notes:""})},j=async R=>{if(r)try{await Ae.put(`/students/${r.id}`,{status:R}),u(!1),y()}catch(z){console.error("Failed to update status",z),alert("Failed to update status")}},E=async()=>{if(r)try{const R=await Ae.get(`/fees/statement/${r.id}`),{school:z,student:Y,transactions:U}=R.data,Q=new Et;Q.setFillColor(30,41,59),Q.setFontSize(16),Q.setFont("times","bold");const pe=Q.splitTextToSize(z.name,110),F=pe.length*7,M=Math.max(45,15+F+15);Q.rect(0,0,210,M,"F"),Q.setTextColor(255,255,255),Q.text(pe,14,18);const B=18+F-2;Q.setFontSize(10),Q.setFont("helvetica","normal"),Q.text(z.address||"",14,B),Q.text(`Email: ${z.email}`,14,B+6),Q.setFontSize(14),Q.setFont("helvetica","bold"),Q.text("STATEMENT OF ACCOUNT",196,18,{align:"right"}),Q.setFontSize(10),Q.setFont("helvetica","normal"),Q.text(`Date: ${new Date().toLocaleDateString()}`,196,26,{align:"right"});const D=M+15;Q.setTextColor(30,41,59),Q.setFontSize(11),Q.setFont("helvetica","bold"),Q.text(`Student: ${Y.name}`,14,D),Q.text(`Admission No: ${Y.admissionNumber}`,14,D+6),Q.text(`Class: ${Y.className}`,14,D+12),Q.text(`Guardian: ${Y.guardian||"N/A"}`,120,D);const X=U.reduce((G,Ce)=>Ce.type==="DEBIT"?G+Number(Ce.amount):G,0),V=U.reduce((G,Ce)=>Ce.type==="CREDIT"?G+Number(Ce.amount):G,0),ee=X-V;Q.setFillColor(248,250,252),Q.setDrawColor(226,232,240),Q.roundedRect(14,D+18,182,18,2,2,"FD"),Q.setFontSize(9),Q.setFont("helvetica","normal"),Q.setTextColor(100,116,139),Q.text("TOTAL BILLED",30,D+24),Q.text("TOTAL PAID",95,D+24),Q.text("BALANCE DUE",160,D+24),Q.setFontSize(11),Q.setFont("helvetica","bold"),Q.setTextColor(15,23,42),Q.text(`ZMW ${X.toLocaleString(void 0,{minimumFractionDigits:2})}`,30,D+31),Q.text(`ZMW ${V.toLocaleString(void 0,{minimumFractionDigits:2})}`,95,D+31),ee>0?Q.setTextColor(220,38,38):Q.setTextColor(22,163,74),Q.text(`ZMW ${ee.toLocaleString(void 0,{minimumFractionDigits:2})}`,160,D+31);let K=0;const ce=U.map(G=>(G.type==="DEBIT"?K+=G.amount:K-=G.amount,[new Date(G.date).toLocaleDateString(),G.description,G.ref,G.type==="DEBIT"?Number(G.amount).toFixed(2):"-",G.type==="CREDIT"?Number(G.amount).toFixed(2):"-",K.toFixed(2)]));fx(Q,{startY:D+45,head:[["Date","Description","Ref","Billed","Paid","Balance"]],body:ce,theme:"grid",headStyles:{fillColor:[71,85,105],textColor:255},columnStyles:{3:{halign:"right"},4:{halign:"right"},5:{halign:"right",fontStyle:"bold"}}});const xe=Q.lastAutoTable.finalY+10;Q.setFontSize(10),Q.text(`Closing Balance: ZMW ${K.toFixed(2)}`,196,xe,{align:"right"}),K>0?(Q.setTextColor(220,38,38),Q.text("Please ensure outstanding fees are cleared promptly.",14,xe)):(Q.setTextColor(22,163,74),Q.text("Account is in good standing.",14,xe)),Q.save(`${Y.name.replace(" ","_")}_Statement.pdf`)}catch(R){console.error("Failed to download statement",R),alert("Failed to download statement")}};if(a)return o.jsx("div",{className:"p-6 text-center",children:"Loading profile..."});if(!r)return o.jsx("div",{className:"p-6 text-center",children:"Student not found"});const C=r.feeStructures.reduce((R,z)=>R+Number(z.amountDue),0),I=r.payments.reduce((R,z)=>R+Number(z.amount),0),T=C-I,P=T<0;return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsxs("button",{onClick:()=>t("/students"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[o.jsx(Vd,{size:20,className:"mr-2"}),"Back to Students"]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-2xl font-bold",children:[r.firstName[0],r.lastName[0]]}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.firstName," ",r.lastName]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mt-1",children:[o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-700 px-2 py-0.5 rounded text-sm",children:r.admissionNumber}),o.jsx("span",{children:""}),o.jsx("span",{children:((H=r.class)==null?void 0:H.name)||"No Class"}),o.jsx("span",{children:""}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${r.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:r.status}),o.jsx("button",{onClick:()=>u(!0),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",title:"Change Status",children:o.jsx(uo,{size:14})})]})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:E,className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",children:[o.jsx(Qs,{size:18}),"Statement"]}),o.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o.jsx(Do,{size:18}),"Record Payment"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(_i,{size:20,className:"text-gray-400"}),"Personal Details"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Guardian"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:r.guardianName}),r.guardianEmail&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.guardianEmail})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Contact"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(C0,{size:16,className:"text-gray-400"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:r.guardianPhone})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Address"}),o.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[o.jsx(rx,{size:16,className:"text-gray-400 mt-0.5"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:r.address||"No address recorded"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date of Birth"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Va,{size:16,className:"text-gray-400"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(r.dateOfBirth).toLocaleDateString()})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Scholarship"}),o.jsx("button",{onClick:()=>f(!0),className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:r.scholarship?"Change":"Add"})]}),r.scholarship?o.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-900/30 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-purple-700 dark:text-purple-400 font-medium mb-1",children:[o.jsx(Ai,{size:16}),r.scholarship.name]}),o.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[r.scholarship.percentage,"% Discount"]})]}):o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No scholarship assigned"})]})]})]})}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-2",children:[o.jsx(Os,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Total Billed"})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["ZMW ",C.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 mb-2",children:[o.jsx(j4,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Total Paid"})]}),o.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["ZMW ",I.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:`flex items-center gap-2 ${P?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} mb-2`,children:[o.jsx(_l,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:P?"Credit Balance":"Balance Due"})]}),o.jsxs("p",{className:`text-2xl font-bold ${P?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:["ZMW ",Math.abs(T).toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex items-center gap-2",children:[o.jsx(Os,{size:20,className:"text-gray-400"}),o.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Fee Breakdown"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-medium",children:"Fee Name"}),o.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Amount Due"}),o.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Amount Paid"}),o.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Balance"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r.feeStructures.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No fees assigned"})}):r.feeStructures.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-medium",children:R.feeTemplate.name}),o.jsxs("td",{className:"px-6 py-4 text-right text-gray-900 dark:text-white",children:["ZMW ",Number(R.amountDue).toLocaleString()]}),o.jsxs("td",{className:"px-6 py-4 text-right text-green-600 dark:text-green-400",children:["ZMW ",Number(R.amountPaid).toLocaleString()]}),o.jsxs("td",{className:"px-6 py-4 text-right font-bold text-gray-900 dark:text-white",children:["ZMW ",(Number(R.amountDue)-Number(R.amountPaid)).toLocaleString()]})]},R.id))})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Payment History"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-medium",children:"Date"}),o.jsx("th",{className:"px-6 py-3 font-medium",children:"Method"}),o.jsx("th",{className:"px-6 py-3 font-medium",children:"Status"}),o.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Amount"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r.payments.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No payments recorded"})}):r.payments.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:new Date(R.paymentDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400 capitalize",children:R.method.replace("_"," ").toLowerCase()}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="COMPLETED"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-400"}`,children:R.status||"COMPLETED"})}),o.jsxs("td",{className:"px-6 py-4 text-right font-medium text-gray-900 dark:text-white",children:["ZMW ",Number(R.amount).toLocaleString()]})]},R.id))})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex items-center gap-2",children:[o.jsx(XQ,{size:20,className:"text-gray-400"}),o.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Class History"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-medium",children:"Date"}),o.jsx("th",{className:"px-6 py-3 font-medium",children:"From"}),o.jsx("th",{className:"px-6 py-3 font-medium",children:"To"}),o.jsx("th",{className:"px-6 py-3 font-medium",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 font-medium",children:"Changed By"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:((q=r.classMovements)==null?void 0:q.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No class movements recorded"})}):(ae=r.classMovements)==null?void 0:ae.map(R=>{var z,Y;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:new Date(R.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:((z=R.fromClass)==null?void 0:z.name)||"-"}),o.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white font-medium",children:R.toClass.name}),o.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:R.reason||"-"}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400 text-xs",children:((Y=R.changedBy)==null?void 0:Y.fullName)||"System"})]},R.id)})})]})})]})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-sm",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:"Update Status"}),o.jsx("div",{className:"space-y-2",children:["ACTIVE","TRANSFERRED","GRADUATED","DROPPED_OUT"].map(R=>o.jsx("button",{onClick:()=>j(R),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${r.status===R?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300"}`,children:o.jsx("div",{className:"font-medium",children:R})},R))}),o.jsx("button",{onClick:()=>u(!1),className:"mt-4 w-full px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"})]})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-sm",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:"Assign Scholarship"}),o.jsxs("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:[o.jsxs("button",{onClick:()=>N(null),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${r.scholarshipId?"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300":"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:[o.jsx("div",{className:"font-medium",children:"None"}),o.jsx("div",{className:"text-xs opacity-75",children:"Remove scholarship"})]}),h.map(R=>o.jsxs("button",{onClick:()=>N(R.id),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${r.scholarshipId===R.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsx("div",{className:"font-medium",children:R.name}),o.jsxs("div",{className:"text-xs opacity-75",children:[R.percentage,"% Discount"]})]},R.id))]}),o.jsx("button",{onClick:()=>f(!1),className:"mt-4 w-full px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"})]})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Record Payment"}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:[r.firstName[0],r.lastName[0]]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-slate-800",children:[r.firstName," ",r.lastName]}),o.jsxs("p",{className:"text-sm text-slate-500",children:[r.admissionNumber,"  Balance:",o.jsxs("span",{className:T>0?"text-red-600 font-medium ml-1":"text-green-600 font-medium ml-1",children:["ZMW ",Math.abs(T).toLocaleString()]})]})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (ZMW)"}),o.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",value:p.amount,onChange:R=>g({...p,amount:R.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Payment Method"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p.method,onChange:R=>g({...p,method:R.target.value}),children:[o.jsx("option",{value:"CASH",children:"Cash"}),o.jsx("option",{value:"MOBILE_MONEY",children:"Mobile Money"}),o.jsx("option",{value:"BANK_DEPOSIT",children:"Bank Deposit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about this payment",rows:2,value:p.notes,onChange:R=>g({...p,notes:R.target.value})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 ${x?"opacity-70 cursor-not-allowed":""}`,children:x?"Saving...":"Save Payment"})]})]})]})})]})};function tz(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tz(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function hr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tz(e))&&(n&&(n+=" "),n+=t);return n}var Bfe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function EA(e){if(typeof e!="string")return!1;var t=Bfe;return t.includes(e)}var zfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ufe=new Set(zfe);function rz(e){return typeof e!="string"?!1:Ufe.has(e)}function nz(e){return typeof e=="string"&&e.startsWith("data-")}function Ci(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rz(r)||nz(r))&&(t[r]=e[r]);return t}function v0(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ci(t)}return typeof e=="object"&&!Array.isArray(e)?Ci(e):null}function Fs(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rz(r)||nz(r)||EA(r))&&(t[r]=e[r]);return t}function $fe(e){return e==null?null:k.isValidElement(e)?Fs(e.props):typeof e=="object"&&!Array.isArray(e)?Fs(e):null}var Wfe=["children","width","height","viewBox","className","style","title","desc"];function J4(){return J4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J4.apply(null,arguments)}function Hfe(e,t){if(e==null)return{};var r,n,a=Vfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CA=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=e,d=Hfe(e,Wfe),f=s||{width:n,height:a,x:0,y:0},h=hr("recharts-surface",i);return k.createElement("svg",J4({},Fs(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),k.createElement("title",null,c),k.createElement("desc",null,u),r)}),qfe=["children","className"];function Q4(){return Q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q4.apply(null,arguments)}function Gfe(e,t){if(e==null)return{};var r,n,a=Kfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oa=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Gfe(e,qfe),s=hr("recharts-layer",n);return k.createElement("g",Q4({className:s},Fs(a),{ref:t}),r)}),az=k.createContext(null),Yfe=()=>k.useContext(az);function Br(e){return function(){return e}}const sz=Math.cos,Xy=Math.sin,Qo=Math.sqrt,Zy=Math.PI,P2=2*Zy,eS=Math.PI,tS=2*eS,jd=1e-6,Xfe=tS-jd;function iz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iz;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Jfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?iz:Zfe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>jd)if(!(Math.abs(f*c-u*d)>jd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,p=a-l,g=c*c+u*u,x=m*m+p*p,v=Math.sqrt(g),y=Math.sqrt(h),b=s*Math.tan((eS-Math.acos((g+h-x)/(2*v*y)))/2),N=b/y,A=b/v;Math.abs(N-1)>jd&&this._append`L${t+N*d},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+A*c},${this._y1=r+A*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>jd||Math.abs(this._y1-d)>jd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%tS+tS),h>Xfe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>jd&&this._append`A${n},${n},0,${+(h>=eS)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function TA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Jfe(t)}function PA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oz(e){this._context=e}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function O2(e){return new oz(e)}function lz(e){return e[0]}function cz(e){return e[1]}function uz(e,t){var r=Br(!0),n=null,a=O2,s=null,i=TA(l);e=typeof e=="function"?e:e===void 0?lz:Br(e),t=typeof t=="function"?t:t===void 0?cz:Br(t);function l(c){var u,d=(c=PA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Br(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Br(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Br(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function dv(e,t,r){var n=null,a=Br(!0),s=null,i=O2,l=null,c=TA(u);e=typeof e=="function"?e:e===void 0?lz:Br(+e),t=typeof t=="function"?t:Br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cz:Br(+r);function u(f){var h,m,p,g=(f=PA(f)).length,x,v=!1,y,b=new Array(g),N=new Array(g);for(s==null&&(l=i(y=c())),h=0;h<=g;++h){if(!(h<g&&a(x=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],N[p]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(x,h,f),N[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):N[h]))}if(y)return l=null,y+""||null}function d(){return uz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Br(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Br(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Br(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Br(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Br(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Br(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Br(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class dz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Qfe(e){return new dz(e,!0)}function ehe(e){return new dz(e,!1)}const OA={draw(e,t){const r=Qo(t/Zy);e.moveTo(r,0),e.arc(0,0,r,0,P2)}},the={draw(e,t){const r=Qo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fz=Qo(1/3),rhe=fz*2,nhe={draw(e,t){const r=Qo(t/rhe),n=r*fz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ahe={draw(e,t){const r=Qo(t),n=-r/2;e.rect(n,n,r,r)}},she=.8908130915292852,hz=Xy(Zy/10)/Xy(7*Zy/10),ihe=Xy(P2/10)*hz,ohe=-sz(P2/10)*hz,lhe={draw(e,t){const r=Qo(t*she),n=ihe*r,a=ohe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=P2*s/5,l=sz(i),c=Xy(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Ok=Qo(3),che={draw(e,t){const r=-Qo(t/(Ok*3));e.moveTo(0,r*2),e.lineTo(-Ok*r,-r),e.lineTo(Ok*r,-r),e.closePath()}},Wi=-.5,Hi=Qo(3)/2,rS=1/Qo(12),uhe=(rS/2+1)*3,dhe={draw(e,t){const r=Qo(t/uhe),n=r/2,a=r*rS,s=n,i=r*rS+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(Wi*n-Hi*a,Hi*n+Wi*a),e.lineTo(Wi*s-Hi*i,Hi*s+Wi*i),e.lineTo(Wi*l-Hi*c,Hi*l+Wi*c),e.lineTo(Wi*n+Hi*a,Wi*a-Hi*n),e.lineTo(Wi*s+Hi*i,Wi*i-Hi*s),e.lineTo(Wi*l+Hi*c,Wi*c-Hi*l),e.closePath()}};function fhe(e,t){let r=null,n=TA(a);e=typeof e=="function"?e:Br(e||OA),t=typeof t=="function"?t:Br(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Br(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Br(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Jy(){}function Qy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mz(e){this._context=e}mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hhe(e){return new mz(e)}function pz(e){this._context=e}pz.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mhe(e){return new pz(e)}function gz(e){this._context=e}gz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function phe(e){return new gz(e)}function xz(e){this._context=e}xz.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ghe(e){return new xz(e)}function b8(e){return e<0?-1:1}function w8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(b8(s)+b8(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function k8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Fk(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function eb(e){this._context=e}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fk(this,this._t0,k8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fk(this,k8(this,r=w8(this,e,t)),r);break;default:Fk(this,this._t0,r=w8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function vz(e){this._context=new yz(e)}(vz.prototype=Object.create(eb.prototype)).point=function(e,t){eb.prototype.point.call(this,t,e)};function yz(e){this._context=e}yz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function xhe(e){return new eb(e)}function vhe(e){return new vz(e)}function bz(e){this._context=e}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=N8(e),a=N8(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N8(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function yhe(e){return new bz(e)}function F2(e,t){this._context=e,this._t=t}F2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bhe(e){return new F2(e,.5)}function whe(e){return new F2(e,0)}function khe(e){return new F2(e,1)}function y0(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function nS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Nhe(e,t){return e[t]}function She(e){const t=[];return t.key=e,t}function jhe(){var e=Br([]),t=nS,r=y0,n=Nhe;function a(s){var i=Array.from(e.apply(this,arguments),She),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=PA(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Br(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Br(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?nS:typeof s=="function"?s:Br(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??y0,a):r},a}function Ahe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}y0(e,t)}}function _he(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}y0(e,t)}}function Ehe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],x=g[n][1]||0,v=g[n-1][1]||0;m+=x-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,y0(e,t)}}var L2={},wz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(wz);var FA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(FA);var D2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(D2);var I2={},kz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(kz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kz,r=D2;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<i;){const f=a[l];u?f==="\\"&&l+1<i?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(I2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz,r=FA,n=D2,a=I2;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(L2);var Che=L2.get;const b0=Pl(Che);var The=4;function wu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:The,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function vn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,i)=>{var l=r[i-1];return typeof l=="string"?a+l+s:l!==void 0?a+wu(l)+s:a+s},"")}var Ta=e=>e===0?0:e>0?1:-1,Ko=e=>typeof e=="number"&&e!=+e,vc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Nt=e=>(typeof e=="number"||e instanceof Number)&&!Ko(e),El=e=>Nt(e)||typeof e=="string",Phe=0,Sg=e=>{var t=++Phe;return"".concat(e||"").concat(t)},ms=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Nt(t)&&typeof t!="string")return n;var s;if(vc(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Ko(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},Nz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Jr(e,t,r){return Nt(e)&&Nt(t)?wu(e+r*(t-e)):t}function Sz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):b0(n,t))===r)}var nn=e=>e===null||typeof e>"u",hx=e=>nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ohe(e){return e!=null}function mx(){}var Fhe=["type","size","sizeType"];function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(null,arguments)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){Lhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lhe(e,t,r){return(t=Dhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dhe(e){var t=Ihe(e,"string");return typeof t=="symbol"?t:t+""}function Ihe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mhe(e,t){if(e==null)return{};var r,n,a=Rhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jz={symbolCircle:OA,symbolCross:the,symbolDiamond:nhe,symbolSquare:ahe,symbolStar:lhe,symbolTriangle:che,symbolWye:dhe},Bhe=Math.PI/180,zhe=e=>{var t="symbol".concat(hx(e));return jz[t]||OA},Uhe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Bhe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$he=(e,t)=>{jz["symbol".concat(hx(e))]=t},LA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Mhe(e,Fhe),s=j8(j8({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var l=()=>{var h=zhe(i),m=fhe().type(h).size(Uhe(r,n,i)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=Fs(s);return Nt(u)&&Nt(d)&&Nt(r)?k.createElement("path",aS({},f,{className:hr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};LA.registerSymbol=$he;var Az=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,DA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{EA(a)&&(n[a]=s=>r[a](r,s))}),n},Whe=(e,t,r)=>n=>(e(t,r,n),null),px=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];EA(a)&&typeof s=="function"&&(n||(n={}),n[a]=Whe(s,t,r))}),n};function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){Vhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vhe(e,t,r){return(t=qhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qhe(e){var t=Ghe(e,"string");return typeof t=="symbol"?t:t+""}function Ghe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function na(e,t){var r=Hhe({},e),n=t,a=Object.keys(t),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return s}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(null,arguments)}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Khe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){Yhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yhe(e,t,r){return(t=Xhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xhe(e){var t=Zhe(e,"string");return typeof t=="symbol"?t:t+""}function Zhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xi=32,Jhe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Qhe(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Xi/2,s=Xi/6,i=Xi/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Xi,y2:a,className:"recharts-legend-icon"})}if(c==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Xi,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xi/8,"h").concat(Xi,"v").concat(Xi*3/4,"h").concat(-Xi,"z"),className:"recharts-legend-icon"});if(k.isValidElement(t.legendIcon)){var d=Khe({},t);return delete d.legendIcon,k.cloneElement(t.legendIcon,d)}return k.createElement(LA,{fill:l,cx:a,cy:a,size:Xi,sizeType:"diameter",type:c})}function eme(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,l={x:0,y:0,width:Xi,height:Xi},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=hr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,g=h?h(d.value,d,f):d.value;return k.createElement("li",tb({className:m,style:c,key:"legend-item-".concat(f)},px(e,d,f)),k.createElement(CA,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},k.createElement(Qhe,{data:d,iconType:i,inactiveColor:s})),k.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var tme=e=>{var t=na(e,Jhe),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},k.createElement(eme,tb({},t,{payload:r})))},_z={},Ez={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}e.uniqBy=t})(Ez);var IA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(IA);var Cz={},M2={},Tz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Tz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tz;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(M2);var Pz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Pz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M2,r=Pz;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Cz);var Oz={},Fz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2;function r(n){return function(a){return t.get(a,n)}}e.property=r})(Fz);var Lz={},MA={},Dz={},RA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(RA);var BA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(BA);var zA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(zA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA,r=BA,n=zA;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(p,g,x,v,y,b){const N=h(p,g,x,v,y,b);return N!==void 0?!!N:s(p,g,m,b)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const x=p[g];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const x=d.get(p);if(h(x,g,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const x=f[g];let v=!1;for(let y=0;y<d.length;y++){if(p.has(y))continue;const b=d[y];let N=!1;if(h(b,x,g,d,f,m)&&(N=!0),N){p.add(y),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(Dz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dz;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(MA);var Iz={},UA={},Mz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Mz);var $A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})($A);var WA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",N="[object BigUint64Array]",A="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",E="[object BigInt64Array]",C="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=C,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=j,e.int8ArrayTag=A,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=y,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(WA);var Rz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Rz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mz,r=$A,n=WA,a=BA,s=Rz;function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[v,y]of d)x.set(v,l(y,v,h,m,p));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const v of d)x.add(l(v,void 0,h,m,p));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,h,m,p);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,p),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,p),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,p),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,p),x}return d}function c(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<g.length;x++){const v=g[x],y=Object.getOwnPropertyDescriptor(d,v);(y==null||y.writable)&&(d[v]=l(f[v],v,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})(UA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Iz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA,r=Iz;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(Lz);var Bz={},zz={},Uz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA,r=WA;function n(a,s){return t.cloneDeepWith(a,(i,l,c,u)=>{const d=s==null?void 0:s(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(Uz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(zz);var $z={},HA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(HA);var Wz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$A;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Wz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FA,r=HA,n=Wz,a=I2;function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})($z);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA,r=D2,n=zz,a=L2,s=$z;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(Bz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA,r=Fz,n=Lz,a=Bz;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(Oz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ez,r=IA,n=Cz,a=Oz;function s(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(l)):[]}e.uniqBy=s})(_z);var rme=_z.uniqBy;const E8=Pl(rme);function Hz(e,t,r){return t===!0?E8(e,r):typeof t=="function"?E8(e,t):e}var Vz={exports:{}},qz={},Gz={exports:{}},Kz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=k;function nme(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ame=typeof Object.is=="function"?Object.is:nme,sme=gh.useState,ime=gh.useEffect,ome=gh.useLayoutEffect,lme=gh.useDebugValue;function cme(e,t){var r=t(),n=sme({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return ome(function(){a.value=r,a.getSnapshot=t,Lk(a)&&s({inst:a})},[e,r,t]),ime(function(){return Lk(a)&&s({inst:a}),e(function(){Lk(a)&&s({inst:a})})},[e]),lme(r),r}function Lk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ame(e,r)}catch{return!0}}function ume(e,t){return t()}var dme=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ume:cme;Kz.useSyncExternalStore=gh.useSyncExternalStore!==void 0?gh.useSyncExternalStore:dme;Gz.exports=Kz;var fme=Gz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=k,hme=fme;function mme(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pme=typeof Object.is=="function"?Object.is:mme,gme=hme.useSyncExternalStore,xme=R2.useRef,vme=R2.useEffect,yme=R2.useMemo,bme=R2.useDebugValue;qz.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=xme(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=yme(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,pme(d,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=gme(e,s[0],s[1]);return vme(function(){i.hasValue=!0,i.value=l},[l]),bme(l),l};Vz.exports=qz;var wme=Vz.exports,VA=k.createContext(null),kme=e=>e,Ur=()=>{var e=k.useContext(VA);return e?e.store.dispatch:kme},Zv=()=>{},Nme=()=>Zv,Sme=(e,t)=>e===t;function St(e){var t=k.useContext(VA);return wme.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Nme,t?t.store.getState:Zv,t?t.store.getState:Zv,t?e:Zv,Sme)}function jme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ame(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _me(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var C8=e=>Array.isArray(e)?e:[e];function Eme(e){const t=Array.isArray(e[0])?e[0]:e;return _me(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Cme(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Tme=class{constructor(e){this.value=e}deref(){return this.value}},Pme=typeof WeakRef<"u"?WeakRef:Tme,Ome=0,T8=1;function fv(){return{s:Ome,v:void 0,o:null,p:null}}function Yz(e,t={}){let r=fv();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const x=g.get(p);x===void 0?(l=fv(),g.set(p,l)):l=x}else{let g=l.p;g===null&&(l.p=g=new Map);const x=g.get(p);x===void 0?(l=fv(),g.set(p,l)):l=x}}const u=l;let d;if(l.s===T8)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Pme(d):d}return u.s=T8,u.v=d,d}return i.clearCache=()=>{r=fv(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Fme(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),jme(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=Yz,argsMemoizeOptions:p=[]}=d,g=C8(h),x=C8(p),v=Eme(a),y=f(function(){return s++,u.apply(null,arguments)},...g),b=m(function(){i++;const A=Cme(v,arguments);return l=y.apply(null,A),l},...x);return Object.assign(b,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var De=Fme(Yz),Lme=Object.assign((e,t=De)=>{Ame(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>Lme}),Xz={},Zz={},Jz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),l=t(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};e.compareValues=r})(Jz);var Qz={},qA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(Qz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz,r=Qz,n=I2;function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let g=m;for(let x=0;x<p.length&&g!=null;++x)g=g[p[x]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const x=t.compareValues(m.criteria[g],p.criteria[g],l[g]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=a})(Zz);var eU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t})(eU);var GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA,r=M2,n=RA,a=zA;function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}e.isIterateeCall=s})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz,r=eU,n=GA;function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(Xz);var Dme=Xz.sortBy;const B2=Pl(Dme);var tU=e=>e.legend.settings,Ime=e=>e.legend.size,Mme=e=>e.legend.payload,Rme=De([Mme,tU],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?B2(n,r):n});function Bme(){return St(Rme)}var hv=1;function rU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>hv||Math.abs(i.left-t.left)>hv||Math.abs(i.top-t.top)>hv||Math.abs(i.width-t.width)>hv)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ma(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zme=typeof Symbol=="function"&&Symbol.observable||"@@observable",P8=zme,Dk=()=>Math.random().toString(36).substring(7).split("").join("."),Ume={INIT:`@@redux/INIT${Dk()}`,REPLACE:`@@redux/REPLACE${Dk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dk()}`},rb=Ume;function KA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function nU(e,t,r){if(typeof e!="function")throw new Error(Ma(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ma(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ma(1));return r(nU)(e,t)}let n=e,a=t,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((x,v)=>{i.set(v,x)}))}function d(){if(c)throw new Error(Ma(3));return a}function f(x){if(typeof x!="function")throw new Error(Ma(4));if(c)throw new Error(Ma(5));let v=!0;u();const y=l++;return i.set(y,x),function(){if(v){if(c)throw new Error(Ma(6));v=!1,u(),i.delete(y),s=null}}}function h(x){if(!KA(x))throw new Error(Ma(7));if(typeof x.type>"u")throw new Error(Ma(8));if(typeof x.type!="string")throw new Error(Ma(17));if(c)throw new Error(Ma(9));try{c=!0,a=n(a,x)}finally{c=!1}return(s=i).forEach(y=>{y()}),x}function m(x){if(typeof x!="function")throw new Error(Ma(10));n=x,h({type:rb.REPLACE})}function p(){const x=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ma(11));function y(){const N=v;N.next&&N.next(d())}return y(),{unsubscribe:x(y)}},[P8](){return this}}}return h({type:rb.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[P8]:p}}function $me(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:rb.INIT})>"u")throw new Error(Ma(12));if(typeof r(void 0,{type:rb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ma(13))})}function aU(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{$me(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=i[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Ma(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function nb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Wme(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Ma(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(i));return s=nb(...l)(a.dispatch),{...a,dispatch:s}}}function sU(e){return KA(e)&&"type"in e&&typeof e.type=="string"}var iU=Symbol.for("immer-nothing"),O8=Symbol.for("immer-draftable"),Ls=Symbol.for("immer-state");function Io(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wi=Object,xh=wi.getPrototypeOf,ab="constructor",z2="prototype",sS="configurable",sb="enumerable",Jv="writable",jg="value",yc=e=>!!e&&!!e[Ls];function Yo(e){var t;return e?oU(e)||U2(e)||!!e[O8]||!!((t=e[ab])!=null&&t[O8])||$2(e)||W2(e):!1}var Hme=wi[z2][ab].toString(),F8=new WeakMap;function oU(e){if(!e||!YA(e))return!1;const t=xh(e);if(t===null||t===wi[z2])return!0;const r=wi.hasOwnProperty.call(t,ab)&&t[ab];if(r===Object)return!0;if(!Nf(r))return!1;let n=F8.get(r);return n===void 0&&(n=Function.toString.call(r),F8.set(r,n)),n===Hme}function gx(e,t,r=!0){xx(e)===0?(r?Reflect.ownKeys(e):wi.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function xx(e){const t=e[Ls];return t?t.type_:U2(e)?1:$2(e)?2:W2(e)?3:0}var L8=(e,t,r=xx(e))=>r===2?e.has(t):wi[z2].hasOwnProperty.call(e,t),iS=(e,t,r=xx(e))=>r===2?e.get(t):e[t],ib=(e,t,r,n=xx(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Vme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var U2=Array.isArray,$2=e=>e instanceof Map,W2=e=>e instanceof Set,YA=e=>typeof e=="object",Nf=e=>typeof e=="function",Ik=e=>typeof e=="boolean",Zl=e=>e.copy_||e.base_,XA=e=>e.modified_?e.copy_:e.base_;function oS(e,t){if($2(e))return new Map(e);if(W2(e))return new Set(e);if(U2(e))return Array[z2].slice.call(e);const r=oU(e);if(t===!0||t==="class_only"&&!r){const n=wi.getOwnPropertyDescriptors(e);delete n[Ls];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l[Jv]===!1&&(l[Jv]=!0,l[sS]=!0),(l.get||l.set)&&(n[i]={[sS]:!0,[Jv]:!0,[sb]:l[sb],[jg]:e[i]})}return wi.create(xh(e),n)}else{const n=xh(e);if(n!==null&&r)return{...e};const a=wi.create(n);return wi.assign(a,e)}}function ZA(e,t=!1){return H2(e)||yc(e)||!Yo(e)||(xx(e)>1&&wi.defineProperties(e,{set:mv,add:mv,clear:mv,delete:mv}),wi.freeze(e),t&&gx(e,(r,n)=>{ZA(n,!0)},!1)),e}function qme(){Io(2)}var mv={[jg]:qme};function H2(e){return e===null||!YA(e)?!0:wi.isFrozen(e)}var ob="MapSet",lS="Patches",lU={};function vh(e){const t=lU[e];return t||Io(0,e),t}var Gme=e=>!!lU[e],Ag,cU=()=>Ag,Kme=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Gme(ob)?vh(ob):void 0});function D8(e,t){t&&(e.patchPlugin_=vh(lS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cS(e){uS(e),e.drafts_.forEach(Yme),e.drafts_=null}function uS(e){e===Ag&&(Ag=e.parent_)}var I8=e=>Ag=Kme(Ag,e);function Yme(e){const t=e[Ls];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function M8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ls].modified_&&(cS(t),Io(4)),Yo(e)&&(e=R8(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ls].base_,e,t)}else e=R8(t,r);return Xme(t,e,!0),cS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iU?e:void 0}function R8(e,t){if(H2(t))return t;const r=t[Ls];if(!r)return JA(t,e.handledSet_,e);if(!V2(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);fU(r,e)}return r.copy_}function Xme(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ZA(t,r)}function uU(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var V2=(e,t)=>e.scope_===t,Zme=[];function dU(e,t,r,n){const a=Zl(e),s=e.type_;if(n!==void 0&&iS(a,n,s)===t){ib(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;gx(a,(c,u)=>{if(yc(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const i=e.draftLocations_.get(t)??Zme;for(const l of i)ib(a,l,r,s)}function Jme(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!V2(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const i=XA(s);dU(e,s.draft_??s,i,r),fU(s,a)})}function fU(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}uU(e)}}function Qme(e,t,r){const{scope_:n}=e;if(yc(r)){const a=r[Ls];V2(a,n)&&a.callbacks_.push(function(){Qv(e);const i=XA(a);dU(e,r,i,t)})}else Yo(r)&&e.callbacks_.push(function(){const s=Zl(e);iS(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&JA(iS(e.copy_,t,e.type_),n.handledSet_,n)})}function JA(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||yc(e)||t.has(e)||!Yo(e)||H2(e)||(t.add(e),gx(e,(n,a)=>{if(yc(a)){const s=a[Ls];if(V2(s,r)){const i=XA(s);ib(e,n,i,e.type_),uU(s)}}else Yo(a)&&JA(a,t,r)})),e}function epe(e,t){const r=U2(e),n={type_:r?1:0,scope_:t?t.scope_:cU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=QA;r&&(a=[n],s=_g);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,[l,n]}var QA={get(e,t){if(t===Ls)return e;const r=Zl(e);if(!L8(r,t,e.type_))return tpe(e,r,t);const n=r[t];if(e.finalized_||!Yo(n))return n;if(n===Mk(e.base_,t)){Qv(e);const a=e.type_===1?+t:t,s=fS(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Zl(e)},ownKeys(e){return Reflect.ownKeys(Zl(e))},set(e,t,r){const n=hU(Zl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Mk(Zl(e),t),s=a==null?void 0:a[Ls];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Vme(r,a)&&(r!==void 0||L8(e.base_,t,e.type_)))return!0;Qv(e),dS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Qme(e,t,r)),!0},deleteProperty(e,t){return Qv(e),Mk(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),dS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Jv]:!0,[sS]:e.type_!==1||t!=="length",[sb]:n[sb],[jg]:r[t]}},defineProperty(){Io(11)},getPrototypeOf(e){return xh(e.base_)},setPrototypeOf(){Io(12)}},_g={};gx(QA,(e,t)=>{_g[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});_g.deleteProperty=function(e,t){return _g.set.call(this,e,t,void 0)};_g.set=function(e,t,r){return QA.set.call(this,e[0],t,r,e[0])};function Mk(e,t){const r=e[Ls];return(r?Zl(r):e)[t]}function tpe(e,t,r){var a;const n=hU(t,r);return n?jg in n?n[jg]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function hU(e,t){if(!(t in e))return;let r=xh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xh(r)}}function dS(e){e.modified_||(e.modified_=!0,e.parent_&&dS(e.parent_))}function Qv(e){e.copy_||(e.assigned_=new Map,e.copy_=oS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Nf(r)&&!Nf(n)){const i=n;n=r;const l=this;return function(u=i,...d){return l.produce(u,f=>n.call(this,f,...d))}}Nf(n)||Io(6),a!==void 0&&!Nf(a)&&Io(7);let s;if(Yo(r)){const i=I8(this),l=fS(i,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?cS(i):uS(i)}return D8(i,a),M8(s,i)}else if(!r||!YA(r)){if(s=n(r),s===void 0&&(s=r),s===iU&&(s=void 0),this.autoFreeze_&&ZA(s,!0),a){const i=[],l=[];vh(lS).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:l}),a(i,l)}return s}else Io(1,r)},this.produceWithPatches=(r,n)=>{if(Nf(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},Ik(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ik(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ik(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Yo(t)||Io(8),yc(t)&&(t=qo(t));const r=I8(this),n=fS(r,t,void 0);return n[Ls].isManual_=!0,uS(r),n}finishDraft(t,r){const n=t&&t[Ls];(!n||!n.isManual_)&&Io(9);const{scope_:a}=n;return D8(a,r),M8(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=vh(lS).applyPatches_;return yc(t)?a(t,r):this.produce(t,s=>a(s,r))}};function fS(e,t,r,n){const[a,s]=$2(t)?vh(ob).proxyMap_(t,r):W2(t)?vh(ob).proxySet_(t,r):epe(t,r);return((r==null?void 0:r.scope_)??cU()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?Jme(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function qo(e){return yc(e)||Io(10,e),mU(e)}function mU(e){if(!Yo(e)||H2(e))return e;const t=e[Ls];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=oS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=oS(e,!0);return gx(r,(a,s)=>{ib(r,a,mU(s))},n),t&&(t.finalized_=!1),r}var npe=new rpe,pU=npe.produce;function gU(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var ape=gU(),spe=gU,ipe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nb:nb.apply(null,arguments)};function ho(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Si(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>sU(n)&&n.type===e,r}var xU=class ip extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ip.prototype)}static get[Symbol.species](){return ip}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ip(...t[0].concat(this)):new ip(...t.concat(this))}};function B8(e){return Yo(e)?pU(e,()=>{}):e}function pv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ope(e){return typeof e=="boolean"}var lpe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new xU;return r&&(ope(r)?i.push(ape):i.push(spe(r.extraArgument))),i},vU="RTK_autoBatch",Zr=()=>e=>({payload:e,meta:{[vU]:!0}}),z8=e=>t=>{setTimeout(t,e)},yU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:z8(10):e.type==="callback"?e.queueNotification:z8(e.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[vU]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},cpe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new xU(e);return n&&a.push(yU(typeof n=="object"?n:void 0)),a};function upe(e){const t=lpe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(KA(r))l=aU(r);else throw new Error(Si(1));let c;typeof n=="function"?c=n(t):c=t();let u=nb;a&&(u=ipe({trace:!1,...typeof a=="object"&&a}));const d=Wme(...c),f=cpe(d);let h=typeof i=="function"?i(f):f();const m=u(...h);return nU(l,s,m)}function bU(e){const t={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Si(28));if(l in t)throw new Error(Si(29));return t[l]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function dpe(e){return typeof e=="function"}function fpe(e,t){let[r,n,a]=bU(t),s;if(dpe(e))s=()=>B8(e());else{const l=B8(e);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(yc(d)){const m=f(d,c);return m===void 0?d:m}else{if(Yo(d))return pU(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return i.getInitialState=s,i}var hpe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mpe=(e=21)=>{let t="",r=e;for(;r--;)t+=hpe[Math.random()*64|0];return t},ppe=Symbol.for("rtk-slice-createasyncthunk");function gpe(e,t){return`${e}/${t}`}function xpe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ppe];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Si(11));const l=(typeof a.reducers=="function"?a.reducers(ype()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,A){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(Si(12));if(S in u.sliceCaseReducersByType)throw new Error(Si(13));return u.sliceCaseReducersByType[S]=A,d},addMatcher(N,A){return u.sliceMatchers.push({matcher:N,reducer:A}),d},exposeAction(N,A){return u.actionCreators[N]=A,d},exposeCaseReducer(N,A){return u.sliceCaseReducersByName[N]=A,d}};c.forEach(N=>{const A=l[N],S={reducerName:N,type:gpe(s,N),createNotation:typeof a.reducers=="function"};wpe(A)?Npe(S,A,d,t):bpe(S,A,d)});function f(){const[N={},A=[],S=void 0]=typeof a.extraReducers=="function"?bU(a.extraReducers):[a.extraReducers],j={...N,...u.sliceCaseReducersByType};return fpe(a.initialState,E=>{for(let C in j)E.addCase(C,j[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of A)E.addMatcher(C.matcher,C.reducer);S&&E.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let g;function x(N,A){return g||(g=f()),g(N,A)}function v(){return g||(g=f()),g.getInitialState()}function y(N,A=!1){function S(E){let C=E[N];return typeof C>"u"&&A&&(C=pv(p,S,v)),C}function j(E=h){const C=pv(m,A,()=>new WeakMap);return pv(C,E,()=>{const I={};for(const[T,P]of Object.entries(a.selectors??{}))I[T]=vpe(P,E,()=>pv(p,E,v),A);return I})}return{reducerPath:N,getSelectors:j,get selectors(){return j(S)},selectSlice:S}}const b={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(i),injectInto(N,{reducerPath:A,...S}={}){const j=A??i;return N.inject({reducerPath:j,reducer:x},S),{...b,...y(j,!0)}}};return b}}function vpe(e,t,r,n){function a(s,...i){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return a.unwrapped=e,a}var si=xpe();function ype(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function bpe({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!kpe(n))throw new Error(Si(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?ho(e,i):ho(e))}function wpe(e){return e._reducerDefinitionType==="asyncThunk"}function kpe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Npe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Si(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||gv,pending:l||gv,rejected:c||gv,settled:u||gv})}function gv(){}var Spe="task",wU="listener",kU="completed",e6="cancelled",jpe=`task-${e6}`,Ape=`task-${kU}`,hS=`${wU}-${e6}`,_pe=`${wU}-${kU}`,q2=class{constructor(e){T5(this,"name","TaskAbortError");T5(this,"message");this.code=e,this.message=`${Spe} ${e6} (reason: ${e})`}},t6=(e,t)=>{if(typeof e!="function")throw new TypeError(Si(32))},lb=()=>{},NU=(e,t=lb)=>(e.catch(t),e),SU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),e0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},t0=e=>{if(e.aborted){const{reason:t}=e;throw new q2(t)}};function jU(e,t){let r=lb;return new Promise((n,a)=>{const s=()=>a(new q2(e.reason));if(e.aborted){s();return}r=SU(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=lb})}var Epe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof q2?"cancelled":"rejected",error:r}}finally{t==null||t()}},cb=e=>t=>NU(jU(e,t).then(r=>(t0(e),r))),AU=e=>{const t=cb(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:eh}=Object,U8={},G2="listenerMiddleware",Cpe=(e,t)=>{const r=n=>SU(e,()=>e0(n,e.reason));return(n,a)=>{t6(n);const s=new AbortController;r(s);const i=Epe(async()=>{t0(e),t0(s.signal);const l=await n({pause:cb(s.signal),delay:AU(s.signal),signal:s.signal});return t0(s.signal),l},()=>e0(s,Ape));return a!=null&&a.autoJoin&&t.push(i.catch(lb)),{result:cb(e)(i),cancel(){e0(s,jpe)}}}},Tpe=(e,t)=>{const r=async(n,a)=>{t0(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await jU(t,Promise.race(l));return t0(t),c}finally{s()}};return(n,a)=>NU(r(n,a))},_U=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=ho(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Si(21));return t6(s),{predicate:a,type:t,effect:s}},EU=eh(e=>{const{type:t,predicate:r,effect:n}=_U(e);return{id:mpe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Si(22))}}},{withTypes:()=>EU}),$8=(e,t)=>{const{type:r,effect:n,predicate:a}=_U(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},mS=e=>{e.pending.forEach(t=>{e0(t,hS)})},Ppe=(e,t)=>()=>{for(const r of t.keys())mS(r);e.clear()},W8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},CU=eh(ho(`${G2}/add`),{withTypes:()=>CU}),Ope=ho(`${G2}/removeAll`),TU=eh(ho(`${G2}/remove`),{withTypes:()=>TU}),Fpe=(...e)=>{console.error(`${G2}/error`,...e)},vx=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:i=Fpe}=e;t6(i);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&mS(m)}),c=m=>{const p=$8(t,m)??EU(m);return l(p)};eh(c,{withTypes:()=>c});const u=m=>{const p=$8(t,m);return p&&(p.unsubscribe(),m.cancelActive&&mS(p)),!!p};eh(u,{withTypes:()=>u});const d=async(m,p,g,x)=>{const v=new AbortController,y=Tpe(c,v.signal),b=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(p,eh({},g,{getOriginalState:x,condition:(N,A)=>y(N,A).then(Boolean),take:y,delay:AU(v.signal),pause:cb(v.signal),extra:s,signal:v.signal,fork:Cpe(v.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,A,S)=>{N!==v&&(e0(N,hS),S.delete(N))})},cancel:()=>{e0(v,hS),m.pending.delete(v)},throwIfCancelled:()=>{t0(v.signal)}})))}catch(N){N instanceof q2||W8(i,N,{raisedBy:"effect"})}finally{await Promise.all(b),e0(v,_pe),a(m),m.pending.delete(v)}},f=Ppe(t,r);return{middleware:m=>p=>g=>{if(!sU(g))return p(g);if(CU.match(g))return c(g.payload);if(Ope.match(g)){f();return}if(TU.match(g))return u(g.payload);let x=m.getState();const v=()=>{if(x===U8)throw new Error(Si(23));return x};let y;try{if(y=p(g),t.size>0){const b=m.getState(),N=Array.from(t.values());for(const A of N){let S=!1;try{S=A.predicate(g,b,x)}catch(j){S=!1,W8(i,j,{raisedBy:"predicate"})}S&&d(A,g,m,v)}}}finally{x=U8}return y},startListening:c,stopListening:u,clearListeners:f}};function Si(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Lpe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PU=si({name:"chartLayout",initialState:Lpe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Dpe,setLayout:Ipe,setChartSize:Mpe,setScale:Rpe}=PU.actions,Bpe=PU.reducer;function OU(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function hn(e){return Number.isFinite(e)}function Cl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zpe(e,t,r){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Upe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t,r){return nn(e)||nn(t)?r:El(t)?b0(e,t,r):typeof t=="function"?t(e):r}var Wpe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&Nt(e[s]))return Mf(Mf({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&Nt(e[i]))return Mf(Mf({},e),{},{[i]:e[i]+(a||0)})}return e},sd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",FU=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,i=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||i.push(t),s||i.push(r),i},LU=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!i)return null;var p=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/p:0;if(g=m==="angleAxis"&&s&&s.length>=2?Ta(s[0]-s[1])*2*g:g,f||h){var x=(f||h||[]).map((v,y)=>{var b=n?n.indexOf(v):v;return{coordinate:i(b)+g,value:v,offset:g,index:y}});return x.filter(v=>!Ko(v.coordinate))}return c&&u?u.map((v,y)=>({coordinate:i(v)+g,value:v,index:y,offset:g})):i.ticks&&d!=null?i.ticks(d).map((v,y)=>({coordinate:i(v)+g,value:v,offset:g,index:y})):i.domain().map((v,y)=>({coordinate:i(v)+g,value:n?n[v]:v,index:y,offset:g}))},V8=1e-4,Hpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-V8,s=Math.max(n[0],n[1])+V8,i=e(t[0]),l=e(t[r-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},Vpe=(e,t)=>{if(!t||t.length!==2||!Nt(t[0])||!Nt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Nt(e[0])||e[0]<r)&&(a[0]=r),(!Nt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},qpe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,i=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Ko(d)?f:d;h>=0?(u[0]=s,u[1]=s+h,s=d):(u[0]=i,u[1]=i+h,i=d)}}}},Gpe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,i=0;i<r;++i){var l=e[i],c=l==null?void 0:l[a];if(c!=null){var u=Ko(c[1])?c[0]:c[1];u>=0?(c[0]=s,c[1]=s+u,s=c[1]):(c[0]=0,c[1]=0)}}}},Kpe={sign:qpe,expand:Ahe,none:y0,silhouette:_he,wiggle:Ehe,positive:Gpe},Ype=(e,t,r)=>{var n,a=(n=Kpe[r])!==null&&n!==void 0?n:y0,s=jhe().keys(t).value((l,c)=>Number(Or(l,c,0))).order(nS).offset(a),i=s(e);return i.forEach((l,c)=>{l.forEach((u,d)=>{var f=Or(e[d],t[c],0);Array.isArray(f)&&f.length===2&&Nt(f[0])&&Nt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),i};function Xpe(e){return e==null?void 0:String(e)}function q8(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nn(a[t.dataKey])){var l=Sz(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Or(a,nn(i)?t.dataKey:i);return nn(c)?null:t.scale(c)}var G8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=Or(s,t.dataKey,t.scale.domain()[i]);return nn(l)?null:t.scale(l)-a/2+n},Zpe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Jpe=e=>{var t=e.flat(2).filter(Nt);return[Math.min(...t),Math.max(...t)]},Qpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ege=(e,t,r)=>{if(e!=null)return Qpe(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:i}=s,l=i.reduce((c,u)=>{var d=OU(u,t,r),f=Jpe(d);return!hn(f[0])||!hn(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},K8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=B2(t,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function X8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Mf(Mf({},t),{},{dataKey:r,payload:n,value:a,name:s})}function $h(e,t){if(e)return String(e);if(typeof t=="string")return t}var tge=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},rge=(e,t)=>t==="centric"?e.angle:e.radius,Fc=e=>e.layout.width,Lc=e=>e.layout.height,nge=e=>e.layout.scale,DU=e=>e.layout.margin,K2=De(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Y2=De(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),IU="data-recharts-item-index",MU="data-recharts-item-id",yx=60;function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){age(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function age(e,t,r){return(t=sge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sge(e){var t=ige(e,"string");return typeof t=="symbol"?t:t+""}function ige(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oge=e=>e.brush.height;function lge(e){var t=Y2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:yx;return r+a}return r},0)}function cge(e){var t=Y2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:yx;return r+a}return r},0)}function uge(e){var t=K2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function dge(e){var t=K2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pa=De([Fc,Lc,DU,oge,lge,cge,uge,dge,tU,Ime],(e,t,r,n,a,s,i,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+l},h=xv(xv({},f),d),m=h.bottom;h.bottom+=n,h=Wpe(h,c,u);var p=e-h.left-h.right,g=t-h.top-h.bottom;return xv(xv({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),fge=De(pa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r6=De(Fc,Lc,(e,t)=>({x:0,y:0,width:e,height:t})),hge=k.createContext(null),vs=()=>k.useContext(hge)!=null,X2=e=>e.brush,Z2=De([X2,pa,DU],(e,t,r)=>({height:e.height,x:Nt(e.x)?e.x:t.left,y:Nt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Nt(e.width)?e.width:t.width})),RU={},BU={},zU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),i=void 0,l=null},x=()=>{d()},v=function(...y){if(a!=null&&a.aborted)return;i=this,l=y;const b=h==null;m(),c&&b&&d()};return v.schedule=m,v.cancel=g,v.flush=x,a==null||a.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(zU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zU;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(BU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU;function r(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:l})}e.throttle=r})(RU);var mge=RU.throttle;const pge=Pl(mge);var ub=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},UU=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,l=vc(n)?e:Number(n),c=vc(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:l,calculatedHeight:c}},gge={width:0,height:0,overflow:"visible"},xge={width:0,overflowX:"visible"},vge={height:0,overflowY:"visible"},yge={},bge=e=>{var{width:t,height:r}=e,n=vc(t),a=vc(r);return n&&a?gge:n?xge:a?vge:yge};function wge(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(null,arguments)}function J8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(r),!0).forEach(function(n){kge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kge(e,t,r){return(t=Nge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nge(e){var t=Sge(e,"string");return typeof t=="symbol"?t:t+""}function Sge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $U=k.createContext({width:-1,height:-1});function jge(e){return Cl(e.width)&&Cl(e.height)}function WU(e){var{children:t,width:r,height:n}=e,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return jge(a)?k.createElement($U.Provider,{value:a},t):null}var n6=()=>k.useContext($U),Age=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=k.useRef(null),x=k.useRef();x.current=m,k.useImperativeHandle(t,()=>g.current);var[v,y]=k.useState({containerWidth:n.width,containerHeight:n.height}),b=k.useCallback((E,C)=>{y(I=>{var T=Math.round(E),P=Math.round(C);return I.containerWidth===T&&I.containerHeight===P?I:{containerWidth:T,containerHeight:P}})},[]);k.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return mx;var E=P=>{var H,{width:q,height:ae}=P[0].contentRect;b(q,ae),(H=x.current)===null||H===void 0||H.call(x,q,ae)};d>0&&(E=pge(E,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(E),{width:I,height:T}=g.current.getBoundingClientRect();return b(I,T),C.observe(g.current),()=>{C.disconnect()}},[b,d]);var{containerWidth:N,containerHeight:A}=v;ub(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:j}=UU(N,A,{width:a,height:s,aspect:r,maxHeight:c});return ub(S!=null&&S>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,j,a,s,i,l,r),k.createElement("div",{id:f?"".concat(f):void 0,className:hr("recharts-responsive-container",h),style:Q8(Q8({},p),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:g},k.createElement("div",{style:bge({width:a,height:s})},k.createElement(WU,{width:S,height:j},u)))}),gS=k.forwardRef((e,t)=>{var r=n6();if(Cl(r.width)&&Cl(r.height))return e.children;var{width:n,height:a}=wge({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=UU(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Nt(s)&&Nt(i)?k.createElement(WU,{width:s,height:i},e.children):k.createElement(Age,pS({},e,{width:n,height:a,ref:t}))});function HU(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var J2=()=>{var e,t=vs(),r=St(fge),n=St(Z2),a=(e=St(X2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},_ge={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VU=()=>{var e;return(e=St(pa))!==null&&e!==void 0?e:_ge},a6=()=>St(Fc),s6=()=>St(Lc),Ege=()=>St(e=>e.layout.margin),ir=e=>e.layout.layoutType,Wh=()=>St(ir),Cge=()=>{var e=Wh();return e!==void 0},Q2=e=>{var t=Ur(),r=vs(),{width:n,height:a}=e,s=n6(),i=n,l=a;return s&&(i=s.width>0?s.width:n,l=s.height>0?s.height:a),k.useEffect(()=>{!r&&Cl(i)&&Cl(l)&&t(Mpe({width:i,height:l}))},[t,r,i,l]),null},qU=Symbol.for("immer-nothing"),e7=Symbol.for("immer-draftable"),Ti=Symbol.for("immer-state");function Mo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Eg=Object.getPrototypeOf;function bh(e){return!!e&&!!e[Ti]}function w0(e){var t;return e?GU(e)||Array.isArray(e)||!!e[e7]||!!((t=e.constructor)!=null&&t[e7])||bx(e)||tw(e):!1}var Tge=Object.prototype.constructor.toString(),t7=new WeakMap;function GU(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=t7.get(r);return n===void 0&&(n=Function.toString.call(r),t7.set(r,n)),n===Tge}function db(e,t,r=!0){ew(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ew(e){const t=e[Ti];return t?t.type_:Array.isArray(e)?1:bx(e)?2:tw(e)?3:0}function xS(e,t){return ew(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KU(e,t,r){const n=ew(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Pge(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bx(e){return e instanceof Map}function tw(e){return e instanceof Set}function Ad(e){return e.copy_||e.base_}function vS(e,t){if(bx(e))return new Map(e);if(tw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=GU(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ti];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Eg(e),n)}else{const n=Eg(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function i6(e,t=!1){return rw(e)||bh(e)||!w0(e)||(ew(e)>1&&Object.defineProperties(e,{set:vv,add:vv,clear:vv,delete:vv}),Object.freeze(e),t&&Object.values(e).forEach(r=>i6(r,!0))),e}function Oge(){Mo(2)}var vv={value:Oge};function rw(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Fge={};function k0(e){const t=Fge[e];return t||Mo(0,e),t}var Cg;function YU(){return Cg}function Lge(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r7(e,t){t&&(k0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yS(e){bS(e),e.drafts_.forEach(Dge),e.drafts_=null}function bS(e){e===Cg&&(Cg=e.parent_)}function n7(e){return Cg=Lge(Cg,e)}function Dge(e){const t=e[Ti];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function a7(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ti].modified_&&(yS(t),Mo(4)),w0(e)&&(e=fb(t,e),t.parent_||hb(t,e)),t.patches_&&k0("Patches").generateReplacementPatches_(r[Ti].base_,e,t.patches_,t.inversePatches_)):e=fb(t,r,[]),yS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qU?e:void 0}function fb(e,t,r){if(rw(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ti];if(!a)return db(t,(s,i)=>s7(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return hb(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),db(i,(c,u)=>s7(e,a,s,c,u,r,l),n),hb(e,s,!1),r&&e.patches_&&k0("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function s7(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const l=rw(a);if(!(l&&!i)){if(bh(a)){const c=s&&t&&t.type_!==3&&!xS(t.assigned_,n)?s.concat(n):void 0,u=fb(e,a,c);if(KU(r,n,u),bh(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(w0(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;fb(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(bx(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&hb(e,a)}}}function hb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&i6(t,r)}function Ige(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:YU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=o6;r&&(a=[n],s=Tg);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var o6={get(e,t){if(t===Ti)return e;const r=Ad(e);if(!xS(r,t))return Mge(e,r,t);const n=r[t];return e.finalized_||!w0(n)?n:n===Rk(e.base_,t)?(Bk(e),e.copy_[t]=kS(n,e)):n},has(e,t){return t in Ad(e)},ownKeys(e){return Reflect.ownKeys(Ad(e))},set(e,t,r){const n=XU(Ad(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Rk(Ad(e),t),s=a==null?void 0:a[Ti];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Pge(r,a)&&(r!==void 0||xS(e.base_,t)))return!0;Bk(e),wS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rk(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bk(e),wS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ad(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Mo(11)},getPrototypeOf(e){return Eg(e.base_)},setPrototypeOf(){Mo(12)}},Tg={};db(o6,(e,t)=>{Tg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tg.deleteProperty=function(e,t){return Tg.set.call(this,e,t,void 0)};Tg.set=function(e,t,r){return o6.set.call(this,e[0],t,r,e[0])};function Rk(e,t){const r=e[Ti];return(r?Ad(r):e)[t]}function Mge(e,t,r){var a;const n=XU(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function XU(e,t){if(!(t in e))return;let r=Eg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Eg(r)}}function wS(e){e.modified_||(e.modified_=!0,e.parent_&&wS(e.parent_))}function Bk(e){e.copy_||(e.copy_=vS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rge=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Mo(6),n!==void 0&&typeof n!="function"&&Mo(7);let a;if(w0(t)){const s=n7(this),i=kS(t,void 0);let l=!0;try{a=r(i),l=!1}finally{l?yS(s):bS(s)}return r7(s,n),a7(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===qU&&(a=void 0),this.autoFreeze_&&i6(a,!0),n){const s=[],i=[];k0("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else Mo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,a;return[this.produce(t,r,(i,l)=>{n=i,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){w0(e)||Mo(8),bh(e)&&(e=Bge(e));const t=n7(this),r=kS(e,void 0);return r[Ti].isManual_=!0,bS(t),r}finishDraft(e,t){const r=e&&e[Ti];(!r||!r.isManual_)&&Mo(9);const{scope_:n}=r;return r7(n,t),a7(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=k0("Patches").applyPatches_;return bh(e)?n(e,t):this.produce(e,a=>n(a,t))}};function kS(e,t){const r=bx(e)?k0("MapSet").proxyMap_(e,t):tw(e)?k0("MapSet").proxySet_(e,t):Ige(e,t);return(t?t.scope_:YU()).drafts_.push(r),r}function Bge(e){return bh(e)||Mo(10,e),ZU(e)}function ZU(e){if(!w0(e)||rw(e))return e;const t=e[Ti];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=vS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=vS(e,!0);return db(r,(a,s)=>{KU(r,a,ZU(s))},n),t&&(t.finalized_=!1),r}var zge=new Rge;zge.produce;var Uge={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JU=si({name:"legend",initialState:Uge,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=qo(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Zr()},removeLegendPayload:{reducer(e,t){var r=qo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zr()}}}),{setLegendSize:i7,setLegendSettings:$ge,addLegendPayload:QU,replaceLegendPayload:e$,removeLegendPayload:t$}=JU.actions,Wge=JU.reducer,Hge=["contextPayload"];function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NS.apply(null,arguments)}function o7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o7(Object(r),!0).forEach(function(n){Vge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vge(e,t,r){return(t=qge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qge(e){var t=Gge(e,"string");return typeof t=="symbol"?t:t+""}function Gge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kge(e,t){if(e==null)return{};var r,n,a=Yge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xge(e){return e.value}function Zge(e){var{contextPayload:t}=e,r=Kge(e,Hge),n=Hz(t,e.payloadUniqBy,Xge),a=wh(wh({},r),{},{payload:n});return k.isValidElement(e.content)?k.cloneElement(e.content,a):typeof e.content=="function"?k.createElement(e.content,a):k.createElement(tme,a)}function Jge(e,t,r,n,a,s){var{layout:i,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),wh(wh({},u),d)}function Qge(e){var t=Ur();return k.useEffect(()=>{t($ge(e))},[t,e]),null}function exe(e){var t=Ur();return k.useEffect(()=>(t(i7(e)),()=>{t(i7({width:0,height:0}))}),[t,e]),null}function txe(e,t,r,n){return e==="vertical"&&Nt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var rxe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function r$(e){var t=na(e,rxe),r=Bme(),n=Yfe(),a=Ege(),{width:s,height:i,wrapperStyle:l,portal:c}=t,[u,d]=rU([r]),f=a6(),h=s6();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=txe(t.layout,i,s,m),g=c?l:wh(wh({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},Jge(l,t,a,f,h,u)),l),x=c??n;if(x==null||r==null)return null;var v=k.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},k.createElement(Qge,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&k.createElement(exe,{width:u.width,height:u.height}),k.createElement(Zge,NS({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return d2.createPortal(v,x)}r$.displayName="Legend";function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(null,arguments)}function l7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(r),!0).forEach(function(n){nxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nxe(e,t,r){return(t=axe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function axe(e){var t=sxe(e,"string");return typeof t=="symbol"?t:t+""}function sxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ixe(e){return Array.isArray(e)&&El(e[0])&&El(e[1])?e.join(" ~ "):e}var oxe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var A={padding:0,margin:0},S=(l?B2(s,l):s).map((j,E)=>{if(j.type==="none")return null;var C=j.formatter||i||ixe,{value:I,name:T}=j,P=I,H=T;if(C){var q=C(I,T,j,E,s);if(Array.isArray(q))[P,H]=q;else if(q!=null)P=q;else return null}var ae=zk({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ae},El(H)?k.createElement("span",{className:"recharts-tooltip-item-name"},H):null,El(H)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},P),k.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:A},S)}return null},p=zk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=zk({margin:0},a),x=!nn(d),v=x?d:"",y=hr("recharts-default-tooltip",c),b=hr("recharts-tooltip-label",u);x&&f&&s!==void 0&&s!==null&&(v=f(d,s));var N=h?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",SS({className:y,style:p},N),k.createElement("p",{className:b,style:g},k.isValidElement(v)?v:"".concat(v)),m())},Hm="recharts-tooltip-wrapper",lxe={visibility:"hidden"};function cxe(e){var{coordinate:t,translateX:r,translateY:n}=e;return hr(Hm,{["".concat(Hm,"-right")]:Nt(r)&&t&&Nt(t.x)&&r>=t.x,["".concat(Hm,"-left")]:Nt(r)&&t&&Nt(t.x)&&r<t.x,["".concat(Hm,"-bottom")]:Nt(n)&&t&&Nt(t.y)&&n>=t.y,["".concat(Hm,"-top")]:Nt(n)&&t&&Nt(t.y)&&n<t.y})}function c7(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&Nt(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=c[n];if(h==null)return 0;if(i[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+l,x=h+u;return g>x?Math.max(d,h):Math.max(f,h)}function uxe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dxe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=c7({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=c7({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=uxe({translateX:d,translateY:f,useTranslate3d:l})):u=lxe,{cssProperties:u,cssClasses:cxe({translateX:d,translateY:f,coordinate:r})}}function u7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u7(Object(r),!0).forEach(function(n){jS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jS(e,t,r){return(t=fxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fxe(e){var t=hxe(e,"string");return typeof t=="symbol"?t:t+""}function hxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mxe extends k.PureComponent{constructor(){super(...arguments),jS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=dxe({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),N=v?{}:yv(yv({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),A=yv(yv({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:A,ref:x},s)}}var n$=()=>{var e;return(e=St(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AS.apply(null,arguments)}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pxe(e,t,r){return(t=gxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gxe(e){var t=xxe(e,"string");return typeof t=="symbol"?t:t+""}function xxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7={curveBasisClosed:mhe,curveBasisOpen:phe,curveBasis:hhe,curveBumpX:Qfe,curveBumpY:ehe,curveLinearClosed:ghe,curveLinear:O2,curveMonotoneX:xhe,curveMonotoneY:vhe,curveNatural:yhe,curveStep:bhe,curveStepAfter:khe,curveStepBefore:whe},mb=e=>hn(e.x)&&hn(e.y),m7=e=>e.base!=null&&mb(e.base)&&mb(e),Vm=e=>e.x,qm=e=>e.y,vxe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(hx(e));return(r==="curveMonotone"||r==="curveBump")&&t?h7["".concat(r).concat(t==="vertical"?"Y":"X")]:h7[r]||O2},yxe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=vxe(t,a),l=s?r.filter(mb):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>f7(f7({},m),{},{base:n[p]}));a==="vertical"?c=dv().y(qm).x1(Vm).x0(m=>m.base.x):c=dv().x(Vm).y1(qm).y0(m=>m.base.y);var d=c.defined(m7).curve(i),f=s?u.filter(m7):u;return d(f)}a==="vertical"&&Nt(n)?c=dv().y(qm).x1(Vm).x0(n):Nt(n)?c=dv().x(Vm).y1(qm).y0(n):c=uz().x(Vm).y(qm);var h=c.defined(mb).curve(i);return h(l)},l6=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Wh();if((!r||!r.length)&&!n)return null;var i={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?yxe(i):n;return k.createElement("path",AS({},Ci(e),DA(e),{className:hr("recharts-curve",t),d:l===null?void 0:l,ref:a}))},bxe=["x","y","top","left","width","height","className"];function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(null,arguments)}function p7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p7(Object(r),!0).forEach(function(n){kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kxe(e,t,r){return(t=Nxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nxe(e){var t=Sxe(e,"string");return typeof t=="symbol"?t:t+""}function Sxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jxe(e,t){if(e==null)return{};var r,n,a=Axe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Axe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _xe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Exe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=e,c=jxe(e,bxe),u=wxe({x:t,y:r,top:n,left:a,width:s,height:i},c);return!Nt(t)||!Nt(r)||!Nt(s)||!Nt(i)||!Nt(n)||!Nt(a)?null:k.createElement("path",_S({},Fs(u),{className:hr("recharts-cross",l),d:_xe(t,r,s,i,n,a)}))};function Cxe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){Txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Txe(e,t,r){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pxe(e){var t=Oxe(e,"string");return typeof t=="symbol"?t:t+""}function Oxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fxe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),a$=(e,t,r)=>e.map(n=>"".concat(Fxe(n)," ").concat(t,"ms ").concat(r)).join(","),Lxe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Pg=(e,t)=>Object.keys(t).reduce((r,n)=>x7(x7({},r),{},{[n]:e(n,t[n])}),{});function v7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(r),!0).forEach(function(n){Dxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dxe(e,t,r){return(t=Ixe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ixe(e){var t=Mxe(e,"string");return typeof t=="symbol"?t:t+""}function Mxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pb=(e,t,r)=>e+(t-e)*r,ES=e=>{var{from:t,to:r}=e;return t!==r},s$=(e,t,r)=>{var n=Pg((a,s)=>{if(ES(s)){var[i,l]=e(s.from,s.to,s.velocity);return la(la({},s),{},{from:i,velocity:l})}return s},t);return r<1?Pg((a,s)=>ES(s)&&n[a]!=null?la(la({},s),{},{velocity:pb(s.velocity,n[a].velocity,r),from:pb(s.from,n[a].from,r)}):s,t):s$(e,n,r-1)};function Rxe(e,t,r,n,a,s){var i,l=n.reduce((h,m)=>la(la({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Pg((h,m)=>m.from,l),u=()=>!Object.values(l).filter(ES).length,d=null,f=h=>{i||(i=h);var m=h-i,p=m/r.dt;l=s$(r,l,p),a(la(la(la({},e),t),c())),i=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Bxe(e,t,r,n,a,s,i){var l=null,c=a.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:la(la({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Pg((g,x)=>pb(...x,r(h)),c);if(s(la(la(la({},e),t),m)),h<1)l=i.setTimeout(d);else{var p=Pg((g,x)=>pb(...x,r(1)),c);s(la(la(la({},e),t),p))}};return()=>(l=i.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const zxe=(e,t,r,n,a,s)=>{var i=Lxe(e,t);return r==null?()=>(a(la(la({},e),t)),()=>{}):r.isStepper===!0?Rxe(e,t,r,i,a,s):Bxe(e,t,r,n,i,a,s)};var gb=1e-4,i$=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],o$=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),y7=(e,t)=>r=>{var n=i$(e,t);return o$(n,r)},Uxe=(e,t)=>r=>{var n=i$(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return o$(a,r)},$xe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},Wxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=$xe(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Hxe=(e,t,r,n)=>{var a=y7(e,r),s=y7(t,n),i=Uxe(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=i(f);if(Math.abs(m-d)<gb||p<gb)return s(f);f=l(f-m/p)}return s(f)};return c.isStepper=!1,c},b7=function(){return Hxe(...Wxe(...arguments))},Vxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,l,c)=>{var u=-(i-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+i;return Math.abs(h-l)<gb&&Math.abs(f)<gb?[l,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},qxe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b7(e);case"spring":return Vxe();default:if(e.split("(")[0]==="cubic-bezier")return b7(e)}return typeof e=="function"?e:null};function Gxe(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class Kxe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function Yxe(){return Gxe(new Kxe)}var Xxe=k.createContext(Yxe);function Zxe(e,t){var r=k.useContext(Xxe);return k.useMemo(()=>t??r(e),[e,t,r])}var Jxe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),nw={isSsr:Jxe()},Qxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},w7={t:0},Uk={t:1};function wx(e){var t=na(e,Qxe),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!nw.isSsr:r,f=Zxe(t.animationId,t.animationManager),[h,m]=k.useState(d?w7:Uk),p=k.useRef(null);return k.useEffect(()=>{d||m(Uk)},[d]),k.useEffect(()=>{if(!d||!n)return mx;var g=zxe(w7,Uk,qxe(s),a,m,f.getTimeoutController()),x=()=>{p.current=g()};return f.start([c,i,x,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,s,i,c,l,f]),u(h.t)}function kx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(Sg(t)),n=k.useRef(e);return n.current!==e&&(r.current=Sg(t),n.current=e),r.current}var e1e=["radius"],t1e=["radius"],k7,N7,S7,j7,A7,_7,E7,C7,T7,P7;function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){r1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r1e(e,t,r){return(t=n1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}function L7(e,t){if(e==null)return{};var r,n,a=s1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D7=(e,t,r,n,a)=>{var s=wu(r),i=wu(n),l=Math.min(Math.abs(s)/2,Math.abs(i)/2),c=i>=0?1:-1,u=s>=0?1:-1,d=i>=0&&s>=0||i<0&&s<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=a[m]>l?l:a[m];f=vn(k7||(k7=cl(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=vn(N7||(N7=cl(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=vn(S7||(S7=cl(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=vn(j7||(j7=cl(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=vn(A7||(A7=cl(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=vn(_7||(_7=cl(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=vn(E7||(E7=cl(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=vn(C7||(C7=cl(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var g=Math.min(l,a);f=vn(T7||(T7=cl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*g,g,g,d,e+u*g,t,e+r-u*g,t,g,g,d,e+r,t+c*g,e+r,t+n-c*g,g,g,d,e+r-u*g,t+n,e+u*g,t+n,g,g,d,e,t+n-c*g)}else f=vn(P7||(P7=cl(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},I7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l$=e=>{var t=na(e,I7),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,x=k.useRef(l),v=k.useRef(c),y=k.useRef(s),b=k.useRef(i),N=k.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),A=kx(N,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var S=hr("recharts-rectangle",d);if(!g){var j=Fs(t),{radius:E}=j,C=L7(j,e1e);return k.createElement("path",xb({},C,{x:wu(s),y:wu(i),width:wu(l),height:wu(c),radius:typeof u=="number"?u:void 0,className:S,d:D7(s,i,l,c,u)}))}var I=x.current,T=v.current,P=y.current,H=b.current,q="0px ".concat(n===-1?1:n,"px"),ae="".concat(n,"px 0px"),R=a$(["strokeDasharray"],h,typeof f=="string"?f:I7.animationEasing);return k.createElement(wx,{animationId:A,key:A,canBegin:n>0,duration:h,easing:f,isActive:g,begin:m},z=>{var Y=Jr(I,l,z),U=Jr(T,c,z),Q=Jr(P,s,z),pe=Jr(H,i,z);r.current&&(x.current=Y,v.current=U,y.current=Q,b.current=pe);var F;p?z>0?F={transition:R,strokeDasharray:ae}:F={strokeDasharray:q}:F={strokeDasharray:ae};var M=Fs(t),{radius:B}=M,D=L7(M,t1e);return k.createElement("path",xb({},D,{radius:typeof u=="number"?u:void 0,className:S,d:D7(Q,pe,Y,U,u),ref:r,style:F7(F7({},F),t.style)}))})};function M7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(r),!0).forEach(function(n){i1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i1e(e,t,r){return(t=o1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o1e(e){var t=l1e(e,"string");return typeof t=="symbol"?t:t+""}function l1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vb=Math.PI/180,c1e=e=>e*180/Math.PI,Jn=(e,t,r,n)=>({x:e+Math.cos(-vb*n)*r,y:t+Math.sin(-vb*n)*r}),c$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},u1e=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},d1e=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=u1e({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(r-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:c1e(c),angleInRadian:c}},f1e=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},h1e=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},m1e=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=d1e({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=f1e(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?R7(R7({},t),{},{radius:a,angle:h1e(d,t)}):null};function u$(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Jn(t,r,n,a),l=Jn(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var B7,z7,U7,$7,W7,H7,V7;function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CS.apply(null,arguments)}function Id(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p1e=(e,t)=>{var r=Ta(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},bv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,u=l*(i?1:-1)+n,d=Math.asin(l/u)/vb,f=c?a:a+s*d,h=Jn(t,r,u,f),m=Jn(t,r,n,f),p=c?a-s*d:a,g=Jn(t,r,u*Math.cos(d*vb),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},d$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,l=p1e(s,i),c=s+l,u=Jn(t,r,a,s),d=Jn(t,r,a,c),f=vn(B7||(B7=Id(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(n>0){var h=Jn(t,r,n,s),m=Jn(t,r,n,c);f+=vn(z7||(z7=Id(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(s<=c),h.x,h.y)}else f+=vn(U7||(U7=Id(["L ",","," Z"])),t,r);return f},g1e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Ta(u-c),{circleTangency:f,lineTangency:h,theta:m}=bv({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:g,theta:x}=bv({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(v<0)return i?vn($7||($7=Id(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):d$({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var y=vn(W7||(W7=Id(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(d<0),f.x,f.y,a,a,+(v>180),+(d<0),p.x,p.y,s,s,+(d<0),g.x,g.y);if(n>0){var{circleTangency:b,lineTangency:N,theta:A}=bv({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:j,theta:E}=bv({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=l?Math.abs(c-u):Math.abs(c-u)-A-E;if(C<0&&s===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=vn(H7||(H7=Id(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,s,s,+(d<0),S.x,S.y,n,n,+(C>180),+(d>0),b.x,b.y,s,s,+(d<0),N.x,N.y)}else y+=vn(V7||(V7=Id(["L",",","Z"])),t,r);return y},x1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f$=e=>{var t=na(e,x1e),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=hr("recharts-sector",f),m=s-a,p=ms(i,m,0,!0),g;return p>0&&Math.abs(u-d)<360?g=g1e({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=d$({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),k.createElement("path",CS({},Fs(t),{className:h,d:g}))};function v1e(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Az(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,c=Jn(n,a,s,l),u=Jn(n,a,i,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return u$(t)}}var h$={},m$={},p$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(p$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p$;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(m$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GA,r=m$;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}e.range=n})(h$);var y1e=h$.range;const g$=Pl(y1e);function Lu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b1e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function c6(e){let t,r,n;e.length!==2?(t=Lu,r=(l,c)=>Lu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Lu||e===b1e?e:w1e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function w1e(){return 0}function x$(e){return e===null?NaN:+e}function*k1e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const N1e=c6(Lu),Nx=N1e.right;c6(x$).center;class q7 extends Map{constructor(t,r=A1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(G7(this,t))}has(t){return super.has(G7(this,t))}set(t,r){return super.set(S1e(this,t),r)}delete(t){return super.delete(j1e(this,t))}}function G7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function S1e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function j1e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function A1e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _1e(e=Lu){if(e===Lu)return v$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function v$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const E1e=Math.sqrt(50),C1e=Math.sqrt(10),T1e=Math.sqrt(2);function yb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=E1e?10:s>=C1e?5:s>=T1e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?yb(e,t,r*2):[l,c,u]}function TS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?yb(t,e,r):yb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function PS(e,t,r){return t=+t,e=+e,r=+r,yb(e,t,r)[2]}function OS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?PS(t,e,r):PS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function K7(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Y7(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function y$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?v$:_1e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));y$(e,t,m,p,a)}const s=e[t];let i=r,l=n;for(Gm(e,r,t),a(e[n],s)>0&&Gm(e,r,n);i<l;){for(Gm(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Gm(e,r,l):(++l,Gm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Gm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function P1e(e,t,r){if(e=Float64Array.from(k1e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Y7(e);if(t>=1)return K7(e);var n,a=(n-1)*t,s=Math.floor(a),i=K7(y$(e,s).subarray(0,s+1)),l=Y7(e.subarray(s+1));return i+(l-i)*(a-s)}}function O1e(e,t,r=x$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function F1e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function xo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const FS=Symbol("implicit");function u6(){var e=new q7,t=[],r=[],n=FS;function a(s){let i=e.get(s);if(i===void 0){if(n!==FS)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new q7;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return u6(t,r).unknown(n)},xo.apply(a,arguments),a}function d6(){var e=u6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var x=F1e(h).map(function(v){return p+s*v});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return d6(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},xo.apply(f(),arguments)}function b$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b$(t())},e}function L1e(){return b$(d6.apply(null,arguments).paddingInner(1))}function f6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function w$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sx(){}var Og=.7,bb=1/Og,th="\\s*([+-]?\\d+)\\s*",Fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D1e=/^#([0-9a-f]{3,8})$/,I1e=new RegExp(`^rgb\\(${th},${th},${th}\\)$`),M1e=new RegExp(`^rgb\\(${Sl},${Sl},${Sl}\\)$`),R1e=new RegExp(`^rgba\\(${th},${th},${th},${Fg}\\)$`),B1e=new RegExp(`^rgba\\(${Sl},${Sl},${Sl},${Fg}\\)$`),z1e=new RegExp(`^hsl\\(${Fg},${Sl},${Sl}\\)$`),U1e=new RegExp(`^hsla\\(${Fg},${Sl},${Sl},${Fg}\\)$`),X7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f6(Sx,Lg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z7,formatHex:Z7,formatHex8:$1e,formatHsl:W1e,formatRgb:J7,toString:J7});function Z7(){return this.rgb().formatHex()}function $1e(){return this.rgb().formatHex8()}function W1e(){return k$(this).formatHsl()}function J7(){return this.rgb().formatRgb()}function Lg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=D1e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Q7(t):r===3?new qs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?wv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?wv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=I1e.exec(e))?new qs(t[1],t[2],t[3],1):(t=M1e.exec(e))?new qs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R1e.exec(e))?wv(t[1],t[2],t[3],t[4]):(t=B1e.exec(e))?wv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z1e.exec(e))?rO(t[1],t[2]/100,t[3]/100,1):(t=U1e.exec(e))?rO(t[1],t[2]/100,t[3]/100,t[4]):X7.hasOwnProperty(e)?Q7(X7[e]):e==="transparent"?new qs(NaN,NaN,NaN,0):null}function Q7(e){return new qs(e>>16&255,e>>8&255,e&255,1)}function wv(e,t,r,n){return n<=0&&(e=t=r=NaN),new qs(e,t,r,n)}function H1e(e){return e instanceof Sx||(e=Lg(e)),e?(e=e.rgb(),new qs(e.r,e.g,e.b,e.opacity)):new qs}function LS(e,t,r,n){return arguments.length===1?H1e(e):new qs(e,t,r,n??1)}function qs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}f6(qs,LS,w$(Sx,{brighter(e){return e=e==null?bb:Math.pow(bb,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Og:Math.pow(Og,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qs(r0(this.r),r0(this.g),r0(this.b),wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eO,formatHex:eO,formatHex8:V1e,formatRgb:tO,toString:tO}));function eO(){return`#${Md(this.r)}${Md(this.g)}${Md(this.b)}`}function V1e(){return`#${Md(this.r)}${Md(this.g)}${Md(this.b)}${Md((isNaN(this.opacity)?1:this.opacity)*255)}`}function tO(){const e=wb(this.opacity);return`${e===1?"rgb(":"rgba("}${r0(this.r)}, ${r0(this.g)}, ${r0(this.b)}${e===1?")":`, ${e})`}`}function wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function r0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Md(e){return e=r0(e),(e<16?"0":"")+e.toString(16)}function rO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ro(e,t,r,n)}function k$(e){if(e instanceof Ro)return new Ro(e.h,e.s,e.l,e.opacity);if(e instanceof Sx||(e=Lg(e)),!e)return new Ro;if(e instanceof Ro)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new Ro(i,l,c,e.opacity)}function q1e(e,t,r,n){return arguments.length===1?k$(e):new Ro(e,t,r,n??1)}function Ro(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}f6(Ro,q1e,w$(Sx,{brighter(e){return e=e==null?bb:Math.pow(bb,e),new Ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Og:Math.pow(Og,e),new Ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qs($k(e>=240?e-240:e+120,a,n),$k(e,a,n),$k(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ro(nO(this.h),kv(this.s),kv(this.l),wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wb(this.opacity);return`${e===1?"hsl(":"hsla("}${nO(this.h)}, ${kv(this.s)*100}%, ${kv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nO(e){return e=(e||0)%360,e<0?e+360:e}function kv(e){return Math.max(0,Math.min(1,e||0))}function $k(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const h6=e=>()=>e;function G1e(e,t){return function(r){return e+r*t}}function K1e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Y1e(e){return(e=+e)==1?N$:function(t,r){return r-t?K1e(t,r,e):h6(isNaN(t)?r:t)}}function N$(e,t){var r=t-e;return r?G1e(e,r):h6(isNaN(e)?t:e)}const aO=function e(t){var r=Y1e(t);function n(a,s){var i=r((a=LS(a)).r,(s=LS(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=N$(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function X1e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Z1e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function J1e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Hh(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function Q1e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function kb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function eve(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hh(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var DS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wk=new RegExp(DS.source,"g");function tve(e){return function(){return e}}function rve(e){return function(t){return e(t)+""}}function nve(e,t){var r=DS.lastIndex=Wk.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=DS.exec(e))&&(a=Wk.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:kb(n,a)})),r=Wk.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?rve(c[0].x):tve(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Hh(e,t){var r=typeof t,n;return t==null||r==="boolean"?h6(t):(r==="number"?kb:r==="string"?(n=Lg(t))?(t=n,aO):nve:t instanceof Lg?aO:t instanceof Date?Q1e:Z1e(t)?X1e:Array.isArray(t)?J1e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eve:kb)(e,t)}function m6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ave(e,t){t===void 0&&(t=e,e=Hh);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function sve(e){return function(){return e}}function Nb(e){return+e}var sO=[0,1];function Es(e){return e}function IS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sve(isNaN(t)?NaN:.5)}function ive(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ove(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=IS(a,n),s=r(i,s)):(n=IS(n,a),s=r(s,i)),function(l){return s(n(l))}}function lve(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=IS(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Nx(e,l,1,n)-1;return s[c](a[c](l))}}function jx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function aw(){var e=sO,t=sO,r=Hh,n,a,s,i=Es,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==Es&&(i=ive(e[0],e[h-1])),l=h>2?lve:ove,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),kb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Nb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=m6,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Es,d()):i!==Es},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function p6(){return aw()(Es,Es)}function cve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function kh(e){return e=Sb(Math.abs(e)),e?e[1]:NaN}function uve(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function dve(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dg(e){if(!(t=fve.exec(e)))throw new Error("invalid format: "+e);var t;return new g6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dg.prototype=g6.prototype;function g6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}g6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hve(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var S$;function mve(e,t){var r=Sb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(S$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Sb(e,Math.max(0,t+s-1))[0]}function iO(e,t){var r=Sb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const oO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iO(e*100,t),r:iO,s:mve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lO(e){return e}var cO=Array.prototype.map,uO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pve(e){var t=e.grouping===void 0||e.thousands===void 0?lO:uve(cO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?lO:dve(cO.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Dg(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,x=f.zero,v=f.width,y=f.comma,b=f.precision,N=f.trim,A=f.type;A==="n"?(y=!0,A="g"):oO[A]||(b===void 0&&(b=12),N=!0,A="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",j=g==="$"?n:/[%p]/.test(A)?i:"",E=oO[A],C=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(T){var P=S,H=j,q,ae,R;if(A==="c")H=E(T)+H,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?c:E(Math.abs(T),b),N&&(T=hve(T)),z&&+T==0&&p!=="+"&&(z=!1),P=(z?p==="("?p:l:p==="-"||p==="("?"":p)+P,H=(A==="s"?uO[8+S$/3]:"")+H+(z&&p==="("?")":""),C){for(q=-1,ae=T.length;++q<ae;)if(R=T.charCodeAt(q),48>R||R>57){H=(R===46?a+T.slice(q+1):T.slice(q))+H,T=T.slice(0,q);break}}}y&&!x&&(T=t(T,1/0));var Y=P.length+T.length+H.length,U=Y<v?new Array(v-Y+1).join(h):"";switch(y&&x&&(T=t(U+T,U.length?v-H.length:1/0),U=""),m){case"<":T=P+T+H+U;break;case"=":T=P+U+T+H;break;case"^":T=U.slice(0,Y=U.length>>1)+P+T+H+U.slice(Y);break;default:T=U+P+T+H;break}return s(T)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=Dg(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(kh(h)/3)))*3,g=Math.pow(10,-p),x=uO[8+p/3];return function(v){return m(g*v)+x}}return{format:u,formatPrefix:d}}var Nv,x6,j$;gve({thousands:",",grouping:[3],currency:["$",""]});function gve(e){return Nv=pve(e),x6=Nv.format,j$=Nv.formatPrefix,Nv}function xve(e){return Math.max(0,-kh(Math.abs(e)))}function vve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kh(t)/3)))*3-kh(Math.abs(e)))}function yve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kh(t)-kh(e))+1}function A$(e,t,r,n){var a=OS(e,t,r),s;switch(n=Dg(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=vve(a,i))&&(n.precision=s),j$(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=yve(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=xve(a))&&(n.precision=s-(n.type==="%")*2);break}}return x6(n)}function id(e){var t=e.domain;return e.ticks=function(r){var n=t();return TS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return A$(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=PS(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _$(){var e=p6();return e.copy=function(){return jx(e,_$())},xo.apply(e,arguments),id(e)}function E$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Nb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return E$(e).unknown(t)},e=arguments.length?Array.from(e,Nb):[0,1],id(r)}function C$(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function dO(e){return Math.log(e)}function fO(e){return Math.exp(e)}function bve(e){return-Math.log(-e)}function wve(e){return-Math.exp(-e)}function kve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nve(e){return e===10?kve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hO(e){return(t,r)=>-e(-t,r)}function v6(e){const t=e(dO,fO),r=t.domain;let n=10,a,s;function i(){return a=Sve(n),s=Nve(n),r()[0]<0?(a=hO(a),s=hO(s),e(bve,wve)):e(dO,fO),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const x=l==null?10:+l;let v=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<x&&(v=TS(u,d,x))}else v=TS(h,m,Math.min(m-h,x)).map(s);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Dg(c)).precision==null&&(c.trim=!0),c=x6(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(C$(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function T$(){const e=v6(aw()).domain([1,10]);return e.copy=()=>jx(e,T$()).base(e.base()),xo.apply(e,arguments),e}function mO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function y6(e){var t=1,r=e(mO(t),pO(t));return r.constant=function(n){return arguments.length?e(mO(t=+n),pO(t)):t},id(r)}function P$(){var e=y6(aw());return e.copy=function(){return jx(e,P$()).constant(e.constant())},xo.apply(e,arguments)}function gO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ave(e){return e<0?-e*e:e*e}function b6(e){var t=e(Es,Es),r=1;function n(){return r===1?e(Es,Es):r===.5?e(jve,Ave):e(gO(r),gO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},id(t)}function w6(){var e=b6(aw());return e.copy=function(){return jx(e,w6()).exponent(e.exponent())},xo.apply(e,arguments),e}function _ve(){return w6.apply(null,arguments).exponent(.5)}function xO(e){return Math.sign(e)*e*e}function Eve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function O$(){var e=p6(),t=[0,1],r=!1,n;function a(s){var i=Eve(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(xO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Nb)).map(xO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return O$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xo.apply(a,arguments),id(a)}function F$(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=O1e(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Nx(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Lu),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return F$().domain(e).range(t).unknown(n)},xo.apply(s,arguments)}function L$(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Nx(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return L$().domain([e,t]).range(a).unknown(s)},xo.apply(id(i),arguments)}function D$(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Nx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return D$().domain(e).range(t).unknown(r)},xo.apply(a,arguments)}const Hk=new Date,Vk=new Date;function ga(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>ga(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Hk.setTime(+s),Vk.setTime(+i),e(Hk),e(Vk),Math.floor(r(Hk,Vk))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const jb=ga(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ga(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):jb);jb.range;const nc=1e3,no=nc*60,ac=no*60,bc=ac*24,k6=bc*7,vO=bc*30,qk=bc*365,Rd=ga(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCSeconds());Rd.range;const N6=ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc)},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getMinutes());N6.range;const S6=ga(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getUTCMinutes());S6.range;const j6=ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nc-e.getMinutes()*no)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getHours());j6.range;const A6=ga(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getUTCHours());A6.range;const Ax=ga(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*no)/bc,e=>e.getDate()-1);Ax.range;const sw=ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bc,e=>e.getUTCDate()-1);sw.range;const I$=ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bc,e=>Math.floor(e/bc));I$.range;function R0(e){return ga(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*no)/k6)}const iw=R0(0),Ab=R0(1),Cve=R0(2),Tve=R0(3),Nh=R0(4),Pve=R0(5),Ove=R0(6);iw.range;Ab.range;Cve.range;Tve.range;Nh.range;Pve.range;Ove.range;function B0(e){return ga(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/k6)}const ow=B0(0),_b=B0(1),Fve=B0(2),Lve=B0(3),Sh=B0(4),Dve=B0(5),Ive=B0(6);ow.range;_b.range;Fve.range;Lve.range;Sh.range;Dve.range;Ive.range;const _6=ga(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_6.range;const E6=ga(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());E6.range;const wc=ga(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ga(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wc.range;const kc=ga(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ga(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});kc.range;function M$(e,t,r,n,a,s){const i=[[Rd,1,nc],[Rd,5,5*nc],[Rd,15,15*nc],[Rd,30,30*nc],[s,1,no],[s,5,5*no],[s,15,15*no],[s,30,30*no],[a,1,ac],[a,3,3*ac],[a,6,6*ac],[a,12,12*ac],[n,1,bc],[n,2,2*bc],[r,1,k6],[t,1,vO],[t,3,3*vO],[e,1,qk]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=c6(([,,x])=>x).right(i,h);if(m===i.length)return e.every(OS(u/qk,d/qk,f));if(m===0)return jb.every(Math.max(OS(u,d,f),1));const[p,g]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[Mve,Rve]=M$(kc,E6,ow,I$,A6,S6),[Bve,zve]=M$(wc,_6,iw,Ax,j6,N6);function Gk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Km(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Uve(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Ym(a),d=Xm(a),f=Ym(s),h=Xm(s),m=Ym(i),p=Xm(i),g=Ym(l),x=Xm(l),v=Ym(c),y=Xm(c),b={a:z,A:Y,b:U,B:Q,c:null,d:SO,e:SO,f:uye,g:bye,G:kye,H:oye,I:lye,j:cye,L:R$,m:dye,M:fye,p:pe,q:F,Q:_O,s:EO,S:hye,u:mye,U:pye,V:gye,w:xye,W:vye,x:null,X:null,y:yye,Y:wye,Z:Nye,"%":AO},N={a:M,A:B,b:D,B:X,c:null,d:jO,e:jO,f:_ye,g:Mye,G:Bye,H:Sye,I:jye,j:Aye,L:z$,m:Eye,M:Cye,p:V,q:ee,Q:_O,s:EO,S:Tye,u:Pye,U:Oye,V:Fye,w:Lye,W:Dye,x:null,X:null,y:Iye,Y:Rye,Z:zye,"%":AO},A={a:I,A:T,b:P,B:H,c:q,d:kO,e:kO,f:nye,g:wO,G:bO,H:NO,I:NO,j:Qve,L:rye,m:Jve,M:eye,p:C,q:Zve,Q:sye,s:iye,S:tye,u:qve,U:Gve,V:Kve,w:Vve,W:Yve,x:ae,X:R,y:wO,Y:bO,Z:Xve,"%":aye};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(K,ce){return function(xe){var G=[],Ce=-1,Ve=0,Se=K.length,ue,Me,rt;for(xe instanceof Date||(xe=new Date(+xe));++Ce<Se;)K.charCodeAt(Ce)===37&&(G.push(K.slice(Ve,Ce)),(Me=yO[ue=K.charAt(++Ce)])!=null?ue=K.charAt(++Ce):Me=ue==="e"?" ":"0",(rt=ce[ue])&&(ue=rt(xe,Me)),G.push(ue),Ve=Ce+1);return G.push(K.slice(Ve,Ce)),G.join("")}}function j(K,ce){return function(xe){var G=Km(1900,void 0,1),Ce=E(G,K,xe+="",0),Ve,Se;if(Ce!=xe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ce&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ve=Kk(Km(G.y,0,1)),Se=Ve.getUTCDay(),Ve=Se>4||Se===0?_b.ceil(Ve):_b(Ve),Ve=sw.offset(Ve,(G.V-1)*7),G.y=Ve.getUTCFullYear(),G.m=Ve.getUTCMonth(),G.d=Ve.getUTCDate()+(G.w+6)%7):(Ve=Gk(Km(G.y,0,1)),Se=Ve.getDay(),Ve=Se>4||Se===0?Ab.ceil(Ve):Ab(Ve),Ve=Ax.offset(Ve,(G.V-1)*7),G.y=Ve.getFullYear(),G.m=Ve.getMonth(),G.d=Ve.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Se="Z"in G?Kk(Km(G.y,0,1)).getUTCDay():Gk(Km(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Se+5)%7:G.w+G.U*7-(Se+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Kk(G)):Gk(G)}}function E(K,ce,xe,G){for(var Ce=0,Ve=ce.length,Se=xe.length,ue,Me;Ce<Ve;){if(G>=Se)return-1;if(ue=ce.charCodeAt(Ce++),ue===37){if(ue=ce.charAt(Ce++),Me=A[ue in yO?ce.charAt(Ce++):ue],!Me||(G=Me(K,xe,G))<0)return-1}else if(ue!=xe.charCodeAt(G++))return-1}return G}function C(K,ce,xe){var G=u.exec(ce.slice(xe));return G?(K.p=d.get(G[0].toLowerCase()),xe+G[0].length):-1}function I(K,ce,xe){var G=m.exec(ce.slice(xe));return G?(K.w=p.get(G[0].toLowerCase()),xe+G[0].length):-1}function T(K,ce,xe){var G=f.exec(ce.slice(xe));return G?(K.w=h.get(G[0].toLowerCase()),xe+G[0].length):-1}function P(K,ce,xe){var G=v.exec(ce.slice(xe));return G?(K.m=y.get(G[0].toLowerCase()),xe+G[0].length):-1}function H(K,ce,xe){var G=g.exec(ce.slice(xe));return G?(K.m=x.get(G[0].toLowerCase()),xe+G[0].length):-1}function q(K,ce,xe){return E(K,t,ce,xe)}function ae(K,ce,xe){return E(K,r,ce,xe)}function R(K,ce,xe){return E(K,n,ce,xe)}function z(K){return i[K.getDay()]}function Y(K){return s[K.getDay()]}function U(K){return c[K.getMonth()]}function Q(K){return l[K.getMonth()]}function pe(K){return a[+(K.getHours()>=12)]}function F(K){return 1+~~(K.getMonth()/3)}function M(K){return i[K.getUTCDay()]}function B(K){return s[K.getUTCDay()]}function D(K){return c[K.getUTCMonth()]}function X(K){return l[K.getUTCMonth()]}function V(K){return a[+(K.getUTCHours()>=12)]}function ee(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ce=S(K+="",b);return ce.toString=function(){return K},ce},parse:function(K){var ce=j(K+="",!1);return ce.toString=function(){return K},ce},utcFormat:function(K){var ce=S(K+="",N);return ce.toString=function(){return K},ce},utcParse:function(K){var ce=j(K+="",!0);return ce.toString=function(){return K},ce}}}var yO={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,$ve=/^%/,Wve=/[\\^$*+?|[\]().{}]/g;function mr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Hve(e){return e.replace(Wve,"\\$&")}function Ym(e){return new RegExp("^(?:"+e.map(Hve).join("|")+")","i")}function Xm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Vve(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qve(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Gve(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Kve(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Yve(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function bO(e,t,r){var n=Fa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function wO(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Xve(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Zve(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Jve(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kO(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qve(e,t,r){var n=Fa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function NO(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function eye(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tye(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function rye(e,t,r){var n=Fa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function nye(e,t,r){var n=Fa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function aye(e,t,r){var n=$ve.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sye(e,t,r){var n=Fa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function iye(e,t,r){var n=Fa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SO(e,t){return mr(e.getDate(),t,2)}function oye(e,t){return mr(e.getHours(),t,2)}function lye(e,t){return mr(e.getHours()%12||12,t,2)}function cye(e,t){return mr(1+Ax.count(wc(e),e),t,3)}function R$(e,t){return mr(e.getMilliseconds(),t,3)}function uye(e,t){return R$(e,t)+"000"}function dye(e,t){return mr(e.getMonth()+1,t,2)}function fye(e,t){return mr(e.getMinutes(),t,2)}function hye(e,t){return mr(e.getSeconds(),t,2)}function mye(e){var t=e.getDay();return t===0?7:t}function pye(e,t){return mr(iw.count(wc(e)-1,e),t,2)}function B$(e){var t=e.getDay();return t>=4||t===0?Nh(e):Nh.ceil(e)}function gye(e,t){return e=B$(e),mr(Nh.count(wc(e),e)+(wc(e).getDay()===4),t,2)}function xye(e){return e.getDay()}function vye(e,t){return mr(Ab.count(wc(e)-1,e),t,2)}function yye(e,t){return mr(e.getFullYear()%100,t,2)}function bye(e,t){return e=B$(e),mr(e.getFullYear()%100,t,2)}function wye(e,t){return mr(e.getFullYear()%1e4,t,4)}function kye(e,t){var r=e.getDay();return e=r>=4||r===0?Nh(e):Nh.ceil(e),mr(e.getFullYear()%1e4,t,4)}function Nye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mr(t/60|0,"0",2)+mr(t%60,"0",2)}function jO(e,t){return mr(e.getUTCDate(),t,2)}function Sye(e,t){return mr(e.getUTCHours(),t,2)}function jye(e,t){return mr(e.getUTCHours()%12||12,t,2)}function Aye(e,t){return mr(1+sw.count(kc(e),e),t,3)}function z$(e,t){return mr(e.getUTCMilliseconds(),t,3)}function _ye(e,t){return z$(e,t)+"000"}function Eye(e,t){return mr(e.getUTCMonth()+1,t,2)}function Cye(e,t){return mr(e.getUTCMinutes(),t,2)}function Tye(e,t){return mr(e.getUTCSeconds(),t,2)}function Pye(e){var t=e.getUTCDay();return t===0?7:t}function Oye(e,t){return mr(ow.count(kc(e)-1,e),t,2)}function U$(e){var t=e.getUTCDay();return t>=4||t===0?Sh(e):Sh.ceil(e)}function Fye(e,t){return e=U$(e),mr(Sh.count(kc(e),e)+(kc(e).getUTCDay()===4),t,2)}function Lye(e){return e.getUTCDay()}function Dye(e,t){return mr(_b.count(kc(e)-1,e),t,2)}function Iye(e,t){return mr(e.getUTCFullYear()%100,t,2)}function Mye(e,t){return e=U$(e),mr(e.getUTCFullYear()%100,t,2)}function Rye(e,t){return mr(e.getUTCFullYear()%1e4,t,4)}function Bye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sh(e):Sh.ceil(e),mr(e.getUTCFullYear()%1e4,t,4)}function zye(){return"+0000"}function AO(){return"%"}function _O(e){return+e}function EO(e){return Math.floor(+e/1e3)}var xf,$$,W$;Uye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uye(e){return xf=Uve(e),$$=xf.format,xf.parse,W$=xf.utcFormat,xf.utcParse,xf}function $ye(e){return new Date(e)}function Wye(e){return e instanceof Date?+e:+new Date(+e)}function C6(e,t,r,n,a,s,i,l,c,u){var d=p6(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),N=u("%Y");function A(S){return(c(S)<S?m:l(S)<S?p:i(S)<S?g:s(S)<S?x:n(S)<S?a(S)<S?v:y:r(S)<S?b:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Wye)):h().map($ye)},d.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?A:u(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(C$(j,S)):d},d.copy=function(){return jx(d,C6(e,t,r,n,a,s,i,l,c,u))},d}function Hye(){return xo.apply(C6(Bve,zve,wc,_6,iw,Ax,j6,N6,Rd,$$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vye(){return xo.apply(C6(Mve,Rve,kc,E6,ow,sw,A6,S6,Rd,W$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lw(){var e=0,t=1,r,n,a,s,i=Es,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,i=f(m,p),u):[i(0),i(1)]}}return u.range=d(Hh),u.rangeRound=d(m6),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function od(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function H$(){var e=id(lw()(Es));return e.copy=function(){return od(e,H$())},Dc.apply(e,arguments)}function V$(){var e=v6(lw()).domain([1,10]);return e.copy=function(){return od(e,V$()).base(e.base())},Dc.apply(e,arguments)}function q$(){var e=y6(lw());return e.copy=function(){return od(e,q$()).constant(e.constant())},Dc.apply(e,arguments)}function T6(){var e=b6(lw());return e.copy=function(){return od(e,T6()).exponent(e.exponent())},Dc.apply(e,arguments)}function qye(){return T6.apply(null,arguments).exponent(.5)}function G$(){var e=[],t=Es;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Lu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>P1e(e,s/n))},r.copy=function(){return G$(t).domain(e)},Dc.apply(r,arguments)}function cw(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=Es,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(x){var v,y,b;return arguments.length?([v,y,b]=x,u=ave(g,[v,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(Hh),m.rangeRound=p(m6),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),i=g(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function K$(){var e=id(cw()(Es));return e.copy=function(){return od(e,K$())},Dc.apply(e,arguments)}function Y$(){var e=v6(cw()).domain([.1,1,10]);return e.copy=function(){return od(e,Y$()).base(e.base())},Dc.apply(e,arguments)}function X$(){var e=y6(cw());return e.copy=function(){return od(e,X$()).constant(e.constant())},Dc.apply(e,arguments)}function P6(){var e=b6(cw());return e.copy=function(){return od(e,P6()).exponent(e.exponent())},Dc.apply(e,arguments)}function Gye(){return P6.apply(null,arguments).exponent(.5)}const op=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:d6,scaleDiverging:K$,scaleDivergingLog:Y$,scaleDivergingPow:P6,scaleDivergingSqrt:Gye,scaleDivergingSymlog:X$,scaleIdentity:E$,scaleImplicit:FS,scaleLinear:_$,scaleLog:T$,scaleOrdinal:u6,scalePoint:L1e,scalePow:w6,scaleQuantile:F$,scaleQuantize:L$,scaleRadial:O$,scaleSequential:H$,scaleSequentialLog:V$,scaleSequentialPow:T6,scaleSequentialQuantile:G$,scaleSequentialSqrt:qye,scaleSequentialSymlog:q$,scaleSqrt:_ve,scaleSymlog:P$,scaleThreshold:D$,scaleTime:Hye,scaleUtc:Vye,tickFormat:A$},Symbol.toStringTag,{value:"Module"}));var Ic=e=>e.chartData,uw=De([Ic],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),O6=(e,t,r,n)=>n?uw(e):Ic(e),Kye=(e,t,r)=>r?uw(e):Ic(e);function Hu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(hn(t)&&hn(r))return!0}return!1}function CO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Z$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(hn(r))a=r;else if(typeof r=="function")return;if(hn(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Hu(i))return i}}function Yye(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Hu(n))return CO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,l;if(a==="auto")t!=null&&(i=Math.min(...t));else if(Nt(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&K8.test(a)){var c=K8.exec(a);if(c==null||c[1]==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(Nt(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Y8.test(s)){var d=Y8.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[i,l];if(Hu(h))return t==null?h:CO(h,t,r)}}}var Vh=1e9,Xye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L6,tn=!0,mo="[DecimalError] ",n0=mo+"Invalid argument: ",F6=mo+"Exponent out of range: ",qh=Math.floor,_d=Math.pow,Zye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vi,Aa=1e7,Vr=7,J$=9007199254740991,Eb=qh(J$/Vr),wt={};wt.absoluteValue=wt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};wt.comparedTo=wt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};wt.dividedBy=wt.div=function(e){return cc(this,new this.constructor(e))};wt.dividedToIntegerBy=wt.idiv=function(e){var t=this,r=t.constructor;return Dr(cc(t,new r(e),0,1),r.precision)};wt.equals=wt.eq=function(e){return!this.cmp(e)};wt.exponent=function(){return ta(this)};wt.greaterThan=wt.gt=function(e){return this.cmp(e)>0};wt.greaterThanOrEqualTo=wt.gte=function(e){return this.cmp(e)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(e){return this.cmp(e)<0};wt.lessThanOrEqualTo=wt.lte=function(e){return this.cmp(e)<1};wt.logarithm=wt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vi))throw Error(mo+"NaN");if(r.s<1)throw Error(mo+(r.s?"NaN":"-Infinity"));return r.eq(vi)?new n(0):(tn=!1,t=cc(Ig(r,s),Ig(e,s),s),tn=!0,Dr(t,a))};wt.minus=wt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tW(t,e):Q$(t,(e.s=-e.s,e))};wt.modulo=wt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(mo+"NaN");return r.s?(tn=!1,t=cc(r,e,0,1).times(e),tn=!0,r.minus(t)):Dr(new n(r),a)};wt.naturalExponential=wt.exp=function(){return eW(this)};wt.naturalLogarithm=wt.ln=function(){return Ig(this)};wt.negated=wt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};wt.plus=wt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q$(t,e):tW(t,(e.s=-e.s,e))};wt.precision=wt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(n0+e);if(t=ta(a)+1,n=a.d.length-1,r=n*Vr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};wt.squareRoot=wt.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(mo+"NaN")}for(e=ta(l),tn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=yl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=qh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(cc(l,s,i+2)).times(.5),yl(s.d).slice(0,i)===(t=yl(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Dr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return tn=!0,Dr(n,r)};wt.times=wt.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Aa|0,t=l/Aa|0;s[a]=(s[a]+t)%Aa|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,tn?Dr(e,f.precision):e};wt.toDecimalPlaces=wt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Tl(e,0,Vh),t===void 0?t=n.rounding:Tl(t,0,8),Dr(r,e+ta(r)+1,t))};wt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=N0(n,!0):(Tl(e,0,Vh),t===void 0?t=a.rounding:Tl(t,0,8),n=Dr(new a(n),e+1,t),r=N0(n,!0,e+1)),r};wt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?N0(a):(Tl(e,0,Vh),t===void 0?t=s.rounding:Tl(t,0,8),n=Dr(new s(a),e+ta(a)+1,t),r=N0(n.abs(),!1,e+ta(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};wt.toInteger=wt.toint=function(){var e=this,t=e.constructor;return Dr(new t(e),ta(e)+1,t.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vi);if(l=new c(l),!l.s){if(e.s<1)throw Error(mo+"Infinity");return l}if(l.eq(vi))return l;if(n=c.precision,e.eq(vi))return Dr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=J$){for(a=new c(vi),t=Math.ceil(n/Vr+4),tn=!1;r%2&&(a=a.times(l),PO(a.d,t)),r=qh(r/2),r!==0;)l=l.times(l),PO(l.d,t);return tn=!0,e.s<0?new c(vi).div(a):Dr(a,n)}}else if(s<0)throw Error(mo+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,tn=!1,a=e.times(Ig(l,n+u)),tn=!0,a=eW(a),a.s=s,a};wt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ta(a),n=N0(a,r<=s.toExpNeg||r>=s.toExpPos)):(Tl(e,1,Vh),t===void 0?t=s.rounding:Tl(t,0,8),a=Dr(new s(a),e,t),r=ta(a),n=N0(a,e<=r||r<=s.toExpNeg,e)),n};wt.toSignificantDigits=wt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Tl(e,1,Vh),t===void 0?t=n.rounding:Tl(t,0,8)),Dr(new n(r),e,t)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ta(e),r=e.constructor;return N0(e,t<=r.toExpNeg||t>=r.toExpPos)};function Q$(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tn?Dr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Vr),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Aa|0,c[s]%=Aa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,tn?Dr(t,f):t}function Tl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(n0+e)}function yl(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Vr-n.length,r&&(s+=ou(r)),s+=n;i=e[t],n=i+"",r=Vr-n.length,r&&(s+=ou(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var cc=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Aa|0,i=s/Aa|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Aa+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,p,g,x,v,y,b,N,A,S,j,E,C=n.constructor,I=n.s==a.s?1:-1,T=n.d,P=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(mo+"Division by zero");for(c=n.e-a.e,j=P.length,A=T.length,m=new C(I),p=m.d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--c,s==null?y=s=C.precision:i?y=s+(ta(n)-ta(a))+1:y=s,y<0)return new C(0);if(y=y/Vr+2|0,u=0,j==1)for(d=0,P=P[0],y++;(u<A||d)&&y--;u++)b=d*Aa+(T[u]||0),p[u]=b/P|0,d=b%P|0;else{for(d=Aa/(P[0]+1)|0,d>1&&(P=e(P,d),T=e(T,d),j=P.length,A=T.length),N=j,g=T.slice(0,j),x=g.length;x<j;)g[x++]=0;E=P.slice(),E.unshift(0),S=P[0],P[1]>=Aa/2&&++S;do d=0,l=t(P,g,j,x),l<0?(v=g[0],j!=x&&(v=v*Aa+(g[1]||0)),d=v/S|0,d>1?(d>=Aa&&(d=Aa-1),f=e(P,d),h=f.length,x=g.length,l=t(f,g,h,x),l==1&&(d--,r(f,j<h?E:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(P,g,j,x),l<1&&(d++,r(g,j<x?E:P,x))),x=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[x++]=T[N]||0:(g=[T[N]],x=1);while((N++<A||g[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=c,Dr(m,i?s+ta(m)+1:s)}}();function eW(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(ta(e)>16)throw Error(F6+ta(e));if(!e.s)return new d(vi);for(tn=!1,l=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(_d(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(vi),d.precision=l;;){if(a=Dr(a.times(e),l),r=r.times(++c),i=s.plus(cc(a,r,l)),yl(i.d).slice(0,l)===yl(s.d).slice(0,l)){for(;u--;)s=Dr(s.times(s),l);return d.precision=f,t==null?(tn=!0,Dr(s,f)):s}s=i}}function ta(e){for(var t=e.e*Vr,r=e.d[0];r>=10;r/=10)t++;return t}function Yk(e,t,r){if(t>e.LN10.sd())throw tn=!0,r&&(e.precision=r),Error(mo+"LN10 precision limit exceeded");return Dr(new e(e.LN10),t)}function ou(e){for(var t="";e--;)t+="0";return t}function Ig(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(mo+(m.s?"NaN":"-Infinity"));if(m.eq(vi))return new g(0);if(t==null?(tn=!1,u=x):u=t,m.eq(10))return t==null&&(tn=!0),Yk(g,u);if(u+=h,g.precision=u,r=yl(p),n=r.charAt(0),s=ta(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=yl(m.d),n=r.charAt(0),f++;s=ta(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=Yk(g,u+2,x).times(s+""),m=Ig(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(tn=!0,Dr(m,x)):m;for(l=i=m=cc(m.minus(vi),m.plus(vi),u),d=Dr(m.times(m),u),a=3;;){if(i=Dr(i.times(d),u),c=l.plus(cc(i,new g(a),u)),yl(c.d).slice(0,u)===yl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Yk(g,u+2,x).times(s+""))),l=cc(l,new g(f),u),g.precision=x,t==null?(tn=!0,Dr(l,x)):l;l=c,a+=2}}function TO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=qh(r/Vr),e.d=[],n=(r+1)%Vr,r<0&&(n+=Vr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Vr;n<a;)e.d.push(+t.slice(n,n+=Vr));t=t.slice(n),n=Vr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),tn&&(e.e>Eb||e.e<-Eb))throw Error(F6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dr(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Vr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Vr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Vr,a=n-Vr+i}if(r!==void 0&&(s=_d(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/_d(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ta(e),f.length=1,t=t-s-1,f[0]=_d(10,(Vr-t%Vr)%Vr),e.e=qh(-t/Vr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=_d(10,Vr-n),f[d]=a>0?(u/_d(10,i-a)%_d(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Aa&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Aa)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(tn&&(e.e>Eb||e.e<-Eb))throw Error(F6+ta(e));return e}function tW(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tn?Dr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Vr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Aa-1;--c[s],c[a]+=Aa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,tn?Dr(t,m):t):new h(0)}function N0(e,t,r){var n,a=ta(e),s=yl(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+ou(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ou(-a-1)+s,r&&(n=r-i)>0&&(s+=ou(n))):a>=i?(s+=ou(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+ou(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=ou(n))),e.s<0?"-"+s:s}function PO(e,t){if(e.length>t)return e.length=t,!0}function rW(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(n0+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return TO(i,s.toString())}else if(typeof s!="string")throw Error(n0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Zye.test(s))TO(i,s);else throw Error(n0+s)}if(a.prototype=wt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rW,a.config=a.set=Jye,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Jye(e){if(!e||typeof e!="object")throw Error(mo+"Object expected");var t,r,n,a=["precision",1,Vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(qh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(n0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(n0+r+": "+n);return this}var L6=rW(Xye);vi=new L6(1);const jr=L6;var Qye=e=>e,nW={},aW=e=>e===nW,OO=e=>function t(){return arguments.length===0||arguments.length===1&&aW(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sW=(e,t)=>e===1?t:OO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==nW).length;return s>=e?t(...n):sW(e-s,OO(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>aW(d)?l.shift():d);return t(...u,...l)}))}),ebe=e=>sW(e.length,e),MS=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},tbe=ebe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),rbe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Qye;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}};function iW(e){var t;return e===0?t=1:t=Math.floor(new jr(e).abs().log(10).toNumber())+1,t}function oW(e,t,r){for(var n=new jr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var lW=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},cW=(e,t,r)=>{if(e.lte(0))return new jr(0);var n=iW(e.toNumber()),a=new jr(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new jr(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?new jr(c.toNumber()):new jr(Math.ceil(c.toNumber()))},nbe=(e,t,r)=>{var n=new jr(1),a=new jr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new jr(10).pow(iW(e)-1),a=new jr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new jr(Math.floor(e)))}else e===0?a=new jr(Math.floor((t-1)/2)):r||(a=new jr(Math.floor(e)));var i=Math.floor((t-1)/2),l=rbe(tbe(c=>a.add(new jr(c-i).mul(n)).toNumber()),MS);return l(0,t)},uW=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var i=cW(new jr(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new jr(0):(l=new jr(t).add(r).div(2),l=l.sub(new jr(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),u=Math.ceil(new jr(r).sub(l).div(i).toNumber()),d=c+u+1;return d>n?uW(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:l.sub(new jr(c).mul(i)),tickMax:l.add(new jr(u).mul(i))})},abe=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=lW([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...MS(0,a-1).map(()=>1/0)]:[...MS(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(l===c)return nbe(l,a,s);var{step:d,tickMin:f,tickMax:h}=uW(l,c,i,s,0),m=oW(f,h.add(new jr(.1).mul(d)),d);return r>n?m.reverse():m},sbe=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=lW([n,a]);if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(r,2),u=cW(new jr(l).sub(i).div(c-1),s,0),d=[...oW(new jr(i),new jr(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},dW=e=>e.rootProps.maxBarSize,ibe=e=>e.rootProps.barGap,fW=e=>e.rootProps.barCategoryGap,obe=e=>e.rootProps.barSize,_x=e=>e.rootProps.stackOffset,hW=e=>e.rootProps.reverseStackOrder,D6=e=>e.options.chartName,I6=e=>e.rootProps.syncId,mW=e=>e.rootProps.syncMethod,M6=e=>e.options.eventEmitter,Qn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Jl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:Jl.reversed,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:Jl.type,unit:void 0},cbe={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:hi.type,unit:void 0},ube={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Jl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jl.scale,tick:Jl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dbe={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:"category",unit:void 0},R6=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ube:lbe,B6=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dbe:cbe,fw=e=>e.polarOptions,z6=De([Fc,Lc,pa],c$),pW=De([fw,z6],(e,t)=>{if(e!=null)return ms(e.innerRadius,t,0)}),gW=De([fw,z6],(e,t)=>{if(e!=null)return ms(e.outerRadius,t,t*.8)}),fbe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},xW=De([fw],fbe);De([R6,xW],dw);var vW=De([z6,pW,gW],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});De([B6,vW],dw);var yW=De([ir,fw,pW,gW,Fc,Lc],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=t;return{cx:ms(i,a,a/2),cy:ms(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),an=(e,t)=>t,Ex=(e,t,r)=>r;function U6(e){return e==null?void 0:e.id}function bW(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=U6(l);u.forEach((f,h)=>{var m=s==null||a?h:String(Or(f,s,null)),p=Or(f,l.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[d]:p}),i.set(m,g)})}}),Array.from(i.values())}function hw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var mw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function pw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hbe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var xa=e=>{var t=ir(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gh=e=>e.tooltip.settings.axisId;function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){mbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mbe(e,t,r){return(t=pbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pbe(e){var t=gbe(e,"string");return typeof t=="symbol"?t:t+""}function gbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RS=[0,"auto"],Na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wW=(e,t)=>e.cartesianAxis.xAxis[t],Mc=(e,t)=>{var r=wW(e,t);return r??Na},Sa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:RS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yx},kW=(e,t)=>e.cartesianAxis.yAxis[t],Rc=(e,t)=>{var r=kW(e,t);return r??Sa},xbe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$6=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xbe},mn=(e,t,r)=>{switch(t){case"xAxis":return Mc(e,r);case"yAxis":return Rc(e,r);case"zAxis":return $6(e,r);case"angleAxis":return R6(e,r);case"radiusAxis":return B6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vbe=(e,t,r)=>{switch(t){case"xAxis":return Mc(e,r);case"yAxis":return Rc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cx=(e,t,r)=>{switch(t){case"xAxis":return Mc(e,r);case"yAxis":return Rc(e,r);case"angleAxis":return R6(e,r);case"radiusAxis":return B6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},NW=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function W6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var gw=e=>e.graphicalItems.cartesianItems,ybe=De([an,Ex],W6),H6=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tx=De([gw,mn,ybe],H6,{memoizeOptions:{resultEqualityCheck:pw}}),SW=De([Tx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(hw)),jW=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bbe=De([Tx],jW),V6=e=>e.map(t=>t.data).filter(Boolean).flat(1),wbe=De([Tx],V6,{memoizeOptions:{resultEqualityCheck:pw}}),q6=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},G6=De([wbe,O6],q6),K6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Or(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Or(a,n)}))):e.map(n=>({value:n})),xw=De([G6,mn,Tx],K6);function AW(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ey(e){if(El(e)||e instanceof Date){var t=Number(e);if(hn(t))return t}}function LO(e){if(Array.isArray(e)){var t=[ey(e[0]),ey(e[1])];return Hu(t)?t:void 0}var r=ey(e);if(r!=null)return[r,r]}function Nc(e){return e.map(ey).filter(Ohe)}function kbe(e,t,r){return!r||typeof t!="number"||Ko(t)?[]:r.length?Nc(r.flatMap(n=>{var a=Or(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!hn(s)||!hn(i)))return[t-s,t+i]})):[]}var va=e=>{var t=xa(e),r=Gh(e);return Cx(e,t,r)},Px=De([va],e=>e==null?void 0:e.dataKey),Nbe=De([SW,O6,va],bW),_W=(e,t,r,n)=>{var a={},s=t.reduce((i,l)=>{if(l.stackId==null)return i;var c=i[l.stackId];return c==null&&(c=[]),c.push(l),i[l.stackId]=c,i},a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,u=n?[...c].reverse():c,d=u.map(U6);return[l,{stackedData:Ype(e,d,r),graphicalItems:u}]}))},BS=De([Nbe,SW,_x,hW],_W),EW=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=ege(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Sbe=De([mn],e=>e.allowDataOverflow),Y6=e=>{var t;if(e==null||!("domain"in e))return RS;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Nc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:RS},X6=De([mn],Y6),Z6=De([X6,Sbe],Z$),jbe=De([BS,Ic,an,Z6],EW,{memoizeOptions:{resultEqualityCheck:mw}}),vw=e=>e.errorBars,Abe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>AW(r,n)),Tb=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},J6=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(v=>AW(a,v)),h=Or(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=kbe(l,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(s==null||p<s)&&(s=p),(i==null||g>i)&&(i=g)}var x=LO(h);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),i=i==null?x[1]:Math.max(i,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=LO(Or(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),hn(s)&&hn(i))return[s,i]},_be=De([G6,mn,bbe,vw,an],J6,{memoizeOptions:{resultEqualityCheck:mw}});function Ebe(e){var{value:t}=e;if(El(t)||t instanceof Date)return t}var Cbe=(e,t,r)=>{var n=e.map(Ebe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Nz(n))?g$(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},CW=e=>e.referenceElements.dots,Kh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Tbe=De([CW,an,Ex],Kh),TW=e=>e.referenceElements.areas,Pbe=De([TW,an,Ex],Kh),PW=e=>e.referenceElements.lines,Obe=De([PW,an,Ex],Kh),OW=(e,t)=>{if(e!=null){var r=Nc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Fbe=De(Tbe,an,OW),FW=(e,t)=>{if(e!=null){var r=Nc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Lbe=De([Pbe,an],FW);function Dbe(e){var t;if(e.x!=null)return Nc([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Nc(r)}function Ibe(e){var t;if(e.y!=null)return Nc([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Nc(r)}var LW=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Dbe(n):Ibe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Mbe=De([Obe,an],LW),Rbe=De(Fbe,Mbe,Lbe,(e,t,r)=>Tb(e,r,t)),Q6=(e,t,r,n,a,s,i,l)=>{if(r!=null)return r;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?Tb(n,s,a):Tb(s,a);return Yye(t,u,e.allowDataOverflow)},Bbe=De([mn,X6,Z6,jbe,_be,Rbe,ir,an],Q6,{memoizeOptions:{resultEqualityCheck:mw}}),zbe=[0,1],e_=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,u=sd(t,s);if(u&&l==null){var d;return g$(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Cbe(n,e,u):a==="expand"?zbe:i}},t_=De([mn,ir,G6,xw,_x,an,Bbe],e_),DW=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(hx(s));return l in op?l:"point"}}},Yh=De([mn,ir,NW,D6,an],DW);function Ube(e){if(e!=null){if(e in op)return op[e]();var t="scale".concat(hx(e));if(t in op)return op[t]()}}function r_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Ube(t);if(a!=null){var s=a.domain(r).range(n);return Hpe(s),s}}}var n_=(e,t,r)=>{var n=Y6(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Hu(e))return abe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hu(e))return sbe(e,t.tickCount,t.allowDecimals)}},a_=De([t_,Cx,Yh],n_),s_=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Hu(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},$be=De([mn,t_,a_,an],s_),Wbe=De(xw,mn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Nc(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var i=s-a;if(i===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/i}}),IW=De(Wbe,ir,fW,pa,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!hn(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=ms(r,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),Hbe=(e,t,r)=>{var n=Mc(e,t);return n==null||typeof n.padding!="string"?0:IW(e,"xAxis",t,r,n.padding)},Vbe=(e,t,r)=>{var n=Rc(e,t);return n==null||typeof n.padding!="string"?0:IW(e,"yAxis",t,r,n.padding)},qbe=De(Mc,Hbe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Gbe=De(Rc,Vbe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Kbe=De([pa,qbe,Z2,X2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Ybe=De([pa,ir,Gbe,Z2,X2,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ox=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Kbe(e,r,n);case"yAxis":return Ybe(e,r,n);case"zAxis":return(a=$6(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return xW(e);case"radiusAxis":return vW(e,r);default:return}},MW=De([mn,Ox],dw),yw=De([mn,Yh,$be,MW],r_);De([Tx,vw,an],Abe);function RW(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bw=(e,t)=>t,ww=(e,t,r)=>r,Xbe=De(K2,bw,ww,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(RW)),Zbe=De(Y2,bw,ww,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(RW)),BW=(e,t)=>({width:e.width,height:t.height}),Jbe=(e,t)=>{var r=typeof t.width=="number"?t.width:yx;return{width:r,height:e.height}},zW=De(pa,Mc,BW),Qbe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},e2e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},t2e=De(Lc,pa,Xbe,bw,ww,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=BW(t,l);i==null&&(i=Qbe(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),r2e=De(Fc,pa,Zbe,bw,ww,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=Jbe(t,l);i==null&&(i=e2e(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),n2e=(e,t)=>{var r=Mc(e,t);if(r!=null)return t2e(e,r.orientation,r.mirror)},a2e=De([pa,Mc,n2e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),s2e=(e,t)=>{var r=Rc(e,t);if(r!=null)return r2e(e,r.orientation,r.mirror)},i2e=De([pa,Rc,s2e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),UW=De(pa,Rc,(e,t)=>{var r=typeof t.width=="number"?t.width:yx;return{width:r,height:e.height}}),DO=(e,t,r)=>{switch(t){case"xAxis":return zW(e,r).width;case"yAxis":return UW(e,r).height;default:return}},$W=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,l=sd(e,n),c=t.map(u=>u.value);if(i&&l&&s==="category"&&a&&Nz(c))return c}},i_=De([ir,xw,mn,an],$W),WW=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=sd(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},o_=De([ir,xw,Cx,an],WW),IO=De([ir,vbe,Yh,yw,i_,o_,Ox,a_,an],(e,t,r,n,a,s,i,l,c)=>{if(t!=null){var u=sd(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:r,scale:n}}}),o2e=(e,t,r,n,a,s,i,l,c)=>{if(!(t==null||n==null)){var u=sd(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?Ta(s[0]-s[1])*2*p:p;var g=f||a;if(g){var x=g.map((v,y)=>{var b=i?i.indexOf(v):v;return{index:y,coordinate:n(b)+p,value:v,offset:p}});return x.filter(v=>hn(v.coordinate))}return u&&l?l.map((v,y)=>({coordinate:n(v)+p,value:v,index:y,offset:p})).filter(v=>hn(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,y)=>({coordinate:n(v)+p,value:i?i[v]:v,index:y,offset:p}))}},HW=De([ir,Cx,Yh,yw,a_,Ox,i_,o_,an],o2e),l2e=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=sd(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?Ta(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Vu=De([ir,Cx,yw,Ox,i_,o_,an],l2e),qu=De(mn,yw,(e,t)=>{if(!(e==null||t==null))return Cb(Cb({},e),{},{scale:t})}),c2e=De([mn,Yh,t_,MW],r_);De((e,t,r)=>$6(e,r),c2e,(e,t)=>{if(!(e==null||t==null))return Cb(Cb({},e),{},{scale:t})});var u2e=De([ir,K2,Y2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),VW=e=>e.options.defaultTooltipEventType,qW=e=>e.options.validateTooltipEventTypes;function GW(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function l_(e,t){var r=VW(e),n=qW(e);return GW(t,r,n)}function d2e(e){return St(t=>l_(t,e))}var KW=(e,t)=>{var r,n=Number(t);if(!(Ko(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},f2e=e=>e.tooltip.settings,fu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},h2e={itemInteraction:{click:fu,hover:fu},axisInteraction:{click:fu,hover:fu},keyboardInteraction:fu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YW=si({name:"tooltip",initialState:h2e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=qo(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Zr()},removeTooltipEntrySettings:{reducer(e,t){var r=qo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:m2e,replaceTooltipEntrySettings:p2e,removeTooltipEntrySettings:g2e,setTooltipSettingsState:x2e,setActiveMouseOverItemIndex:XW,mouseLeaveItem:v2e,mouseLeaveChart:ZW,setActiveClickItemIndex:y2e,setMouseOverAxisIndex:JW,setMouseClickAxisIndex:b2e,setSyncInteraction:zS,setKeyboardInteraction:US}=YW.actions,w2e=YW.reducer;function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){k2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k2e(e,t,r){return(t=N2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2e(e){var t=S2e(e,"string");return typeof t=="symbol"?t:t+""}function S2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function A2e(e){return e.index!=null}var QW=(e,t,r,n)=>{if(t==null)return fu;var a=j2e(e,t,r);if(a==null)return fu;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(A2e(a)){if(s)return Sv(Sv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Sv(Sv({},fu),{},{coordinate:a.coordinate})};function _2e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function E2e(e,t){var r=_2e(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function C2e(e,t,r){if(r==null||t==null)return!0;var n=Or(e,t);return n==null||!Hu(r)?!0:E2e(n,r)}var c_=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!hn(s))return a;var i=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(i,Math.min(s,l)),u=t[c];return u==null||C2e(u,r,n)?String(c):null},eH=(e,t,r,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},tH=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Fx=e=>e.options.tooltipPayloadSearcher,Xh=e=>e.tooltip;function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){T2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T2e(e,t,r){return(t=P2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=O2e(e,"string");return typeof t=="symbol"?t:t+""}function O2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F2e(e,t){return e??t}var rH=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:x}=m,v=F2e(g,l),y=Array.isArray(v)?OU(v,u,d):v,b=(p=x==null?void 0:x.dataKey)!==null&&p!==void 0?p:n,N=x==null?void 0:x.nameKey,A;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&i==="axis"?A=Sz(y,n,a):A=s(y,t,c,N),Array.isArray(A))A.forEach(j=>{var E=BO(BO({},x),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(X8({tooltipEntrySettings:E,dataKey:j.dataKey,payload:j.payload,value:Or(j.payload,j.dataKey),name:j.name}))});else{var S;h.push(X8({tooltipEntrySettings:x,dataKey:b,payload:A,value:Or(A,b),name:(S=Or(A,N))!==null&&S!==void 0?S:x==null?void 0:x.name}))}return h},f)}},u_=De([va,ir,NW,D6,xa],DW),L2e=De([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),D2e=De([xa,Gh],W6),Zh=De([L2e,va,D2e],H6,{memoizeOptions:{resultEqualityCheck:pw}}),I2e=De([Zh],e=>e.filter(hw)),M2e=De([Zh],V6,{memoizeOptions:{resultEqualityCheck:pw}}),Jh=De([M2e,Ic],q6),R2e=De([I2e,Ic,va],bW),d_=De([Jh,va,Zh],K6),nH=De([va],Y6),B2e=De([va],e=>e.allowDataOverflow),aH=De([nH,B2e],Z$),z2e=De([Zh],e=>e.filter(hw)),U2e=De([R2e,z2e,_x,hW],_W),$2e=De([U2e,Ic,xa,aH],EW),W2e=De([Zh],jW),H2e=De([Jh,va,W2e,vw,xa],J6,{memoizeOptions:{resultEqualityCheck:mw}}),V2e=De([CW,xa,Gh],Kh),q2e=De([V2e,xa],OW),G2e=De([TW,xa,Gh],Kh),K2e=De([G2e,xa],FW),Y2e=De([PW,xa,Gh],Kh),X2e=De([Y2e,xa],LW),Z2e=De([q2e,X2e,K2e],Tb),J2e=De([va,nH,aH,$2e,H2e,Z2e,ir,xa],Q6),Lx=De([va,ir,Jh,d_,_x,xa,J2e],e_),Q2e=De([Lx,va,u_],n_),ewe=De([va,Lx,Q2e,xa],s_),sH=e=>{var t=xa(e),r=Gh(e),n=!1;return Ox(e,t,r,n)},iH=De([va,sH],dw),oH=De([va,u_,ewe,iH],r_),twe=De([ir,d_,va,xa],$W),rwe=De([ir,d_,va,xa],WW),nwe=(e,t,r,n,a,s,i,l)=>{if(t){var{type:c}=t,u=sd(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ta(a[0]-a[1])*2*f:f,u&&i?i.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Bc=De([ir,va,u_,oH,sH,twe,rwe,xa],nwe),f_=De([VW,qW,f2e],(e,t,r)=>GW(r.shared,e,t)),lH=e=>e.tooltip.settings.trigger,h_=e=>e.tooltip.settings.defaultIndex,Dx=De([Xh,f_,lH,h_],QW),Gu=De([Dx,Jh,Px,Lx],c_),cH=De([Bc,Gu],KW),m_=De([Dx],e=>{if(e)return e.dataKey}),awe=De([Dx],e=>{if(e)return e.graphicalItemId}),uH=De([Xh,f_,lH,h_],tH),swe=De([Fc,Lc,ir,pa,Bc,h_,uH,Fx],eH),iwe=De([Dx,swe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),owe=De([Dx],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),lwe=De([uH,Gu,Ic,Px,cH,Fx,f_],rH),cwe=De([lwe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){uwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t,r){return(t=dwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dwe(e){var t=fwe(e,"string");return typeof t=="symbol"?t:t+""}function fwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hwe=()=>St(va),mwe=()=>{var e=hwe(),t=St(Bc),r=St(oH);return yh(!e||!r?void 0:UO(UO({},e),{},{scale:r}),t)};function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){pwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pwe(e,t,r){return(t=gwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gwe(e){var t=xwe(e,"string");return typeof t=="symbol"?t:t+""}function xwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vwe=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},ywe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return vf(vf(vf({},n),Jn(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return vf(vf(vf({},n),Jn(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function bwe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var dH=(e,t,r,n,a)=>{var s,i=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(i<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<i;l++){var c,u,d,f,h,m=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[i-1])===null||u===void 0?void 0:u.coordinate,p=(d=r[l])===null||d===void 0?void 0:d.coordinate,g=l>=i-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||p==null||g==null))if(Ta(p-m)!==Ta(g-p)){var v=[];if(Ta(g-p)===Ta(a[1]-a[0])){x=g;var y=p+a[1]-a[0];v[0]=Math.min(y,(y+m)/2),v[1]=Math.max(y,(y+m)/2)}else{x=m;var b=g+a[1]-a[0];v[0]=Math.min(p,(b+p)/2),v[1]=Math.max(p,(b+p)/2)}var N=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){var A;return(A=r[l])===null||A===void 0?void 0:A.index}}else{var S=Math.min(m,g),j=Math.max(m,g);if(e>(S+p)/2&&e<=(j+p)/2){var E;return(E=r[l])===null||E===void 0?void 0:E.index}}}else if(t)for(var C=0;C<i;C++){var I=t[C];if(I!=null){var T=t[C+1],P=t[C-1];if(C===0&&T!=null&&e<=(I.coordinate+T.coordinate)/2||C===i-1&&P!=null&&e>(I.coordinate+P.coordinate)/2||C>0&&C<i-1&&P!=null&&T!=null&&e>(I.coordinate+P.coordinate)/2&&e<=(I.coordinate+T.coordinate)/2)return I.index}}return-1},wwe=()=>St(D6),p_=(e,t)=>t,fH=(e,t,r)=>r,g_=(e,t,r,n)=>n,kwe=De(Bc,e=>B2(e,t=>t.coordinate)),x_=De([Xh,p_,fH,g_],QW),v_=De([x_,Jh,Px,Lx],c_),Nwe=(e,t,r)=>{if(t!=null){var n=Xh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},hH=De([Xh,p_,fH,g_],tH),Pb=De([Fc,Lc,ir,pa,Bc,g_,hH,Fx],eH),Swe=De([x_,Pb],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),mH=De([Bc,v_],KW),jwe=De([hH,v_,Ic,Px,mH,Fx,p_],rH),Awe=De([x_,v_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_we=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&bwe(e,i)){var l=tge(e,t),c=dH(l,s,a,r,n),u=vwe(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Ewe=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var l=m1e(e,r);if(l){var c=rge(l,t),u=dH(c,i,s,n,a),d=ywe(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Cwe=(e,t,r,n,a,s,i,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?_we(e,t,n,a,s,i,l):Ewe(e,t,r,n,a,s,i)},Twe=De(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Pwe=De(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Qn)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:hbe}});function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Owe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Owe(e,t,r){return(t=Fwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fwe(e){var t=Lwe(e,"string");return typeof t=="symbol"?t:t+""}function Lwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dwe={},Iwe={zIndexMap:Object.values(Qn).reduce((e,t)=>HO(HO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Dwe)},Mwe=new Set(Object.values(Qn));function Rwe(e){return Mwe.has(e)}var pH=si({name:"zIndex",initialState:Iwe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Rwe(r)&&delete e.zIndexMap[r])},prepare:Zr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Zr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Zr()}}}),{registerZIndexPortal:Bwe,unregisterZIndexPortal:zwe,registerZIndexPortalElement:Uwe,unregisterZIndexPortalElement:$we}=pH.actions,Wwe=pH.reducer;function ii(e){var{zIndex:t,children:r}=e,n=Cge(),a=n&&t!==void 0&&t!==0,s=vs(),i=Ur();k.useLayoutEffect(()=>a?(i(Bwe({zIndex:t})),()=>{i(zwe({zIndex:t}))}):mx,[i,t,a]);var l=St(c=>Twe(c,t,s));return a?l?d2.createPortal(r,l):null:r}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$S.apply(null,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){Hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hwe(e,t,r){return(t=Vwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vwe(e){var t=qwe(e,"string");return typeof t=="symbol"?t:t+""}function qwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gwe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return k.isValidElement(t)?k.cloneElement(t,n):k.createElement(r,n)}function Kwe(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,g,x;if(d==="ScatterChart")p=f,g=Exe,x=Qn.cursorLine;else if(d==="BarChart")p=Cxe(l,f,s,i),g=l$,x=Qn.cursorRectangle;else if(l==="radial"&&Az(f)){var{cx:v,cy:y,radius:b,startAngle:N,endAngle:A}=u$(f);p={cx:v,cy:y,startAngle:N,endAngle:A,innerRadius:b,outerRadius:b},g=f$,x=Qn.cursorLine}else p={points:v1e(l,f,s)},g=l6,x=Qn.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,j=jv(jv(jv(jv({stroke:"#ccc",pointerEvents:"none"},s),p),v0(c)),{},{payload:h,payloadIndex:m,className:hr("recharts-tooltip-cursor",S)});return k.createElement(ii,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},k.createElement(Gwe,{cursor:c,cursorComp:g,cursorProps:j}))}function Ywe(e){var t=mwe(),r=VU(),n=Wh(),a=wwe();return t==null||r==null||n==null||a==null?null:k.createElement(Kwe,$S({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var gH=k.createContext(null),Xwe=()=>k.useContext(gH),xH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var N=x.length,A;for(b=0;b<N;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!y)for(A=1,y=new Array(v-1);A<v;A++)y[A-1]=arguments[A];x[b].fn.apply(x[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&i(this,m);else{for(var g=0,x=[],v=p.length;g<v;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&x.push(p[g]);x.length?this._events[m]=x.length===1?x[0]:x:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(xH);var Zwe=xH.exports;const Jwe=Pl(Zwe);var Mg=new Jwe,WS="recharts.syncEvent.tooltip",qO="recharts.syncEvent.brush";function y_(e,t){if(t){var r=Number.parseInt(t,10);if(!Ko(r))return e==null?void 0:e[r]}}var Qwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vH=si({name:"options",initialState:Qwe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),e5e=vH.reducer,{createEventEmitter:t5e}=vH.actions;function r5e(e){return e.tooltip.syncInteraction}var n5e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yH=si({name:"chartData",initialState:n5e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:GO,setDataStartEndIndexes:a5e,setComputedData:v7e}=yH.actions,s5e=yH.reducer,i5e=["x","y"];function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){o5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5e(e,t,r){return(t=l5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5e(e){var t=c5e(e,"string");return typeof t=="symbol"?t:t+""}function c5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u5e(e,t){if(e==null)return{};var r,n,a=d5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function f5e(){var e=St(I6),t=St(M6),r=Ur(),n=St(mW),a=St(Bc),s=Wh(),i=J2(),l=St(c=>c.rootProps.className);k.useEffect(()=>{if(e==null)return mx;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(i&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,x=u5e(m,i5e),{x:v,y,width:b,height:N}=d.payload.sourceViewBox,A=yf(yf({},x),{},{x:i.x+(b?(p-v)/b:0)*i.width,y:i.y+(N?(g-y)/N:0)*i.height});r(yf(yf({},d),{},{payload:yf(yf({},d.payload),{},{coordinate:A})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,j);S=a[E]}else n==="value"&&(S=a.find(R=>String(R.value)===d.payload.label));var{coordinate:C}=d.payload;if(S==null||d.payload.active===!1||C==null||i==null){r(zS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:T}=C,P=Math.min(I,i.x+i.width),H=Math.min(T,i.y+i.height),q={x:s==="horizontal"?S.coordinate:P,y:s==="horizontal"?H:S.coordinate},ae=zS({active:d.payload.active,coordinate:q,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ae)}}};return Mg.on(WS,c),()=>{Mg.off(WS,c)}},[l,r,t,e,n,a,s,i])}function h5e(){var e=St(I6),t=St(M6),r=Ur();k.useEffect(()=>{if(e==null)return mx;var n=(a,s,i)=>{t!==i&&e===a&&r(a5e(s))};return Mg.on(qO,n),()=>{Mg.off(qO,n)}},[r,t,e])}function m5e(){var e=Ur();k.useEffect(()=>{e(t5e())},[e]),f5e(),h5e()}function p5e(e,t,r,n,a,s){var i=St(m=>Nwe(m,e,t)),l=St(M6),c=St(I6),u=St(mW),d=St(r5e),f=d==null?void 0:d.active,h=J2();k.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=zS({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Mg.emit(WS,c,m,l)}},[f,r,i,a,n,l,c,u,s,h])}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){g5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g5e(e,t,r){return(t=x5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x5e(e){var t=v5e(e,"string");return typeof t=="symbol"?t:t+""}function v5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y5e(e){return e.dataKey}function b5e(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(oxe,t)}var ZO=[],w5e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function HS(e){var t,r,n=na(e,w5e),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:x,cursor:v,shared:y,trigger:b,defaultIndex:N,portal:A,axisId:S}=n,j=Ur(),E=typeof N=="number"?String(N):N;k.useEffect(()=>{j(x2e({shared:y,trigger:b,axisId:S,active:a,defaultIndex:E}))},[j,y,b,S,a,E]);var C=J2(),I=n$(),T=d2e(y),{activeIndex:P,isActive:H}=(t=St(V=>Awe(V,T,b,E)))!==null&&t!==void 0?t:{},q=St(V=>jwe(V,T,b,E)),ae=St(V=>mH(V,T,b,E)),R=St(V=>Swe(V,T,b,E)),z=q,Y=Xwe(),U=(r=a??H)!==null&&r!==void 0?r:!1,[Q,pe]=rU([z,U]),F=T==="axis"?ae:void 0;p5e(T,b,R,F,P,U);var M=A??Y;if(M==null||C==null||T==null)return null;var B=z??ZO;U||(B=ZO),u&&B.length&&(B=Hz(B.filter(V=>V.value!=null&&(V.hide!==!0||n.includeHidden)),h,y5e));var D=B.length>0,X=k.createElement(mxe,{allowEscapeViewBox:s,animationDuration:i,animationEasing:l,isAnimationActive:d,active:U,coordinate:R,hasPayload:D,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:C,wrapperStyle:x,lastBoundingBox:Q,innerRef:pe,hasPortalFromProps:!!A},b5e(c,XO(XO({},n),{},{payload:B,label:F,active:U,activeIndex:P,coordinate:R,accessibilityLayer:I})));return k.createElement(k.Fragment,null,d2.createPortal(X,M),U&&k.createElement(Ywe,{cursor:v,tooltipEventType:T,coordinate:R,payload:B,index:P}))}var Ix=e=>null;Ix.displayName="Cell";function k5e(e,t,r){return(t=N5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5e(e){var t=S5e(e,"string");return typeof t=="symbol"?t:t+""}function S5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class j5e{constructor(t){k5e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){_5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _5e(e,t,r){return(t=E5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5e(e){var t=C5e(e,"string");return typeof t=="symbol"?t:t+""}function C5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T5e={cacheSize:2e3,enableCache:!0},bH=A5e({},T5e),QO=new j5e(bH.cacheSize),P5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eF="recharts_measurement_span";function O5e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var tF=(e,t)=>{try{var r=document.getElementById(eF);r||(r=document.createElement("span"),r.setAttribute("id",eF),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,P5e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Op=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nw.isSsr)return{width:0,height:0};if(!bH.enableCache)return tF(t,r);var n=O5e(t,r),a=QO.get(n);if(a)return a;var s=tF(t,r);return QO.set(n,s),s},wH;function F5e(e,t,r){return(t=L5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L5e(e){var t=D5e(e,"string");return typeof t=="symbol"?t:t+""}function D5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,M5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R5e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B5e=["cm","mm","pt","pc","in","Q","px"];function z5e(e){return B5e.includes(e)}var Rf="NaN";function U5e(e,t){return e*R5e[t]}class za{static parse(t){var r,[,n,a]=(r=M5e.exec(t))!==null&&r!==void 0?r:[];return n==null?za.NaN:new za(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ko(t)&&(this.unit=""),r!==""&&!I5e.test(r)&&(this.num=NaN,this.unit=""),z5e(r)&&(this.num=U5e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new za(NaN,""):new za(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new za(NaN,""):new za(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new za(NaN,""):new za(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new za(NaN,""):new za(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ko(this.num)}}wH=za;F5e(za,"NaN",new wH(NaN,""));function kH(e){if(e==null||e.includes(Rf))return Rf;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=rF.exec(t))!==null&&r!==void 0?r:[],i=za.parse(n??""),l=za.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return Rf;t=t.replace(rF,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=nF.exec(t))!==null&&u!==void 0?u:[],m=za.parse(d??""),p=za.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Rf;t=t.replace(nF,g.toString())}return t}var aF=/\(([^()]*)\)/;function $5e(e){for(var t=e,r;(r=aF.exec(t))!=null;){var[,n]=r;t=t.replace(aF,kH(n))}return t}function W5e(e){var t=e.replace(/\s+/g,"");return t=$5e(t),t=kH(t),t}function H5e(e){try{return W5e(e)}catch{return Rf}}function Xk(e){var t=H5e(e.slice(5,-1));return t===Rf?"":t}var V5e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],q5e=["dx","dy","angle","className","breakAll"];function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(null,arguments)}function sF(e,t){if(e==null)return{};var r,n,a=G5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NH=/[ \f\n\r\t\v\u2028\u2029]+/,SH=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];nn(t)||(r?a=t.toString().split(""):a=t.toString().split(NH));var s=a.map(l=>({word:l,width:Op(l,n).width})),i=r?0:Op("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function K5e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var jH=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(i),c.width+=l+r;else{var u={words:[i],width:l};a.push(u)}return a},[]),AH=e=>e.reduce((t,r)=>t.width>r.width?t:r),Y5e="",iF=(e,t,r,n,a,s,i,l)=>{var c=e.slice(0,t),u=SH({breakAll:r,style:n,children:c+Y5e});if(!u)return[!1,[]];var d=jH(u.wordsWithComputedWidth,s,i,l),f=d.length>a||AH(d).width>Number(s);return[f,d]},X5e=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=e,u=Nt(s),d=String(i),f=jH(t,n,r,a);if(!u||a)return f;var h=f.length>s||AH(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,g=0,x;m<=p&&g<=d.length-1;){var v=Math.floor((m+p)/2),y=v-1,[b,N]=iF(d,y,c,l,s,n,r,a),[A]=iF(d,v,c,l,s,n,r,a);if(!b&&!A&&(m=v+1),b&&A&&(p=v-1),!b&&A){x=N;break}g++}return x||f},oF=e=>{var t=nn(e)?[]:e.toString().split(NH);return[{words:t,width:void 0}]},Z5e=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!nw.isSsr){var l,c,u=SH({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return oF(n);return X5e({breakAll:s,children:n,maxLines:i,style:a},l,c,t,!!r)}return oF(n)},_H="#808080",J5e={angle:0,breakAll:!1,capHeight:"0.71em",fill:_H,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},kw=k.forwardRef((e,t)=>{var r=na(e,J5e),{x:n,y:a,lineHeight:s,capHeight:i,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=sF(r,V5e),h=k.useMemo(()=>Z5e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:g,className:x,breakAll:v}=f,y=sF(f,q5e);if(!El(n)||!El(a)||h.length===0)return null;var b=Number(n)+(Nt(m)?m:0),N=Number(a)+(Nt(p)?p:0);if(!hn(b)||!hn(N))return null;var A;switch(d){case"start":A=Xk("calc(".concat(i,")"));break;case"middle":A=Xk("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:A=Xk("calc(".concat(h.length-1," * -").concat(s,")"));break}var S=[];if(c){var j=h[0].width,{width:E}=f;S.push("scale(".concat(Nt(E)&&Nt(j)?E/j:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(b,", ").concat(N,")")),S.length&&(y.transform=S.join(" ")),k.createElement("text",VS({},Fs(y),{ref:t,x:b,y:N,className:hr("recharts-text",x),textAnchor:u,fill:l.includes("url")?_H:l}),h.map((C,I)=>{var T=C.words.join(v?"":" ");return k.createElement("tspan",{x:b,dy:I===0?A:s,key:"".concat(T,"-").concat(I)},T)}))});kw.displayName="Text";var Q5e=["labelRef"],eke=["content"];function lF(e,t){if(e==null)return{};var r,n,a=tke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rke(e,t,r){return(t=nke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nke(e){var t=ake(e,"string");return typeof t=="symbol"?t:t+""}function ake(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(null,arguments)}var EH=k.createContext(null),ske=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:l}=e,c=k.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return k.createElement(EH.Provider,{value:c},l)},CH=()=>{var e=k.useContext(EH),t=J2();return e||HU(t)},ike=k.createContext(null),oke=()=>{var e=k.useContext(ike),t=St(yW);return e||t},lke=e=>{var{value:t,formatter:r}=e,n=nn(e.children)?t:e.children;return typeof r=="function"?r(n):n},b_=e=>e!=null&&typeof e=="function",cke=(e,t)=>{var r=Ta(t-e),n=Math.min(Math.abs(t-e),360);return r*n},uke=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,g=cke(f,h),x=g>=0?1:-1,v,y;switch(t){case"insideStart":v=f+x*s,y=m;break;case"insideEnd":v=h-x*s,y=!m;break;case"end":v=h+x*s,y=m;break;default:throw new Error("Unsupported position ".concat(t))}y=g<=0?y:!y;var b=Jn(l,c,p,v),N=Jn(l,c,p,v+(y?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(N.x,",").concat(N.y),S=nn(e.id)?Sg("recharts-radial-line-"):e.id;return k.createElement("text",Ql({},n,{dominantBaseline:"central",className:hr("recharts-radial-bar-label",i)}),k.createElement("defs",null,k.createElement("path",{id:S,d:A})),k.createElement("textPath",{xlinkHref:"#".concat(S)},r))},dke=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Jn(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:p}=Jn(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},qS=e=>"cx"in e&&Nt(e.cx),fke=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!qS(r)&&(s=r);var{x:i,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=i,h=i+(c-u)/2,m=(f+h)/2,p=(c+u)/2,g=f+c/2,x=d>=0?1:-1,v=x*n,y=x>0?"end":"start",b=x>0?"start":"end",N=c>=0?1:-1,A=N*n,S=N>0?"end":"start",j=N>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:l-v,textAnchor:"middle",verticalAnchor:y};return Pn(Pn({},E),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var C={x:h+u/2,y:l+d+v,textAnchor:"middle",verticalAnchor:b};return Pn(Pn({},C),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var I={x:m-A,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return Pn(Pn({},I),s?{width:Math.max(I.x-s.x,0),height:d}:{})}if(a==="right"){var T={x:m+p+A,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return Pn(Pn({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:d}:{})}var P=s?{width:p,height:d}:{};return a==="insideLeft"?Pn({x:m+A,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Pn({x:m+p-A,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},P):a==="insideTop"?Pn({x:f+c/2,y:l+v,textAnchor:"middle",verticalAnchor:b},P):a==="insideBottom"?Pn({x:h+u/2,y:l+d-v,textAnchor:"middle",verticalAnchor:y},P):a==="insideTopLeft"?Pn({x:f+A,y:l+v,textAnchor:j,verticalAnchor:b},P):a==="insideTopRight"?Pn({x:f+c-A,y:l+v,textAnchor:S,verticalAnchor:b},P):a==="insideBottomLeft"?Pn({x:h+A,y:l+d-v,textAnchor:j,verticalAnchor:y},P):a==="insideBottomRight"?Pn({x:h+u-A,y:l+d-v,textAnchor:S,verticalAnchor:y},P):a&&typeof a=="object"&&(Nt(a.x)||vc(a.x))&&(Nt(a.y)||vc(a.y))?Pn({x:i+ms(a.x,p),y:l+ms(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Pn({x:g,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},hke={angle:0,offset:5,zIndex:Qn.label,position:"middle",textBreakAll:!1};function lu(e){var t=na(e,hke),{viewBox:r,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=t,d=oke(),f=CH(),h=n==="center"?f:d??f,m,p,g;if(r==null?m=h:qS(r)?m=r:m=HU(r),!m||nn(a)&&nn(s)&&!k.isValidElement(i)&&typeof i!="function")return null;var x=Pn(Pn({},t),{},{viewBox:m});if(k.isValidElement(i)){var{labelRef:v}=x,y=lF(x,Q5e);return k.cloneElement(i,y)}if(typeof i=="function"){var{content:b}=x,N=lF(x,eke);if(p=k.createElement(i,N),k.isValidElement(p))return p}else p=lke(t);var A=Fs(t);if(qS(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return uke(t,n,p,A,m);g=dke(m,t.offset,t.position)}else g=fke(t,m);return k.createElement(ii,{zIndex:t.zIndex},k.createElement(kw,Ql({ref:u,className:hr("recharts-label",l)},A,g,{textAnchor:K5e(A.textAnchor)?A.textAnchor:g.textAnchor,breakAll:c}),p))}lu.displayName="Label";var mke=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(lu,Ql({key:"label-implicit"},n)):El(e)?k.createElement(lu,Ql({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===lu?k.cloneElement(e,Pn({key:"label-implicit"},n)):k.createElement(lu,Ql({key:"label-implicit",content:e},n)):b_(e)?k.createElement(lu,Ql({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(lu,Ql({},e,{key:"label-implicit"},n)):null};function pke(e){var{label:t,labelRef:r}=e,n=CH();return mke(t,n,r)||null}var TH={},PH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(PH);var OH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(OH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PH,r=OH,n=M2;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(TH);var gke=TH.last;const xke=Pl(gke);var vke=["valueAccessor"],yke=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(null,arguments)}function uF(e,t){if(e==null)return{};var r,n,a=bke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wke=e=>Array.isArray(e.value)?xke(e.value):e.value,FH=k.createContext(void 0),LH=FH.Provider,DH=k.createContext(void 0),kke=DH.Provider;function Nke(){return k.useContext(FH)}function Ske(){return k.useContext(DH)}function ty(e){var{valueAccessor:t=wke}=e,r=uF(e,vke),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:l}=r,c=uF(r,yke),u=Nke(),d=Ske(),f=u||d;return!f||!f.length?null:k.createElement(ii,{zIndex:l??Qn.label},k.createElement(Oa,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=nn(n)?t(h,m):Or(h&&h.payload,n),x=nn(s)?{}:{id:"".concat(s,"-").concat(m)};return k.createElement(lu,Ob({key:"label-".concat(m)},Fs(h),c,x,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:i,viewBox:h.viewBox,index:m,zIndex:0}))})))}ty.displayName="LabelList";function w_(e){var{label:t}=e;return t?t===!0?k.createElement(ty,{key:"labelList-implicit"}):k.isValidElement(t)||b_(t)?k.createElement(ty,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(ty,Ob({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GS.apply(null,arguments)}var IH=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=hr("recharts-dot",a);return Nt(t)&&Nt(r)&&Nt(n)?k.createElement("circle",GS({},Ci(e),DA(e),{className:s,cx:t,cy:r,r:n})):null},MH=e=>e.graphicalItems.polarItems,jke=De([an,Ex],W6),Nw=De([MH,mn,jke],H6),Ake=De([Nw],V6),Sw=De([Ake,uw],q6),_ke=De([Sw,mn,Nw],K6);De([Sw,mn,Nw],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=Or(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Or(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var dF=()=>{},Eke=De([Sw,mn,Nw,vw,an],J6),Cke=De([mn,X6,Z6,dF,Eke,dF,ir,an],Q6),RH=De([mn,ir,Sw,_ke,_x,an,Cke],e_),Tke=De([RH,mn,Yh],n_);De([mn,RH,Tke,an],s_);var Pke={radiusAxis:{},angleAxis:{}},BH=si({name:"polarAxis",initialState:Pke,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:y7e,removeRadiusAxis:b7e,addAngleAxis:w7e,removeAngleAxis:k7e}=BH.actions,Oke=BH.reducer;function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){Fke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fke(e,t,r){return(t=Lke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lke(e){var t=Dke(e,"string");return typeof t=="symbol"?t:t+""}function Dke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ike=(e,t)=>t,k_=De([MH,Ike],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Mke=[],N_=(e,t,r)=>(r==null?void 0:r.length)===0?Mke:r,zH=De([uw,k_,N_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>hF(hF({},t.presentationProps),s.props))),a!=null)return a}}),Rke=De([zH,k_,N_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=Or(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:$h(i,t.dataKey),color:l,payload:n,type:t.legendType}})}),Bke=De([zH,k_,N_,pa],(e,t,r,n)=>{if(!(t==null||e==null))return BNe({offset:n,pieSettings:t,displayedData:e,cells:r})}),UH={exports:{}},Ir={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_=Symbol.for("react.transitional.element"),j_=Symbol.for("react.portal"),jw=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),_w=Symbol.for("react.profiler"),Ew=Symbol.for("react.consumer"),Cw=Symbol.for("react.context"),Tw=Symbol.for("react.forward_ref"),Pw=Symbol.for("react.suspense"),Ow=Symbol.for("react.suspense_list"),Fw=Symbol.for("react.memo"),Lw=Symbol.for("react.lazy"),zke=Symbol.for("react.view_transition"),Uke=Symbol.for("react.client.reference");function vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case S_:switch(e=e.type,e){case jw:case _w:case Aw:case Pw:case Ow:case zke:return e;default:switch(e=e&&e.$$typeof,e){case Cw:case Tw:case Lw:case Fw:return e;case Ew:return e;default:return t}}case j_:return t}}}Ir.ContextConsumer=Ew;Ir.ContextProvider=Cw;Ir.Element=S_;Ir.ForwardRef=Tw;Ir.Fragment=jw;Ir.Lazy=Lw;Ir.Memo=Fw;Ir.Portal=j_;Ir.Profiler=_w;Ir.StrictMode=Aw;Ir.Suspense=Pw;Ir.SuspenseList=Ow;Ir.isContextConsumer=function(e){return vo(e)===Ew};Ir.isContextProvider=function(e){return vo(e)===Cw};Ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S_};Ir.isForwardRef=function(e){return vo(e)===Tw};Ir.isFragment=function(e){return vo(e)===jw};Ir.isLazy=function(e){return vo(e)===Lw};Ir.isMemo=function(e){return vo(e)===Fw};Ir.isPortal=function(e){return vo(e)===j_};Ir.isProfiler=function(e){return vo(e)===_w};Ir.isStrictMode=function(e){return vo(e)===Aw};Ir.isSuspense=function(e){return vo(e)===Pw};Ir.isSuspenseList=function(e){return vo(e)===Ow};Ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jw||e===_w||e===Aw||e===Pw||e===Ow||typeof e=="object"&&e!==null&&(e.$$typeof===Lw||e.$$typeof===Fw||e.$$typeof===Cw||e.$$typeof===Ew||e.$$typeof===Tw||e.$$typeof===Uke||e.getModuleId!==void 0)};Ir.typeOf=vo;UH.exports=Ir;var $ke=UH.exports,mF=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pF=null,Zk=null,$H=e=>{if(e===pF&&Array.isArray(Zk))return Zk;var t=[];return k.Children.forEach(e,r=>{nn(r)||($ke.isFragment(r)?t=t.concat($H(r.props.children)):t.push(r))}),Zk=t,pF=e,t};function A_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>mF(a)):n=[mF(t)],$H(e).forEach(a=>{var s=b0(a,"type.displayName")||b0(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var WH=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,HH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(HH);var Wke=HH.isPlainObject;const Hke=Pl(Wke);var gF,xF,vF,yF,bF;function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(n){Vke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vke(e,t,r){return(t=qke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qke(e){var t=Gke(e,"string");return typeof t=="symbol"?t:t+""}function Gke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(null,arguments)}function Zm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NF=(e,t,r,n,a)=>{var s=r-n,i;return i=vn(gF||(gF=Zm(["M ",",",""])),e,t),i+=vn(xF||(xF=Zm(["L ",",",""])),e+r,t),i+=vn(vF||(vF=Zm(["L ",",",""])),e+r-s/2,t+a),i+=vn(yF||(yF=Zm(["L ",",",""])),e+r-s/2-n,t+a),i+=vn(bF||(bF=Zm(["L ",","," Z"])),e,t),i},Kke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yke=e=>{var t=na(e,Kke),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=k.useRef(null),[m,p]=k.useState(-1),g=k.useRef(a),x=k.useRef(s),v=k.useRef(i),y=k.useRef(r),b=k.useRef(n),N=kx(e,"trapezoid-");if(k.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var q=h.current.getTotalLength();q&&p(q)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var A=hr("recharts-trapezoid",l);if(!f)return k.createElement("g",null,k.createElement("path",Fb({},Fs(t),{className:A,d:NF(r,n,a,s,i)})));var S=g.current,j=x.current,E=v.current,C=y.current,I=b.current,T="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),H=a$(["strokeDasharray"],u,c);return k.createElement(wx,{animationId:N,key:N,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},q=>{var ae=Jr(S,a,q),R=Jr(j,s,q),z=Jr(E,i,q),Y=Jr(C,r,q),U=Jr(I,n,q);h.current&&(g.current=ae,x.current=R,v.current=z,y.current=Y,b.current=U);var Q=q>0?{transition:H,strokeDasharray:P}:{strokeDasharray:T};return k.createElement("path",Fb({},Fs(t),{className:A,d:NF(Y,U,ae,R,z),ref:h,style:kF(kF({},Q),t.style)}))})},Xke=["option","shapeType","activeClassName"];function Zke(e,t){if(e==null)return{};var r,n,a=Jke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(r),!0).forEach(function(n){Qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qke(e,t,r){return(t=eNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eNe(e){var t=tNe(e,"string");return typeof t=="symbol"?t:t+""}function tNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rNe(e,t){return Lb(Lb({},t),e)}function nNe(e,t){return e==="symbols"}function jF(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(l$,r);case"trapezoid":return k.createElement(Yke,r);case"sector":return k.createElement(f$,r);case"symbols":if(nNe(t))return k.createElement(LA,r);break;case"curve":return k.createElement(l6,r);default:return null}}function aNe(e){return k.isValidElement(e)?e.props:e}function __(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Zke(e,Xke),s;if(k.isValidElement(t))s=k.cloneElement(t,Lb(Lb({},a),aNe(t)));else if(typeof t=="function")s=t(a,a.index);else if(Hke(t)&&typeof t!="boolean"){var i=rNe(t,a);s=k.createElement(jF,{shapeType:r,elementProps:i})}else{var l=a;s=k.createElement(jF,{shapeType:r,elementProps:l})}return a.isActive?k.createElement(Oa,{className:n},s):s}var E_=(e,t,r)=>{var n=Ur();return(a,s)=>i=>{e==null||e(a,s,i),n(XW({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},C_=e=>{var t=Ur();return(r,n)=>a=>{e==null||e(r,n,a),t(v2e())}},T_=(e,t,r)=>{var n=Ur();return(a,s)=>i=>{e==null||e(a,s,i),n(y2e({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function P_(e){var{tooltipEntrySettings:t}=e,r=Ur(),n=vs(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(m2e(t)):a.current!==t&&r(p2e({prev:a.current,next:t})),a.current=t)},[t,r,n]),k.useLayoutEffect(()=>()=>{a.current&&(r(g2e(a.current)),a.current=null)},[r]),null}function VH(e){var{legendPayload:t}=e,r=Ur(),n=vs(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(QU(t)):a.current!==t&&r(e$({prev:a.current,next:t})),a.current=t)},[r,n,t]),k.useLayoutEffect(()=>()=>{a.current&&(r(t$(a.current)),a.current=null)},[r]),null}function sNe(e){var{legendPayload:t}=e,r=Ur(),n=St(ir),a=k.useRef(null);return k.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(QU(t)):a.current!==t&&r(e$({prev:a.current,next:t})),a.current=t)},[r,n,t]),k.useLayoutEffect(()=>()=>{a.current&&(r(t$(a.current)),a.current=null)},[r]),null}var Jk,iNe=()=>{var[e]=k.useState(()=>Sg("uid-"));return e},oNe=(Jk=PD.useId)!==null&&Jk!==void 0?Jk:iNe;function lNe(e,t){var r=oNe();return t||(e?"".concat(e,"-").concat(r):r)}var cNe=k.createContext(void 0),O_=e=>{var{id:t,type:r,children:n}=e,a=lNe("recharts-".concat(r),t);return k.createElement(cNe.Provider,{value:a},n(a))},uNe={cartesianItems:[],polarItems:[]},qH=si({name:"graphicalItems",initialState:uNe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=qo(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Zr()},removeCartesianGraphicalItem:{reducer(e,t){var r=qo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zr()},removePolarGraphicalItem:{reducer(e,t){var r=qo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zr()}}}),{addCartesianGraphicalItem:dNe,replaceCartesianGraphicalItem:fNe,removeCartesianGraphicalItem:hNe,addPolarGraphicalItem:mNe,removePolarGraphicalItem:pNe}=qH.actions,gNe=qH.reducer,xNe=e=>{var t=Ur(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(dNe(e)):r.current!==e&&t(fNe({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(hNe(r.current)),r.current=null)},[t]),null},GH=k.memo(xNe);function vNe(e){var t=Ur();return k.useLayoutEffect(()=>(t(mNe(e)),()=>{t(pNe(e))}),[t,e]),null}var yNe=["key"],bNe=["onMouseEnter","onClick","onMouseLeave"],wNe=["id"],kNe=["id"];function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(n){NNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NNe(e,t,r){return(t=SNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=jNe(e,"string");return typeof t=="symbol"?t:t+""}function jNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}function Dw(e,t){if(e==null)return{};var r,n,a=ANe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ANe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _Ne(e){var t=k.useMemo(()=>A_(e.children,Ix),[e.children]),r=St(n=>Rke(n,e.id,t));return r==null?null:k.createElement(sNe,{legendPayload:r})}var ENe=k.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:l,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:$h(l,t),hide:c,type:u,color:i,unit:"",graphicalItemId:d}};return k.createElement(P_,{tooltipEntrySettings:f})}),CNe=(e,t)=>e>t?"start":e<t?"end":"middle",TNe=(e,t,r)=>ms(typeof t=="function"?t(e):t,r,r*.8),PNe=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,l=c$(s,i),c=a+ms(e.cx,s,s/2),u=n+ms(e.cy,i,i/2),d=ms(e.innerRadius,l,0),f=TNe(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},ONe=(e,t)=>{var r=Ta(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function FNe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var LNe=(e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return e(t);var r=hr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Dw(t,yNe);return k.createElement(l6,Ku({},a,{type:"linear",className:r}))},DNe=(e,t,r)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),k.isValidElement(n)))return n;var a=hr("recharts-pie-label-text",FNe(e));return k.createElement(kw,Ku({},t,{alignmentBaseline:"middle",className:a}),n)};function INe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var l=Ci(r),c=v0(a),u=v0(s),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Jn(h.cx,h.cy,h.outerRadius+d,p),x=kn(kn(kn(kn({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:CNe(g.x,h.cx)},g),v=kn(kn(kn(kn({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Jn(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return k.createElement(ii,{zIndex:Qn.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},k.createElement(Oa,null,s&&LNe(s,v),DNe(a,x,Or(h,i))))});return k.createElement(Oa,{className:"recharts-pie-labels"},f)}function MNe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(w_,{label:a}):k.createElement(INe,{sectors:t,props:r,showLabels:n})}function RNe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:i}=e,l=St(Gu),c=St(m_),u=St(awe),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,m=Dw(a,bNe),p=E_(d,a.dataKey,i),g=C_(h),x=T_(f,a.dataKey,i);return t==null||t.length===0?null:k.createElement(k.Fragment,null,t.map((v,y)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var b=u==null||u===i,N=String(y)===l&&(c==null||a.dataKey===c)&&b,A=l?n:null,S=r&&N?r:A,j=kn(kn({},v),{},{stroke:v.stroke,tabIndex:-1,[IU]:y,[MU]:i});return k.createElement(Oa,Ku({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},px(m,v,y),{onMouseEnter:p(v,y),onMouseLeave:g(v,y),onClick:x(v,y)}),k.createElement(__,Ku({option:s??S,index:y,shapeType:"sector",isActive:N},j)))}))}function BNe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=ONe(l,c),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(S=>Or(S,u,0)!==0).length,v=(p>=360?x:x-1)*g,y=p-x*h-v,b=n.reduce((S,j)=>{var E=Or(j,u,0);return S+(Nt(E)?E:0)},0),N;if(b>0){var A;N=n.map((S,j)=>{var E=Or(S,u,0),C=Or(S,d,j),I=PNe(r,s,S),T=(Nt(E)?E:0)/b,P,H=kn(kn({},S),a&&a[j]&&a[j].props);j?P=A.endAngle+Ta(m)*g*(E!==0?1:0):P=l;var q=P+Ta(m)*((E!==0?h:0)+T*y),ae=(P+q)/2,R=(I.innerRadius+I.outerRadius)/2,z=[{name:C,value:E,payload:H,dataKey:u,type:f,graphicalItemId:r.id}],Y=Jn(I.cx,I.cy,R,ae);return A=kn(kn(kn(kn({},r.presentationProps),{},{percent:T,cornerRadius:typeof i=="string"?parseFloat(i):i,name:C,tooltipPayload:z,midAngle:ae,middleRadius:R,tooltipPosition:Y},H),I),{},{value:E,dataKey:u,startAngle:P,endAngle:q,payload:H,paddingAngle:Ta(m)*g}),A})}return N}function zNe(e){var{showLabels:t,sectors:r,children:n}=e,a=k.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return k.createElement(kke,{value:t?a:void 0},n)}function UNe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=kx(t,"recharts-pie-"),p=r.current,[g,x]=k.useState(!1),v=k.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),y=k.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return k.createElement(zNe,{showLabels:!g,sectors:a},k.createElement(wx,{animationId:m,begin:i,duration:l,isActive:s,easing:c,onAnimationStart:y,onAnimationEnd:v,key:m},b=>{var N=[],A=a&&a[0],S=A==null?void 0:A.startAngle;return a==null||a.forEach((j,E)=>{var C=p&&p[E],I=E>0?b0(j,"paddingAngle",0):0;if(C){var T=Jr(C.endAngle-C.startAngle,j.endAngle-j.startAngle,b),P=kn(kn({},j),{},{startAngle:S+I,endAngle:S+T+I});N.push(P),S=P.endAngle}else{var{endAngle:H,startAngle:q}=j,ae=Jr(0,H-q,b),R=kn(kn({},j),{},{startAngle:S+I,endAngle:S+ae+I});N.push(R),S=R.endAngle}}),r.current=N,k.createElement(Oa,null,k.createElement(RNe,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),k.createElement(MNe,{showLabels:!g,sectors:a,props:t}),t.children)}var $Ne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Qn.area};function WNe(e){var{id:t}=e,r=Dw(e,wNe),{hide:n,className:a,rootTabIndex:s}=e,i=k.useMemo(()=>A_(e.children,Ix),[e.children]),l=St(d=>Bke(d,t,i)),c=k.useRef(null),u=hr("recharts-pie",a);return n||l==null?(c.current=null,k.createElement(Oa,{tabIndex:s,className:u})):k.createElement(ii,{zIndex:e.zIndex},k.createElement(ENe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),k.createElement(Oa,{tabIndex:s,className:u},k.createElement(UNe,{props:kn(kn({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function KH(e){var t=na(e,$Ne),{id:r}=t,n=Dw(t,kNe),a=Ci(n);return k.createElement(O_,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(vNe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),k.createElement(_Ne,Ku({},n,{id:s})),k.createElement(WNe,Ku({},n,{id:s}))))}KH.displayName="Pie";var HNe=["points"];function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(r),!0).forEach(function(n){VNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VNe(e,t,r){return(t=qNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qNe(e){var t=GNe(e,"string");return typeof t=="symbol"?t:t+""}function GNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}function KNe(e,t){if(e==null)return{};var r,n,a=YNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XNe(e){var{option:t,dotProps:r,className:n}=e;if(k.isValidElement(t))return k.cloneElement(t,r);if(typeof t=="function")return t(r);var a=hr(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,l=KNe(s,HNe);return k.createElement(IH,Db({},l,{className:a}))}function ZNe(e,t){return e==null?!1:t?!0:e.length===1}function JNe(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:l,clipPathId:c,zIndex:u=Qn.scatter}=e;if(!ZNe(t,r))return null;var d=WH(r),f=$fe(r),h=t.map((p,g)=>{var x,v,y=Qk(Qk(Qk({r:3},i),f),{},{index:g,cx:(x=p.x)!==null&&x!==void 0?x:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return k.createElement(XNe,{key:"dot-".concat(g),option:r,dotProps:y,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),k.createElement(ii,{zIndex:u},k.createElement(Oa,Db({className:n},m),h))}function EF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EF(Object(r),!0).forEach(function(n){QNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QNe(e,t,r){return(t=e4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4e(e){var t=t4e(e,"string");return typeof t=="symbol"?t:t+""}function t4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YH=0,r4e={xAxis:{},yAxis:{},zAxis:{}},XH=si({name:"cartesianAxis",initialState:r4e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Zr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Zr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Zr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=CF(CF({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:n4e,replaceXAxis:a4e,removeXAxis:s4e,addYAxis:i4e,replaceYAxis:o4e,removeYAxis:l4e,addZAxis:N7e,replaceZAxis:S7e,removeZAxis:j7e,updateYAxisWidth:c4e}=XH.actions,u4e=XH.reducer,d4e=De([pa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),f4e=De([d4e,Fc,Lc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),F_=()=>St(f4e),h4e=()=>St(cwe);function TF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(r),!0).forEach(function(n){m4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m4e(e,t,r){return(t=p4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4e(e){var t=g4e(e,"string");return typeof t=="symbol"?t:t+""}function g4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x4e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=eN(eN(eN({},l),v0(a)),DA(a)),u;return k.isValidElement(a)?u=k.cloneElement(a,c):typeof a=="function"?u=a(c):u=k.createElement(IH,c),k.createElement(Oa,{className:"recharts-active-dot",clipPath:i},u)};function v4e(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=Qn.activeDot}=e,l=St(Gu),c=h4e();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return nn(u)?null:k.createElement(ii,{zIndex:i},k.createElement(x4e,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var PF=(e,t,r)=>{var n=r??e;if(!nn(n))return ms(n,t,0)},y4e=(e,t,r)=>{var n={},a=e.filter(hw),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=PF(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=PF(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function OF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(r),!0).forEach(function(n){b4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4e(e,t,r){return(t=w4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4e(e){var t=k4e(e,"string");return typeof t=="symbol"?t:t+""}function k4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N4e(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=ms(e,r,0,!0),l,c=[];if(hn(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((v,y)=>v+(y.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-i,size:0};l=n.reduce((v,y)=>{var b,N={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+i,size:u?d:(b=y.barSize)!==null&&b!==void 0?b:0}},A=[...v,N];return m=A[A.length-1].position,A},c)}else{var p=ms(t,r,0,!0);r-2*p-(s-1)*i<=0&&(i=0);var g=(r-2*p-(s-1)*i)/s;g>1&&(g>>=0);var x=hn(a)?Math.min(g,a):g;l=n.reduce((v,y,b)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(g+i)*b+(g-x)/2,size:x}}],c)}return l}}var S4e=(e,t,r,n,a,s,i)=>{var l=nn(i)?t:i,c=N4e(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>Av(Av({},u),{},{position:Av(Av({},u.position),{},{offset:u.position.offset-a/2})}))),c},j4e=(e,t)=>{var r=U6(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}};function A4e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&hn(e.zIndex)?e.zIndex:t}var ZH=e=>{var{chartData:t}=e,r=Ur(),n=vs();return k.useEffect(()=>n?()=>{}:(r(GO(t)),()=>{r(GO(void 0))}),[t,r,n]),null},FF={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},JH=si({name:"brush",initialState:FF,reducers:{setBrushSettings(e,t){return t.payload==null?FF:t.payload}}}),{setBrushSettings:A7e}=JH.actions,_4e=JH.reducer;function E4e(e,t,r){return(t=C4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4e(e){var t=T4e(e,"string");return typeof t=="symbol"?t:t+""}function T4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L_{static create(t){return new L_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}E4e(L_,"EPS",1e-4);function P4e(e){return(e%180+180)%180}var O4e=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=P4e(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},F4e={dots:[],areas:[],lines:[]},QH=si({name:"referenceElements",initialState:F4e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=qo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=qo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=qo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:_7e,removeDot:E7e,addArea:C7e,removeArea:T7e,addLine:P7e,removeLine:O7e}=QH.actions,L4e=QH.reducer,D4e=k.createContext(void 0),I4e=e=>{var{children:t}=e,[r]=k.useState("".concat(Sg("recharts"),"-clip")),n=F_();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return k.createElement(D4e.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:s,height:l,width:i}))),t)};function eV(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function M4e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return O4e(n,r)}function R4e(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:l}=e;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function Rg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function B4e(e,t){return eV(e,t+1)}function z4e(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=t,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:eV(n,u)};var g=c,x,v=()=>(x===void 0&&(x=r(p,g)),x),y=p.coordinate,b=c===0||Rg(e,y,v,d,l);b||(c=0,d=i,u+=1),b&&(d=y+e*(v()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function U4e(e,t,r,n,a){var s=(n||[]).slice(),i=s.length;if(i===0)return[];for(var{start:l,end:c}=t,u=1;u<=i;u++){for(var d=(i-1)%u,f=l,h=!0,m=function(){var y=n[p],b=p,N,A=()=>(N===void 0&&(N=r(y,b)),N),S=y.coordinate,j=p===d||Rg(e,S,A,f,c);if(!j)return h=!1,1;j&&(f=S+e*(A()/2+a))},p=d;p<i&&!m();p+=u);if(h){for(var g=[],x=d;x<i;x+=u)g.push(n[x]);return g}}return[]}function LF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(r),!0).forEach(function(n){$4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4e(e,t,r){return(t=W4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4e(e){var t=H4e(e,"string");return typeof t=="symbol"?t:t+""}function H4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4e(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===i-1){var x=e*(m.coordinate+e*g()/2-c);s[h]=m=rs(rs({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else s[h]=m=rs(rs({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Rg(e,m.tickCoord,g,l,c);v&&(c=m.tickCoord-e*(g()/2+a),s[h]=rs(rs({},m),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return s}function q4e(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(i[l-1]=d=rs(rs({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Rg(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=rs(rs({},d),{},{isShow:!0}))}}for(var p=s?l-1:l,g=function(y){var b=i[y],N,A=()=>(N===void 0&&(N=r(b,y)),N);if(y===0){var S=e*(b.coordinate-e*A()/2-c);i[y]=b=rs(rs({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else i[y]=b=rs(rs({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=Rg(e,b.tickCoord,A,c,u);j&&(c=b.tickCoord+e*(A()/2+a),i[y]=rs(rs({},b),{},{isShow:!0}))}},x=0;x<p;x++)g(x);return i}function D_(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(Nt(c)||nw.isSsr){var h;return(h=B4e(a,Nt(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Op(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(b,N)=>{var A=typeof u=="function"?u(b.value,N):b.value;return p==="width"?M4e(Op(A,{fontSize:t,letterSpacing:r}),g,f):Op(A,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Ta(a[1].coordinate-a[0].coordinate):1,y=R4e(s,v,p);return c==="equidistantPreserveStart"?z4e(v,y,x,a,i):c==="equidistantPreserveEnd"?U4e(v,y,x,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=q4e(v,y,x,a,i,c==="preserveStartEnd"):m=V4e(v,y,x,a,i),m.filter(b=>b.isShow))}var G4e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(r?n:0);return Math.round(u)}return 0},K4e=["axisLine","width","height","className","hide","ticks","axisType"];function Y4e(e,t){if(e==null)return{};var r,n,a=X4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(null,arguments)}function DF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DF(Object(r),!0).forEach(function(n){Z4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z4e(e,t,r){return(t=J4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4e(e){var t=Q4e(e,"string");return typeof t=="symbol"?t:t+""}function Q4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qn.axis};function eSe(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Xn(Xn(Xn({},c),Ci(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=Xn(Xn({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=Xn(Xn({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return k.createElement("line",S0({},u,{className:hr("recharts-cartesian-axis-line",b0(l,"className"))}))}function tSe(e,t,r,n,a,s,i,l,c){var u,d,f,h,m,p,g=l?-1:1,x=e.tickSize||i,v=Nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-g*x,p=f-g*c,m=v;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-g*x,m=u-g*c,p=v;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+g*x,m=u+g*c,p=v;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+g*x,p=f+g*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function rSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aSe(e){var{option:t,tickProps:r,value:n}=e,a,s=hr(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,Xn(Xn({},r),{},{className:s}));else if(typeof t=="function")a=t(Xn(Xn({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=hr(i,t==null?void 0:t.className)),a=k.createElement(kw,S0({},r,{className:i}),n)}return a}var sSe=k.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:x,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:N,events:A,axisType:S}=e,j=D_(Xn(Xn({},N),{},{ticks:r}),y,b),E=rSe(d,f),C=nSe(d,f),I=Ci(N),T=v0(n),P={};typeof a=="object"&&(P=a);var H=Xn(Xn({},I),{},{fill:"none"},P),q=j.map(z=>Xn({entry:z},tSe(z,h,m,p,g,d,x,f,v))),ae=q.map(z=>{var{entry:Y,line:U}=z;return k.createElement(Oa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},a&&k.createElement("line",S0({},H,U,{className:hr("recharts-cartesian-axis-tick-line",b0(a,"className"))})))}),R=q.map((z,Y)=>{var{entry:U,tick:Q}=z,pe=Xn(Xn(Xn(Xn({textAnchor:E,verticalAnchor:C},I),{},{stroke:"none",fill:s},T),Q),{},{index:Y,payload:U,visibleTicksCount:j.length,tickFormatter:i,padding:c},u);return k.createElement(Oa,S0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},px(A,U,Y)),n&&k.createElement(aSe,{option:n,tickProps:pe,value:"".concat(typeof i=="function"?i(U.value,Y):U.value).concat(l||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},R.length>0&&k.createElement(ii,{zIndex:Qn.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},R)),ae.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},ae))}),iSe=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:l,axisType:c}=e,u=Y4e(e,K4e),[d,f]=k.useState(""),[h,m]=k.useState(""),p=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return G4e({ticks:p.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=k.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var y=v[0];if(y){var b=window.getComputedStyle(y),N=b.fontSize,A=b.letterSpacing;(N!==d||A!==h)&&(f(N),m(A))}}},[d,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(ii,{zIndex:e.zIndex},k.createElement(Oa,{className:hr("recharts-cartesian-axis",s)},k.createElement(eSe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ci(e)}),k.createElement(sSe,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),k.createElement(ske,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},k.createElement(pke,{label:e.label,labelRef:e.labelRef}),e.children)))}),I_=k.forwardRef((e,t)=>{var r=na(e,uc);return k.createElement(iSe,S0({},r,{ref:t}))});I_.displayName="CartesianAxis";var oSe=["x1","y1","x2","y2","key"],lSe=["offset"],cSe=["xAxisId","yAxisId"],uSe=["xAxisId","yAxisId"];function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(n){dSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dSe(e,t,r){return(t=fSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fSe(e){var t=hSe(e,"string");return typeof t=="symbol"?t:t+""}function hSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.apply(null,arguments)}function Ib(e,t){if(e==null)return{};var r,n,a=mSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:l}=e;return k.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tV(e){var{option:t,lineItemProps:r}=e,n;if(k.isValidElement(t))n=k.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:l,y2:c,key:u}=r,d=Ib(r,oSe),f=(a=Ci(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=Ib(f,lSe);n=k.createElement("line",Bd({},m,{x1:s,y1:i,x2:l,y2:c,fill:"none",key:u}))}return n}function gSe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=Ib(e,cSe),c=a.map((u,d)=>{var f=os(os({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return k.createElement(tV,{key:"line-".concat(d),option:n,lineItemProps:f})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function xSe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=Ib(e,uSe),c=a.map((u,d)=>{var f=os(os({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return k.createElement(tV,{option:n,lineItemProps:f,key:"line-".concat(d)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vSe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var g=h%t.length;return k.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ySe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var g=h%r.length;return k.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bSe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return FU(D_(os(os(os({},uc),r),{},{ticks:LU(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},wSe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return FU(D_(os(os(os({},uc),r),{},{ticks:LU(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},kSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qn.grid};function M_(e){var t=a6(),r=s6(),n=VU(),a=os(os({},na(e,kSe)),{},{x:Nt(e.x)?e.x:n.left,y:Nt(e.y)?e.y:n.top,width:Nt(e.width)?e.width:n.width,height:Nt(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=vs(),g=St(C=>IO(C,"xAxis",s,p)),x=St(C=>IO(C,"yAxis",i,p));if(!Cl(u)||!Cl(d)||!Nt(l)||!Nt(c))return null;var v=a.verticalCoordinatesGenerator||bSe,y=a.horizontalCoordinatesGenerator||wSe,{horizontalPoints:b,verticalPoints:N}=a;if((!b||!b.length)&&typeof y=="function"){var A=h&&h.length,S=y({yAxis:x?os(os({},x),{},{ticks:A?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},A?!0:f);ub(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!N||!N.length)&&typeof v=="function"){var j=m&&m.length,E=v({xAxis:g?os(os({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);ub(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return k.createElement(ii,{zIndex:a.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(pSe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(vSe,Bd({},a,{horizontalPoints:b})),k.createElement(ySe,Bd({},a,{verticalPoints:N})),k.createElement(gSe,Bd({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:x})),k.createElement(xSe,Bd({},a,{offset:n,verticalPoints:N,xAxis:g,yAxis:x}))))}M_.displayName="CartesianGrid";var NSe={},rV=si({name:"errorBars",initialState:NSe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:F7e,replaceErrorBar:L7e,removeErrorBar:D7e}=rV.actions,SSe=rV.reducer,jSe=["children"];function ASe(e,t){if(e==null)return{};var r,n,a=_Se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ESe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},CSe=k.createContext(ESe);function nV(e){var{children:t}=e,r=ASe(e,jSe);return k.createElement(CSe.Provider,{value:r},t)}function R_(e,t){var r,n,a=St(u=>Mc(u,e)),s=St(u=>Rc(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Na.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Sa.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function aV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=F_(),{needClipX:s,needClipY:i,needClip:l}=R_(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}var sV=(e,t,r,n)=>qu(e,"xAxis",t,n),iV=(e,t,r,n)=>Vu(e,"xAxis",t,n),oV=(e,t,r,n)=>qu(e,"yAxis",r,n),lV=(e,t,r,n)=>Vu(e,"yAxis",r,n),TSe=De([ir,sV,oV,iV,lV],(e,t,r,n,a)=>sd(e,"xAxis")?yh(t,n,!1):yh(r,a,!1)),PSe=(e,t,r,n,a)=>a;function OSe(e){return e.type==="line"}var FSe=De([gw,PSe],(e,t)=>e.filter(OSe).find(r=>r.id===t)),LSe=De([ir,sV,oV,iV,lV,FSe,TSe,O6],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return jje({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:m})}});function DSe(e){var t=v0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),l=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(l)||l<0)&&(l=n),{r:i,strokeWidth:l}}return{r,strokeWidth:n}}var ISe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=k;function MSe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RSe=typeof Object.is=="function"?Object.is:MSe,BSe=Mx.useSyncExternalStore,zSe=Mx.useRef,USe=Mx.useEffect,$Se=Mx.useMemo,WSe=Mx.useDebugValue;ISe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=zSe(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=$Se(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,RSe(d,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=BSe(e,s[0],s[1]);return USe(function(){i.hasValue=!0,i.value=l},[l]),WSe(l),l};function HSe(e){e()}function VSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var MF={notify(){},get:()=>[]};function qSe(e,t){let r,n=MF,a=0,s=!1;function i(g){d();const x=n.subscribe(g);let v=!1;return()=>{v||(v=!0,x(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=VSe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=MF)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var GSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KSe=GSe(),YSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XSe=YSe(),ZSe=()=>KSe||XSe?k.useLayoutEffect:k.useEffect,JSe=ZSe();function RF(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function QSe(e,t){if(RF(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!RF(e[r[a]],t[r[a]]))return!1;return!0}var tN=Symbol.for("react-redux-context"),rN=typeof globalThis<"u"?globalThis:{};function eje(){if(!k.createContext)return{};const e=rN[tN]??(rN[tN]=new Map);let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var tje=eje();function rje(e){const{children:t,context:r,serverState:n,store:a}=e,s=k.useMemo(()=>{const c=qSe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=k.useMemo(()=>a.getState(),[a]);JSe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||tje;return k.createElement(l.Provider,{value:s},t)}var nje=rje,aje=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sje(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Iw(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(aje.has(n)){if(e[n]==null&&t[n]==null)continue;if(!QSe(e[n],t[n]))return!1}else if(!sje(e[n],t[n]))return!1;return!0}var ije=["id"],oje=["type","layout","connectNulls","needClip","shape"],lje=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(null,arguments)}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(n){cje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cje(e,t,r){return(t=uje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uje(e){var t=dje(e,"string");return typeof t=="symbol"?t:t+""}function dje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B_(e,t){if(e==null)return{};var r,n,a=fje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hje=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:$h(r,t),payload:e}]},mje=k.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:$h(i,t),hide:l,type:u,color:n,unit:c,graphicalItemId:d}};return k.createElement(P_,{tooltipEntrySettings:f})}),cV=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function pje(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var gje=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return cV(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,i]:[i];return[...pje(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function xje(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:l}=n,c=B_(n,ije),u=Ci(c);return k.createElement(JNe,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function vje(e){var{showLabels:t,children:r,points:n}=e,a=k.useMemo(()=>n==null?void 0:n.map(s=>{var i,l,c={x:(i=s.x)!==null&&i!==void 0?i:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ml(ml({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return k.createElement(LH,{value:t?a:void 0},r)}function zF(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=B_(s,oje),h=ml(ml({},Fs(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return k.createElement(k.Fragment,null,(n==null?void 0:n.length)>1&&k.createElement(__,Bg({shapeType:"curve",option:d},h,{pathRef:r})),k.createElement(xje,{points:n,clipPathId:t,props:s}))}function yje(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bje(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:x}=r,v=a.current,y=kx(i,"recharts-line-"),b=k.useRef(y),[N,A]=k.useState(!1),S=!N,j=k.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),E=k.useCallback(()=>{typeof x=="function"&&x(),A(!0)},[x]),C=yje(n.current),I=k.useRef(0);b.current!==y&&(I.current=s.current,b.current=y);var T=I.current;return k.createElement(vje,{points:i,showLabels:S},r.children,k.createElement(wx,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:E,key:y},P=>{var H=Jr(T,C+T,P),q=Math.min(H,C),ae;if(c)if(l){var R="".concat(l).split(/[,\s]+/gim).map(U=>parseFloat(U));ae=gje(q,C,R)}else ae=cV(C,q);else ae=l==null?void 0:String(l);if(P>0&&C>0&&(a.current=i,s.current=Math.max(s.current,q)),v){var z=v.length/i.length,Y=P===1?i:i.map((U,Q)=>{var pe=Math.floor(Q*z);if(v[pe]){var F=v[pe];return ml(ml({},U),{},{x:Jr(F.x,U.x,P),y:Jr(F.y,U.y,P)})}return h?ml(ml({},U),{},{x:Jr(m*2,U.x,P),y:Jr(p/2,U.y,P)}):ml(ml({},U),{},{x:U.x,y:U.y})});return a.current=Y,k.createElement(zF,{props:r,points:Y,clipPathId:t,pathRef:n,strokeDasharray:ae})}return k.createElement(zF,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:ae})}),k.createElement(w_,{label:r.label}))}function wje(e){var{clipPathId:t,props:r}=e,n=k.useRef(null),a=k.useRef(0),s=k.useRef(null);return k.createElement(bje,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var kje=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Or(e.payload,t)}};class Nje extends k.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=hr("recharts-line",a),g=f,{r:x,strokeWidth:v}=DSe(r),y=WH(r),b=x*2+v,N=h?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return k.createElement(ii,{zIndex:m},k.createElement(Oa,{className:p},h&&k.createElement("defs",null,k.createElement(aV,{clipPathId:g,xAxisId:s,yAxisId:i}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(g)},k.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),k.createElement(nV,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:kje,errorBarOffset:0},k.createElement(wje,{props:this.props,clipPathId:g}))),k.createElement(v4e,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var uV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Qn.line,type:"linear"};function Sje(e){var t=na(e,uV),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,x=B_(t,lje),{needClip:v}=R_(m,p),y=F_(),b=Wh(),N=vs(),A=St(I=>LSe(I,m,p,N,g));if(b!=="horizontal"&&b!=="vertical"||A==null||y==null)return null;var{height:S,width:j,x:E,y:C}=y;return k.createElement(Nje,Bg({},x,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:A,layout:b,height:S,width:j,left:E,top:C,needClip:v}))}function jje(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Or(u,i);if(t==="horizontal"){var h=q8({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=nn(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=nn(f)?null:r.scale(f),g=q8({axis:n,ticks:s,bandSize:l,entry:u,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:u}}).filter(Boolean)}function Aje(e){var t=na(e,uV),r=vs();return k.createElement(O_,{id:t.id,type:"line"},n=>k.createElement(k.Fragment,null,k.createElement(VH,{legendPayload:hje(t)}),k.createElement(mje,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),k.createElement(GH,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),k.createElement(Sje,Bg({},t,{id:n}))))}var dV=k.memo(Aje,Iw);dV.displayName="Line";function z0(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:YH}function U0(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:YH}var _je="Invariant failed";function Eje(e,t){throw new Error(_je)}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(null,arguments)}function Mb(e){return k.createElement(__,KS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Cje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Nt(t))return t;var s=Nt(n)||nn(n);return s?t(n,a):(s||Eje(),r)}},Tje=(e,t,r)=>r,Pje=(e,t)=>t,Rx=De([gw,Pje],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Oje=De([Rx],e=>e==null?void 0:e.maxBarSize),Fje=(e,t,r,n)=>n,Lje=De([ir,gw,z0,U0,Tje],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Dje=(e,t,r)=>{var n=ir(e),a=z0(e,t),s=U0(e,t);if(!(a==null||s==null))return n==="horizontal"?BS(e,"yAxis",s,r):BS(e,"xAxis",a,r)},Ije=(e,t)=>{var r=ir(e),n=z0(e,t),a=U0(e,t);if(!(n==null||a==null))return r==="horizontal"?DO(e,"xAxis",n):DO(e,"yAxis",a)},Mje=De([Lje,obe,Ije],y4e),Rje=(e,t,r)=>{var n,a,s=Rx(e,t);if(s!=null){var i=z0(e,t),l=U0(e,t);if(!(i==null||l==null)){var c=ir(e),u=dW(e),{maxBarSize:d}=s,f=nn(d)?u:d,h,m;return c==="horizontal"?(h=qu(e,"xAxis",i,r),m=Vu(e,"xAxis",i,r)):(h=qu(e,"yAxis",l,r),m=Vu(e,"yAxis",l,r)),(n=(a=yh(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},fV=(e,t,r)=>{var n=ir(e),a=z0(e,t),s=U0(e,t);if(!(a==null||s==null)){var i,l;return n==="horizontal"?(i=qu(e,"xAxis",a,r),l=Vu(e,"xAxis",a,r)):(i=qu(e,"yAxis",s,r),l=Vu(e,"yAxis",s,r)),yh(i,l)}},Bje=De([Mje,dW,ibe,fW,Rje,fV,Oje],S4e),zje=(e,t,r)=>{var n=z0(e,t);if(n!=null)return qu(e,"xAxis",n,r)},Uje=(e,t,r)=>{var n=U0(e,t);if(n!=null)return qu(e,"yAxis",n,r)},$je=(e,t,r)=>{var n=z0(e,t);if(n!=null)return Vu(e,"xAxis",n,r)},Wje=(e,t,r)=>{var n=U0(e,t);if(n!=null)return Vu(e,"yAxis",n,r)},Hje=De([Bje,Rx],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Vje=De([Dje,Rx],j4e),qje=De([pa,r6,zje,Uje,$je,Wje,Hje,ir,Kye,fV,Vje,Rx,Fje],(e,t,r,n,a,s,i,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=c;if(!(f==null||i==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:x}=f,v;if(x!=null&&x.length>0?v=x:v=m==null?void 0:m.slice(p,g+1),v!=null)return w3e({layout:l,barSettings:f,pos:i,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:v,offset:e,cells:h,dataStartIndex:p})}}),Gje=["index"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(null,arguments)}function Kje(e,t){if(e==null)return{};var r,n,a=Yje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hV=k.createContext(void 0),Xje=e=>{var t=k.useContext(hV);if(t!=null)return t.stackId;if(e!=null)return Xpe(e)},Zje=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Jje=e=>{var t=k.useContext(hV);if(t!=null){var{stackId:r}=t;return"url(#".concat(Zje(r,e),")")}},Qje=e=>{var{index:t}=e,r=Kje(e,Gje),n=Jje(t);return k.createElement(Oa,YS({className:"recharts-bar-stack-layer",clipPath:n},r))},e3e=["onMouseEnter","onMouseLeave","onClick"],t3e=["value","background","tooltipPosition"],r3e=["id"],n3e=["onMouseEnter","onClick","onMouseLeave"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(null,arguments)}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){a3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a3e(e,t,r){return(t=s3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3e(e){var t=i3e(e,"string");return typeof t=="symbol"?t:t+""}function i3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(e,t){if(e==null)return{};var r,n,a=o3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l3e=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:$h(r,t),payload:e}]},c3e=k.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:$h(s,t),hide:i,type:c,color:a,unit:l,graphicalItemId:u}};return k.createElement(P_,{tooltipEntrySettings:d})});function u3e(e){var t=St(Gu),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=Rb(s,e3e),d=E_(i,n,s.id),f=C_(l),h=T_(c,n,s.id);if(!a||r==null)return null;var m=v0(a);return k.createElement(ii,{zIndex:A4e(a,Qn.barBackground)},r.map((p,g)=>{var{value:x,background:v,tooltipPosition:y}=p,b=Rb(p,t3e);if(!v)return null;var N=d(p,g),A=f(p,g),S=h(p,g),j=_s(_s(_s(_s(_s({option:a,isActive:String(g)===t},b),{},{fill:"#eee"},v),m),px(u,p,g)),{},{onMouseEnter:N,onMouseLeave:A,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return k.createElement(Mb,Sc({key:"background-bar-".concat(g)},j))}))}function d3e(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return _s(_s({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return k.createElement(LH,{value:t?a:void 0},r)}function f3e(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,l=St(Gu),c=St(m_),u=r&&String(s)===l&&(c==null||i===c),d=u?r:t;return u?k.createElement(ii,{zIndex:Qn.activeBar},k.createElement(Mb,Sc({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))):k.createElement(Mb,Sc({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))}function h3e(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return k.createElement(Mb,Sc({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function m3e(e){var t,{data:r,props:n}=e,a=(t=Ci(n))!==null&&t!==void 0?t:{},{id:s}=a,i=Rb(a,r3e),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=Rb(n,n3e),p=E_(d,c,s),g=C_(h),x=T_(f,c,s);return r?k.createElement(k.Fragment,null,r.map((v,y)=>k.createElement(Qje,Sc({index:y,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y),className:"recharts-bar-rectangle"},px(m,v,y),{onMouseEnter:p(v,y),onMouseLeave:g(v,y),onClick:x(v,y)}),u?k.createElement(f3e,{shape:l,activeBar:u,baseProps:i,entry:v,index:y,dataKey:c}):k.createElement(h3e,{shape:l,baseProps:i,entry:v,index:y,dataKey:c})))):null}function p3e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=kx(t,"recharts-bar-"),[m,p]=k.useState(!1),g=!m,x=k.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),v=k.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return k.createElement(d3e,{showLabels:g,rects:n},k.createElement(wx,{animationId:h,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:v,key:h},y=>{var b=y===1?n:n==null?void 0:n.map((N,A)=>{var S=f&&f[A];if(S)return _s(_s({},N),{},{x:Jr(S.x,N.x,y),y:Jr(S.y,N.y,y),width:Jr(S.width,N.width,y),height:Jr(S.height,N.height,y)});if(a==="horizontal"){var j=Jr(0,N.height,y),E=Jr(N.stackedBarStart,N.y,y);return _s(_s({},N),{},{y:E,height:j})}var C=Jr(0,N.width,y),I=Jr(N.stackedBarStart,N.x,y);return _s(_s({},N),{},{width:C,x:I})});return y>0&&(r.current=b??null),b==null?null:k.createElement(Oa,null,k.createElement(m3e,{props:t,data:b}))}),k.createElement(w_,{label:t.label}),t.children)}function g3e(e){var t=k.useRef(null);return k.createElement(p3e,{previousRectanglesRef:t,props:e})}var mV=0,x3e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Or(e,t)}};class v3e extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=hr("recharts-bar",a),f=u;return k.createElement(Oa,{className:d,id:u},l&&k.createElement("defs",null,k.createElement(aV,{clipPathId:f,xAxisId:s,yAxisId:i})),k.createElement(Oa,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},k.createElement(u3e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),k.createElement(g3e,this.props)))}}var y3e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:mV,xAxisId:0,yAxisId:0,zIndex:Qn.bar};function b3e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=R_(t,r),h=Wh(),m=vs(),p=A_(e.children,Ix),g=St(y=>qje(y,e.id,m,p));if(h!=="vertical"&&h!=="horizontal")return null;var x,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?x=0:x=h==="vertical"?v.height/2:v.width/2,k.createElement(nV,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:x3e,errorBarOffset:x},k.createElement(v3e,Sc({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function w3e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:g}=e,x=t==="horizontal"?l:i,v=d?x.scale.domain():null,y=Zpe({numericAxis:x}),b=x.scale(y);return f.map((N,A)=>{var S,j,E,C,I,T;if(d){var P=d[A+g];if(P==null)return null;S=Vpe(P,v)}else S=Or(N,r),Array.isArray(S)||(S=[y,S]);var H=Cje(n,mV)(S[1],A);if(t==="horizontal"){var q,[ae,R]=[l.scale(S[0]),l.scale(S[1])];j=G8({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:N,index:A}),E=(q=R??ae)!==null&&q!==void 0?q:void 0,C=a.size;var z=ae-R;if(I=Ko(z)?0:z,T={x:j,y:h.top,width:C,height:h.height},Math.abs(H)>0&&Math.abs(I)<Math.abs(H)){var Y=Ta(I||H)*(Math.abs(H)-Math.abs(I));E-=Y,I+=Y}}else{var[U,Q]=[i.scale(S[0]),i.scale(S[1])];if(j=U,E=G8({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:N,index:A}),C=Q-U,I=a.size,T={x:h.left,y:E,width:h.width,height:I},Math.abs(H)>0&&Math.abs(C)<Math.abs(H)){var pe=Ta(C||H)*(Math.abs(H)-Math.abs(C));C+=pe}}if(j==null||E==null||C==null||I==null)return null;var F=_s(_s({},N),{},{stackedBarStart:b,x:j,y:E,width:C,height:I,value:d?S:S[1],payload:N,background:T,tooltipPosition:{x:j+C/2,y:E+I/2},parentViewBox:p},m&&m[A]&&m[A].props);return F}).filter(Boolean)}function k3e(e){var t=na(e,y3e),r=Xje(t.stackId),n=vs();return k.createElement(O_,{id:t.id,type:"bar"},a=>k.createElement(k.Fragment,null,k.createElement(VH,{legendPayload:l3e(t)}),k.createElement(c3e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),k.createElement(GH,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),k.createElement(ii,{zIndex:t.zIndex},k.createElement(b3e,Sc({},t,{id:a})))))}var pV=k.memo(k3e,Iw);pV.displayName="Bar";var N3e=["domain","range"],S3e=["domain","range"];function $F(e,t){if(e==null)return{};var r,n,a=j3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WF(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function gV(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=$F(e,N3e),{domain:s,range:i}=t,l=$F(t,S3e);return!WF(r,s)||!WF(n,i)?!1:Iw(a,l)}var A3e=["dangerouslySetInnerHTML","ticks","scale"],_3e=["id","scale"];function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XS.apply(null,arguments)}function HF(e,t){if(e==null)return{};var r,n,a=E3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C3e(e){var t=Ur(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(n4e(e)):r.current!==e&&t(a4e({prev:r.current,next:e})),r.current=e},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(t(s4e(r.current)),r.current=null)},[t]),null}var T3e=e=>{var{xAxisId:t,className:r}=e,n=St(r6),a=vs(),s="xAxis",i=St(v=>HW(v,s,t,a)),l=St(v=>zW(v,t)),c=St(v=>a2e(v,t)),u=St(v=>wW(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=HF(e,A3e),{id:p,scale:g}=u,x=HF(u,_3e);return k.createElement(I_,XS({},m,x,{x:c.x,y:c.y,width:l.width,height:l.height,className:hr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:i,axisType:s}))},P3e={allowDataOverflow:Na.allowDataOverflow,allowDecimals:Na.allowDecimals,allowDuplicatedCategory:Na.allowDuplicatedCategory,angle:Na.angle,axisLine:uc.axisLine,height:Na.height,hide:!1,includeHidden:Na.includeHidden,interval:Na.interval,minTickGap:Na.minTickGap,mirror:Na.mirror,orientation:Na.orientation,padding:Na.padding,reversed:Na.reversed,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,tickLine:uc.tickLine,tickSize:uc.tickSize,type:Na.type,xAxisId:0},O3e=e=>{var t=na(e,P3e);return k.createElement(k.Fragment,null,k.createElement(C3e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),k.createElement(T3e,t))},z_=k.memo(O3e,gV);z_.displayName="XAxis";var F3e=["dangerouslySetInnerHTML","ticks","scale"],L3e=["id","scale"];function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(null,arguments)}function VF(e,t){if(e==null)return{};var r,n,a=D3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function I3e(e){var t=Ur(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(i4e(e)):r.current!==e&&t(o4e({prev:r.current,next:e})),r.current=e},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(t(l4e(r.current)),r.current=null)},[t]),null}var M3e=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=k.useRef(null),i=k.useRef(null),l=St(r6),c=vs(),u=Ur(),d="yAxis",f=St(S=>UW(S,t)),h=St(S=>i2e(S,t)),m=St(S=>HW(S,d,t,c)),p=St(S=>kW(S,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!f||b_(a)||k.isValidElement(a)||p==null)){var S=s.current;if(S){var j=S.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&u(c4e({id:t,width:j}))}}},[m,f,u,a,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x,scale:v}=e,y=VF(e,F3e),{id:b,scale:N}=p,A=VF(p,L3e);return k.createElement(I_,ZS({},y,A,{ref:s,labelRef:i,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:hr("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},R3e={allowDataOverflow:Sa.allowDataOverflow,allowDecimals:Sa.allowDecimals,allowDuplicatedCategory:Sa.allowDuplicatedCategory,angle:Sa.angle,axisLine:uc.axisLine,hide:!1,includeHidden:Sa.includeHidden,interval:Sa.interval,minTickGap:Sa.minTickGap,mirror:Sa.mirror,orientation:Sa.orientation,padding:Sa.padding,reversed:Sa.reversed,scale:Sa.scale,tick:Sa.tick,tickCount:Sa.tickCount,tickLine:uc.tickLine,tickSize:uc.tickSize,type:Sa.type,width:Sa.width,yAxisId:0},B3e=e=>{var t=na(e,R3e);return k.createElement(k.Fragment,null,k.createElement(I3e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),k.createElement(M3e,t))},U_=k.memo(B3e,gV);U_.displayName="YAxis";var z3e=(e,t)=>t,$_=De([z3e,ir,yW,xa,iH,Bc,kwe,pa],Cwe),W_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},xV=ho("mouseClick"),vV=vx();vV.startListening({actionCreator:xV,effect:(e,t)=>{var r=e.payload,n=$_(t.getState(),W_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(b2e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var JS=ho("mouseMove"),yV=vx(),_v=null;yV.startListening({actionCreator:JS,effect:(e,t)=>{var r=e.payload;_v!==null&&cancelAnimationFrame(_v);var n=W_(r);_v=requestAnimationFrame(()=>{var a=t.getState(),s=l_(a,a.tooltip.settings.shared);if(s==="axis"){var i=$_(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(JW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(ZW())}_v=null})}});function U3e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var qF={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},bV=si({name:"rootProps",initialState:qF,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:qF.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),$3e=bV.reducer,{updateOptions:W3e}=bV.actions,wV=si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:H3e}=wV.actions,V3e=wV.reducer,kV=ho("keyDown"),NV=ho("focus"),H_=vx();H_.startListening({actionCreator:kV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=c_(a,Jh(r),Px(r),Lx(r)),l=i==null?-1:Number(i);if(!(!Number.isFinite(l)||l<0)){var c=Bc(r);if(s==="Enter"){var u=Pb(r,"axis","hover",String(a.index));t.dispatch(US({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=u2e(r),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var p=Pb(r,"axis","hover",String(m));t.dispatch(US({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});H_.startListening({actionCreator:NV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=Pb(r,"axis","hover",String(s));t.dispatch(US({active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Yi=ho("externalEvent"),SV=vx(),nN=new Map;SV.startListening({actionCreator:Yi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=nN.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:iwe(l),activeDataKey:m_(l),activeIndex:Gu(l),activeLabel:cH(l),activeTooltipIndex:Gu(l),isTooltipActive:owe(l)};r(c,n)}finally{nN.delete(a)}});nN.set(a,i)}}});var q3e=De([Xh],e=>e.tooltipItemPayloads),G3e=De([q3e,Fx,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),jV=ho("touchMove"),AV=vx();AV.startListening({actionCreator:jV,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=l_(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var i=$_(n,W_({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(JW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(IU),f=(l=u.getAttribute(MU))!==null&&l!==void 0?l:void 0,h=Zh(n).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=G3e(n,d,f);t.dispatch(XW({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var K3e=aU({brush:_4e,cartesianAxis:u4e,chartData:s5e,errorBars:SSe,graphicalItems:gNe,layout:Bpe,legend:Wge,options:e5e,polarAxis:Oke,polarOptions:V3e,referenceElements:L4e,rootProps:$3e,tooltip:w2e,zIndex:Wwe}),Y3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return upe({reducer:K3e,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([vV.middleware,yV.middleware,H_.middleware,SV.middleware,AV.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(yU({type:"raf"}))},devTools:{serialize:{replacer:U3e},name:"recharts-".concat(r)}})};function _V(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=vs(),s=k.useRef(null);if(a)return r;s.current==null&&(s.current=Y3e(t,n));var i=VA;return k.createElement(nje,{context:i,store:s.current},r)}function X3e(e){var{layout:t,margin:r}=e,n=Ur(),a=vs();return k.useEffect(()=>{a||(n(Ipe(t)),n(Dpe(r)))},[n,a,t,r]),null}var EV=k.memo(X3e,Iw);function CV(e){var t=Ur();return k.useEffect(()=>{t(W3e(e))},[t,e]),null}function GF(e){var{zIndex:t,isPanorama:r}=e,n=k.useRef(null),a=Ur();return k.useLayoutEffect(()=>(n.current&&a(Uwe({zIndex:t,element:n.current,isPanorama:r})),()=>{a($we({zIndex:t,isPanorama:r}))}),[a,t,r]),k.createElement("g",{tabIndex:-1,ref:n})}function KF(e){var{children:t,isPanorama:r}=e,n=St(Pwe);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return k.createElement(k.Fragment,null,a.map(i=>k.createElement(GF,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>k.createElement(GF,{key:i,zIndex:i,isPanorama:r})))}var Z3e=["children"];function J3e(e,t){if(e==null)return{};var r,n,a=Q3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}var eAe={width:"100%",height:"100%",display:"block"},tAe=k.forwardRef((e,t)=>{var r=a6(),n=s6(),a=n$();if(!Cl(r)||!Cl(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),k.createElement(CA,Bb({},i,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:eAe,ref:t}),s)}),rAe=e=>{var{children:t}=e,r=St(Z2);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return k.createElement(CA,{width:n,height:a,x:i,y:s},t)},YF=k.forwardRef((e,t)=>{var{children:r}=e,n=J3e(e,Z3e),a=vs();return a?k.createElement(rAe,null,k.createElement(KF,{isPanorama:!0},r)):k.createElement(tAe,Bb({ref:t},n),k.createElement(KF,{isPanorama:!1},r))});function nAe(){var e=Ur(),[t,r]=k.useState(null),n=St(nge);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;hn(s)&&s!==n&&e(Rpe(s))}},[t,e,n]),r}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(n){sAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sAe(e,t,r){return(t=iAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iAe(e){var t=oAe(e,"string");return typeof t=="symbol"?t:t+""}function oAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(null,arguments)}var lAe=()=>(m5e(),null);function zb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var cAe=k.forwardRef((e,t)=>{var r,n,a=k.useRef(null),[s,i]=k.useState({containerWidth:zb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:zb((n=e.style)===null||n===void 0?void 0:n.height)}),l=k.useCallback((u,d)=>{i(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=p=>{var{width:g,height:x}=p[0].contentRect;l(g,x)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return k.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),k.createElement(k.Fragment,null,k.createElement(Q2,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",j0({ref:c},e)))}),uAe=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=k.useState({containerWidth:zb(r),containerHeight:zb(n)}),i=k.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=k.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return k.createElement(k.Fragment,null,k.createElement(Q2,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",j0({ref:l},e)))}),dAe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(Q2,{width:r,height:n}),k.createElement("div",j0({ref:t},e)))}),fAe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return vc(r)||vc(n)?k.createElement(uAe,j0({},e,{ref:t})):k.createElement(dAe,j0({},e,{ref:t}))});function hAe(e){return e===!0?cAe:fAe}var mAe=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:x,width:v,responsive:y,dispatchTouchEvents:b=!0}=e,N=k.useRef(null),A=Ur(),[S,j]=k.useState(null),[E,C]=k.useState(null),I=nAe(),T=n6(),P=(T==null?void 0:T.width)>0?T.width:v,H=(T==null?void 0:T.height)>0?T.height:a,q=k.useCallback(K=>{I(K),typeof t=="function"&&t(K),j(K),C(K),K!=null&&(N.current=K)},[I,t,j,C]),ae=k.useCallback(K=>{A(xV(K)),A(Yi({handler:s,reactEvent:K}))},[A,s]),R=k.useCallback(K=>{A(JS(K)),A(Yi({handler:u,reactEvent:K}))},[A,u]),z=k.useCallback(K=>{A(ZW()),A(Yi({handler:d,reactEvent:K}))},[A,d]),Y=k.useCallback(K=>{A(JS(K)),A(Yi({handler:f,reactEvent:K}))},[A,f]),U=k.useCallback(()=>{A(NV())},[A]),Q=k.useCallback(K=>{A(kV(K.key))},[A]),pe=k.useCallback(K=>{A(Yi({handler:i,reactEvent:K}))},[A,i]),F=k.useCallback(K=>{A(Yi({handler:l,reactEvent:K}))},[A,l]),M=k.useCallback(K=>{A(Yi({handler:c,reactEvent:K}))},[A,c]),B=k.useCallback(K=>{A(Yi({handler:h,reactEvent:K}))},[A,h]),D=k.useCallback(K=>{A(Yi({handler:g,reactEvent:K}))},[A,g]),X=k.useCallback(K=>{b&&A(jV(K)),A(Yi({handler:p,reactEvent:K}))},[A,b,p]),V=k.useCallback(K=>{A(Yi({handler:m,reactEvent:K}))},[A,m]),ee=hAe(y);return k.createElement(gH.Provider,{value:S},k.createElement(az.Provider,{value:E},k.createElement(ee,{width:P??(x==null?void 0:x.width),height:H??(x==null?void 0:x.height),className:hr("recharts-wrapper",n),style:aAe({position:"relative",cursor:"default",width:P,height:H},x),onClick:ae,onContextMenu:pe,onDoubleClick:F,onFocus:U,onKeyDown:Q,onMouseDown:M,onMouseEnter:R,onMouseLeave:z,onMouseMove:Y,onMouseUp:B,onTouchEnd:V,onTouchMove:X,onTouchStart:D,ref:q},k.createElement(lAe,null),r)))}),pAe=["width","height","responsive","children","className","style","compact","title","desc"];function gAe(e,t){if(e==null)return{};var r,n,a=xAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TV=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:l,compact:c,title:u,desc:d}=e,f=gAe(e,pAe),h=Ci(f);return c?k.createElement(k.Fragment,null,k.createElement(Q2,{width:r,height:n}),k.createElement(YF,{otherAttributes:h,title:u,desc:d},s)):k.createElement(mAe,{className:i,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(YF,{otherAttributes:h,title:u,desc:d,ref:t},k.createElement(I4e,null,s)))});function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QS.apply(null,arguments)}var vAe={top:5,right:5,bottom:5,left:5},yAe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vAe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},PV=k.forwardRef(function(t,r){var n,a=na(t.categoricalChartProps,yAe),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return k.createElement(_V,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},k.createElement(ZH,{chartData:u.data}),k.createElement(EV,{layout:a.layout,margin:a.margin}),k.createElement(CV,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(TV,QS({},a,{ref:r})))}),bAe=["axis"],wAe=k.forwardRef((e,t)=>k.createElement(PV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bAe,tooltipPayloadSearcher:y_,categoricalChartProps:e,ref:t})),kAe=["axis","item"],NAe=k.forwardRef((e,t)=>k.createElement(PV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kAe,tooltipPayloadSearcher:y_,categoricalChartProps:e,ref:t}));function SAe(e){var t=Ur();return k.useEffect(()=>{t(H3e(e))},[t,e]),null}var jAe=["layout"];function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ej.apply(null,arguments)}function AAe(e,t){if(e==null)return{};var r,n,a=_Ae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Ae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EAe={top:5,right:5,bottom:5,left:5},OV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EAe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},CAe=k.forwardRef(function(t,r){var n,a=na(t.categoricalChartProps,OV),{layout:s}=a,i=AAe(a,jAe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return k.createElement(_V,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},k.createElement(ZH,{chartData:a.data}),k.createElement(EV,{layout:s,margin:a.margin}),k.createElement(CV,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(SAe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(TV,ej({},i,{ref:r})))});function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){TAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TAe(e,t,r){return(t=PAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PAe(e){var t=OAe(e,"string");return typeof t=="symbol"?t:t+""}function OAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FAe=["item"],LAe=JF(JF({},OV),{},{layout:"centric",startAngle:0,endAngle:360}),DAe=k.forwardRef((e,t)=>{var r=na(e,LAe);return k.createElement(CAe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:FAe,tooltipPayloadSearcher:y_,categoricalChartProps:r,ref:t})});const QF=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],IAe=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await Ae.get("/payments/reports");t(c.data)}catch(c){console.error("Failed to fetch financial reports",c)}finally{n(!1)}};if(r)return o.jsx("div",{className:"p-8 text-center text-gray-600 dark:text-gray-400",children:"Loading analytics..."});if(!e)return o.jsx("div",{className:"p-8 text-center text-gray-600 dark:text-gray-400",children:"No data available"});const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=e.monthlyRevenue.map((c,u)=>({name:s[u],revenue:c})),l=e.paymentMethods.map(c=>({name:c.method.replace("_"," "),value:c.amount}));return o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h3",{className:"font-semibold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(ti,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Monthly Revenue (",new Date().getFullYear(),")"]})}),o.jsx("div",{className:"h-80",children:o.jsx(gS,{width:"100%",height:"100%",children:o.jsxs(NAe,{data:i,children:[o.jsx(M_,{strokeDasharray:"3 3",vertical:!1}),o.jsx(z_,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),o.jsx(U_,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:c=>`K${(c/1e3).toFixed(0)}k`}),o.jsx(HS,{formatter:c=>[`ZMW ${c.toLocaleString()}`,"Revenue"],contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),o.jsx(pV,{dataKey:"revenue",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h3",{className:"font-semibold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(oee,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Revenue by Payment Method"]})}),o.jsx("div",{className:"h-80 flex items-center justify-center",children:o.jsx(gS,{width:"100%",height:"100%",children:o.jsxs(DAe,{children:[o.jsx(KH,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:l.map((c,u)=>o.jsx(Ix,{fill:QF[u%QF.length]},`cell-${u}`))}),o.jsx(HS,{formatter:c=>[`ZMW ${c.toLocaleString()}`,"Amount"]}),o.jsx(r$,{layout:"vertical",verticalAlign:"middle",align:"right"})]})})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"font-semibold text-lg text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[o.jsx(Va,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),"Collection Rate per Class"]}),o.jsx("div",{className:"space-y-4",children:e.classCollection.map(c=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-700 dark:text-gray-200",children:c.className}),o.jsxs("span",{className:"text-slate-500 dark:text-gray-400",children:[c.percentage,"% (",c.totalCollected.toLocaleString()," / ",c.totalDue.toLocaleString(),")"]})]}),o.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${c.percentage>=80?"bg-emerald-500":c.percentage>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${c.percentage}%`}})})]},c.className))})]})]})},Mw=({isOpen:e,onClose:t,entityName:r,apiEndpoint:n,templateFields:a,onSuccess:s,instructions:i=[]})=>{const[l,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(null),[m,p]=k.useState(null);if(!e)return null;const g=()=>{const A="data:text/csv;charset=utf-8,"+a.join(","),S=encodeURI(A),j=document.createElement("a");j.setAttribute("href",S),j.setAttribute("download",`${r.toLowerCase()}_import_template.csv`),document.body.appendChild(j),j.click(),document.body.removeChild(j)},x=A=>{A.target.files&&A.target.files[0]&&(c(A.target.files[0]),h(null),p(null))},v=A=>{const S=A.trim().split(`
`),j=S[0].split(",").map(E=>E.trim());return S.slice(1).map(E=>{const C=E.split(",").map(T=>T.trim()),I={};return j.forEach((T,P)=>{let H=C[P];(T==="gradeLevel"||T==="percentage"||T==="amount"||T==="applicableGrade")&&(H=parseFloat(H)),I[T]=H}),I})},y=async()=>{var A,S;if(!l){h("Please select a file");return}d(!0),h(null),p(null);try{const j=await l.text(),E=v(j),C=await Ae.post(n,E);p(C.data.message||`Successfully imported ${C.data.count} ${r.toLowerCase()}`),c(null),setTimeout(()=>{s(),t()},2e3)}catch(j){h(((S=(A=j.response)==null?void 0:A.data)==null?void 0:S.error)||`Failed to import ${r.toLowerCase()}`)}finally{d(!1)}},b=[`Upload a CSV file with ${r.toLowerCase()} details.`,`Required columns: ${a.join(", ")}.`,"Download the template CSV for the correct format."],N=i.length>0?i:b;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold",children:["Import ",r]}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(ra,{size:24})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[o.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Instructions"}),o.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:[N.map((A,S)=>o.jsx("li",{children:A},S)),o.jsx("li",{children:o.jsx("button",{onClick:g,className:"underline font-medium hover:text-blue-900",children:"Download Template CSV"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[o.jsx(Ni,{size:20,className:"mr-2 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:l?l.name:"Choose file..."}),o.jsx("input",{type:"file",accept:".csv",onChange:x,className:"hidden"})]})})]}),f&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[o.jsx(gc,{className:"text-red-600 mr-3 flex-shrink-0",size:20}),o.jsx("div",{className:"text-sm text-red-800",children:f})]}),m&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start",children:[o.jsx(da,{className:"text-green-600 mr-3 flex-shrink-0",size:20}),o.jsx("div",{className:"text-sm text-green-800",children:m})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),o.jsx("button",{onClick:y,disabled:!l||u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ni,{size:18,className:"mr-2"}),"Import"]})})]})]})]})})})},MAe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(!1),[i,l]=k.useState(null),[c,u]=k.useState({name:"",percentage:"",description:""}),[d,f]=k.useState(!1);k.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await Ae.get("/scholarships");t(x.data)}catch(x){console.error("Error fetching scholarships:",x)}finally{n(!1)}},m=async x=>{x.preventDefault();try{const v={...c,percentage:Number(c.percentage)};i?await Ae.put(`/scholarships/${i}`,v):await Ae.post("/scholarships",v),s(!1),l(null),u({name:"",percentage:"",description:""}),h()}catch(v){console.error("Error saving scholarship:",v),alert("Failed to save scholarship")}},p=x=>{l(x.id),u({name:x.name,percentage:x.percentage.toString(),description:x.description||""}),s(!0)},g=async x=>{if(confirm("Are you sure you want to delete this scholarship?"))try{await Ae.delete(`/scholarships/${x}`),h()}catch(v){console.error("Error deleting scholarship:",v),alert("Failed to delete scholarship")}};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-800 dark:text-white",children:"Scholarship Programs"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:()=>f(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[o.jsx(Ni,{size:20}),o.jsx("span",{children:"Import Scholarships"})]}),o.jsxs("button",{onClick:()=>{l(null),u({name:"",percentage:"",description:""}),s(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add Scholarship"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(x=>{var v;return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg",children:o.jsx(Ai,{size:24})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>p(x),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:o.jsx(uo,{size:16})}),o.jsx("button",{onClick:()=>g(x.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:o.jsx(fs,{size:16})})]})]}),o.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:x.name}),o.jsxs("div",{className:"flex items-baseline mb-4",children:[o.jsxs("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[x.percentage,"%"]}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400 ml-2",children:"Discount"})]}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-4 min-h-[40px]",children:x.description||"No description provided"}),o.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-500 dark:text-gray-400",children:"Beneficiaries"}),o.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[((v=x._count)==null?void 0:v.students)||0," Students"]})]})]},x.id)}),e.length===0&&!r&&o.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:o.jsx(Ai,{className:"text-slate-400",size:24})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No scholarships found"}),o.jsx("p",{className:"text-slate-500 dark:text-gray-400 mt-1",children:"Create a scholarship program to get started"})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white",children:i?"Edit Scholarship":"New Scholarship"}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Program Name"}),o.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"e.g. Presidential Scholarship",value:c.name,onChange:x=>u({...c,name:x.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Discount Percentage (%)"}),o.jsx("input",{type:"number",required:!0,min:"0",max:"100",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0-100",value:c.percentage,onChange:x=>u({...c,percentage:x.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Description"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",rows:3,placeholder:"Optional description...",value:c.description,onChange:x=>u({...c,description:x.target.value})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:i?"Update":"Create"})]})]})]})}),o.jsx(Mw,{isOpen:d,onClose:()=>f(!1),entityName:"Scholarships",apiEndpoint:"/api/v1/scholarships/bulk",templateFields:["name","percentage","description"],onSuccess:h,instructions:["Upload a CSV file with scholarship details.","Required columns: name, percentage.","Optional column: description.","Percentage should be a number between 0 and 100."]})]})},FV=({students:e,classes:t,value:r,onChange:n})=>{const[a,s]=k.useState("search"),[i,l]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(!1),[p,g]=k.useState(0),x=k.useRef(null),v=k.useRef(null),y=k.useMemo(()=>e.find(C=>C.id===r),[e,r]),b=k.useMemo(()=>{let C=e;if(a==="search"&&i.trim()){const I=i.toLowerCase();C=e.filter(T=>T.firstName.toLowerCase().includes(I)||T.lastName.toLowerCase().includes(I)||T.admissionNumber.toLowerCase().includes(I)||`${T.firstName} ${T.lastName}`.toLowerCase().includes(I))}else if(a==="admission"&&c.trim()){const I=c.toLowerCase();C=e.filter(T=>T.admissionNumber.toLowerCase().includes(I))}else a==="class"&&d?C=e.filter(I=>{var T;return((T=I.class)==null?void 0:T.id)===d}):a==="search"&&!i.trim()&&(C=[]);return C.slice(0,10)},[e,a,i,c,d]);k.useEffect(()=>{const C=I=>{x.current&&!x.current.contains(I.target)&&m(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const N=C=>{if(!h){(C.key==="ArrowDown"||C.key==="Enter")&&m(!0);return}switch(C.key){case"ArrowDown":C.preventDefault(),g(I=>Math.min(I+1,b.length-1));break;case"ArrowUp":C.preventDefault(),g(I=>Math.max(I-1,0));break;case"Enter":C.preventDefault(),b[p]&&A(b[p]);break;case"Escape":m(!1);break}},A=C=>{n(C.id),l(""),u(""),m(!1)},S=()=>{n(""),l(""),u(""),f("")},j=()=>{if(!c.trim())return;const C=e.find(I=>I.admissionNumber.toLowerCase()===c.toLowerCase());C?A(C):m(!0)},E=[{id:"search",icon:ei,label:"Search"},{id:"admission",icon:UT,label:"Admission #"},{id:"class",icon:en,label:"By Class"}];return o.jsx("div",{ref:x,className:"relative",children:y?o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:[y.firstName[0],y.lastName[0]]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-slate-800",children:[y.firstName," ",y.lastName]}),o.jsxs("p",{className:"text-sm text-slate-500",children:[y.admissionNumber,y.class&&`  ${y.class.name}`]})]})]}),o.jsx("button",{type:"button",onClick:S,className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(ra,{size:18})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex mb-2 bg-slate-100 rounded-lg p-0.5",children:E.map(({id:C,icon:I,label:T})=>o.jsxs("button",{type:"button",onClick:()=>{s(C),m(!1),l(""),u(""),f("")},className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-all ${a===C?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o.jsx(I,{size:14}),T]},C))}),a==="search"&&o.jsxs("div",{className:"relative",children:[o.jsx(ei,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),o.jsx("input",{ref:v,type:"text",value:i,onChange:C=>{l(C.target.value),m(!0),g(0)},onFocus:()=>i&&m(!0),onKeyDown:N,placeholder:"Type student name or admission number...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a==="admission"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(UT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),o.jsx("input",{type:"text",value:c,onChange:C=>{u(C.target.value.toUpperCase()),m(!0),g(0)},onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),j()):N(C)},placeholder:"e.g. STU2024001",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 uppercase"})]}),o.jsx("button",{type:"button",onClick:j,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Find"})]}),a==="class"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),o.jsxs("select",{value:d,onChange:C=>{f(C.target.value),m(!!C.target.value),g(0)},className:"w-full pl-10 pr-10 py-2.5 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[o.jsx("option",{value:"",children:"Select a class first..."}),t.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))]}),o.jsx(D3,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:18})]}),d&&o.jsxs("p",{className:"text-xs text-slate-500",children:[b.length," student",b.length!==1?"s":""," in this class"]})]}),h&&b.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:b.map((C,I)=>o.jsxs("button",{type:"button",onClick:()=>A(C),onMouseEnter:()=>g(I),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${I===p?"bg-blue-50":"hover:bg-slate-50"}`,children:[o.jsxs("div",{className:"w-9 h-9 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium text-sm",children:[C.firstName[0],C.lastName[0]]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"font-medium text-slate-800 truncate",children:[C.firstName," ",C.lastName]}),o.jsxs("p",{className:"text-sm text-slate-500 truncate",children:[C.admissionNumber,C.class&&`  ${C.class.name}`]})]})]},C.id))}),h&&(a==="search"&&i&&b.length===0||a==="admission"&&c&&b.length===0||a==="class"&&d&&b.length===0)&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg p-4 text-center",children:[o.jsx(_i,{className:"mx-auto text-slate-300 mb-2",size:32}),o.jsx("p",{className:"text-slate-500 text-sm",children:"No students found"})]})]})})},RAe=({students:e,onPaymentSuccess:t})=>{var I;const[r,n]=k.useState([]),[a,s]=k.useState(!0),[i,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState(null),[p,g]=k.useState({studentId:"",amount:"",phone:"",country:"zm",operator:"airtel"}),[x,v]=k.useState("ALL");k.useEffect(()=>{y()},[]);const y=async()=>{try{s(!0);const T=await Ae.get("/payments/mobile-money");n(T.data.data||[])}catch(T){console.error("Error fetching mobile money collections:",T)}finally{s(!1)}},b=async T=>{var P,H,q,ae;if(T.preventDefault(),!c){u(!0);try{const R=await Ae.post("/payments/mobile-money/initiate",{studentId:p.studentId,amount:Number(p.amount),phone:p.phone,country:p.country,operator:p.operator});alert(` ${R.data.message}

Reference: ${R.data.collection.reference}
Amount: ZMW ${R.data.collection.amount}

The customer should authorize the payment on their phone.`),l(!1),g({studentId:"",amount:"",phone:"",country:"zm",operator:"airtel"}),y()}catch(R){console.error("Error initiating mobile money payment:",R),alert(((H=(P=R.response)==null?void 0:P.data)==null?void 0:H.error)||((ae=(q=R.response)==null?void 0:q.data)==null?void 0:ae.message)||"Failed to initiate payment")}finally{u(!1)}}},N=async T=>{var P;f(T);try{const q=(await Ae.get(`/payments/mobile-money/status/${T}`)).data.collection;q.status==="SUCCESSFUL"?(alert(` Payment completed successfully!

Transaction ID: ${((P=q.payment)==null?void 0:P.transactionId)||"N/A"}`),y(),t==null||t()):q.status==="FAILED"?(alert(` Payment failed: ${q.reasonForFailure||"Unknown error"}`),y()):alert(` Payment still pending.

Status: ${q.status.replace("_"," ")}

The customer needs to authorize the payment on their phone.`)}catch(H){console.error("Error checking status:",H),alert("Failed to check payment status")}finally{f(null)}},A=T=>{const P=e.find(H=>H.id===T);g({...p,studentId:T,phone:(P==null?void 0:P.guardianPhone)||p.phone})},S=T=>{switch(T){case"SUCCESSFUL":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(da,{size:12}),"Successful"]});case"FAILED":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[o.jsx(fh,{size:12}),"Failed"]});case"PAY_OFFLINE":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[o.jsx(_l,{size:12}),"Awaiting Authorization"]});default:return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:[o.jsx(gc,{size:12}),"Pending"]})}},j=T=>{switch(T.toLowerCase()){case"airtel":return o.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Airtel"});case"mtn":return o.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-medium rounded",children:"MTN"});case"tnm":return o.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"TNM"});default:return o.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 text-xs font-medium rounded",children:T})}},E=r.filter(T=>x==="ALL"||T.status===x),C=dc.useMemo(()=>{const T=new Map;return e.forEach(P=>{P.class&&T.set(P.class.id,P.class)}),Array.from(T.values())},[e]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(_4,{className:"text-blue-600 dark:text-blue-400",size:24}),"Mobile Money Collections"]}),o.jsx("p",{className:"text-slate-500 dark:text-gray-400 mt-1",children:"Request payments directly from customer phones via Lenco"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_A,{data:E.map(T=>{var P;return{date:new Date(T.initiatedAt).toLocaleDateString(),time:new Date(T.initiatedAt).toLocaleTimeString(),studentName:`${T.student.firstName} ${T.student.lastName}`,admissionNumber:T.student.admissionNumber,phone:T.phone,operator:T.operator,amount:T.amount,reference:T.reference,status:T.status,failReason:T.reasonForFailure||"",transactionId:((P=T.payment)==null?void 0:P.transactionId)||"N/A"}}),columns:[{key:"date",header:"Date"},{key:"time",header:"Time"},{key:"studentName",header:"Student"},{key:"admissionNumber",header:"Admission No"},{key:"phone",header:"Phone"},{key:"operator",header:"Operator"},{key:"amount",header:"Amount"},{key:"reference",header:"Reference"},{key:"status",header:"Status"},{key:"failReason",header:"Failure Reason"},{key:"transactionId",header:"Transaction ID"}],filename:`mobile_money_collections_${new Date().toISOString().split("T")[0]}`}),o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg",children:[o.jsx(Mu,{size:18}),"Request Payment"]})]})]}),o.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:["ALL","PENDING","PAY_OFFLINE","SUCCESSFUL","FAILED"].map(T=>o.jsx("button",{onClick:()=>v(T),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${x===T?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-gray-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:T==="ALL"?"All":T==="PAY_OFFLINE"?"Awaiting Auth":T.charAt(0)+T.slice(1).toLowerCase()},T))}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Date"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Student"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Phone"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Operator"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Amount (ZMW)"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Reference"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Status"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a?o.jsx("tr",{children:o.jsxs("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:[o.jsx(Ou,{className:"inline-block animate-spin mr-2",size:18}),"Loading collections..."]})}):E.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:o.jsx(_4,{className:"text-slate-400",size:32})}),o.jsx("p",{className:"text-slate-500 dark:text-gray-400 font-medium",children:"No mobile money collections found"}),o.jsx("p",{className:"text-slate-400 text-sm mt-1",children:'Click "Request Payment" to initiate a collection'})]})})}):E.map(T=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:[new Date(T.initiatedAt).toLocaleDateString(),o.jsx("div",{className:"text-xs text-slate-400",children:new Date(T.initiatedAt).toLocaleTimeString()})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsxs("div",{className:"font-medium text-slate-800 dark:text-white",children:[T.student.firstName," ",T.student.lastName]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:T.student.admissionNumber})]}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300 font-mono text-sm",children:T.phone}),o.jsx("td",{className:"px-6 py-4",children:j(T.operator)}),o.jsx("td",{className:"px-6 py-4 font-medium text-slate-800 dark:text-white",children:Number(T.amount).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 font-mono text-xs text-slate-600 dark:text-gray-400",children:T.reference}),o.jsxs("td",{className:"px-6 py-4",children:[S(T.status),T.reasonForFailure&&o.jsx("div",{className:"text-xs text-red-500 mt-1",children:T.reasonForFailure})]}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(T.status==="PENDING"||T.status==="PAY_OFFLINE")&&o.jsx("button",{onClick:()=>N(T.reference),disabled:d===T.reference,title:"Check Status",className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",children:o.jsx(Ou,{size:18,className:d===T.reference?"animate-spin":""})}),o.jsxs("button",{onClick:()=>m(T),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-gray-300 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600 rounded-lg transition-colors border border-slate-200 dark:border-slate-600",children:[o.jsx(sg,{size:16}),"View"]})]})})]},T.id))})]})})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(C0,{className:"text-blue-600 dark:text-blue-400",size:20}),"Request Mobile Money Payment"]}),o.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:o.jsx(ra,{size:20,className:"text-slate-500"})})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Student"}),o.jsx(FV,{students:e,classes:C,value:p.studentId,onChange:A})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Amount (ZMW)"}),o.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0.00",value:p.amount,onChange:T=>g({...p,amount:T.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Phone Number"}),o.jsx("input",{type:"tel",required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"e.g. 260971234567",value:p.phone,onChange:T=>g({...p,phone:T.target.value})}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400 mt-1",children:"Enter phone number with country code (e.g. 260 for Zambia)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Country"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:p.country,onChange:T=>{const P=T.target.value;g({...p,country:P,operator:"airtel"})},children:[o.jsx("option",{value:"zm",children:"Zambia"}),o.jsx("option",{value:"mw",children:"Malawi"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-300 mb-1",children:"Mobile Operator"}),o.jsx("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:p.operator,onChange:T=>g({...p,operator:T.target.value}),children:p.country==="zm"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"airtel",children:"Airtel Money"}),o.jsx("option",{value:"mtn",children:"MTN Mobile Money"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"airtel",children:"Airtel Money"}),o.jsx("option",{value:"tnm",children:"TNM Mpamba"})]})})]}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(gc,{className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",size:18}),o.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:"How it works:"}),o.jsxs("ol",{className:"list-decimal list-inside text-blue-700 dark:text-blue-400 space-y-1",children:[o.jsx("li",{children:"Payment request is sent to the customer's phone"}),o.jsx("li",{children:"Customer enters their PIN to authorize"}),o.jsx("li",{children:"Payment is confirmed and recorded automatically"})]})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c,className:`px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center gap-2 transition-all ${c?"opacity-70 cursor-not-allowed":""}`,children:c?o.jsxs(o.Fragment,{children:[o.jsx(Ou,{size:16,className:"animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mu,{size:16}),"Send Payment Request"]})})]})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-700",children:[o.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:"Transaction Details"}),o.jsx("button",{onClick:()=>m(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-gray-300 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-full p-1 transition-colors",children:o.jsx(ra,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-slate-50 dark:bg-slate-700 rounded-xl border border-slate-100 dark:border-slate-600",children:[o.jsxs("div",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:["ZMW ",Number(h.amount).toLocaleString()]}),S(h.status),h.reasonForFailure&&o.jsx("p",{className:"text-sm text-red-500 mt-2 text-center",children:h.reasonForFailure})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Student Name"}),o.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[h.student.firstName," ",h.student.lastName]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Admission Number"}),o.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:h.student.admissionNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Phone Number"}),o.jsx("span",{className:"font-mono text-slate-800 dark:text-white",children:h.phone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Operator"}),o.jsx("div",{className:"mt-1",children:j(h.operator)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Date Initiated"}),o.jsx("span",{className:"text-slate-800 dark:text-white",children:new Date(h.initiatedAt).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Collection Ref"}),o.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-gray-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded inline-block",children:h.reference})]}),((I=h.payment)==null?void 0:I.transactionId)&&o.jsxs("div",{className:"col-span-2 pt-2 border-t border-slate-100 dark:border-slate-700 mt-2",children:[o.jsx("span",{className:"block text-slate-500 dark:text-gray-400 mb-1",children:"Transaction ID (Receipt)"}),o.jsx("span",{className:"font-mono text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-3 py-1.5 rounded-lg block w-full",children:h.payment.transactionId})]})]}),o.jsx("div",{className:"pt-4 mt-2 border-t border-slate-100 dark:border-slate-700 flex justify-end",children:o.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-gray-300 font-medium rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:"Close"})})]})]})})]})};var Qh={},BAe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},LV={},Fi={};let V_;const zAe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Fi.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Fi.getSymbolTotalCodewords=function(t){return zAe[t]};Fi.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Fi.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');V_=t};Fi.isKanjiModeEnabled=function(){return typeof V_<"u"};Fi.toSJIS=function(t){return V_(t)};var Rw={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(Rw);function DV(){this.buffer=[],this.length=0}DV.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var UAe=DV;function Bx(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Bx.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};Bx.prototype.get=function(e,t){return this.data[e*this.size+t]};Bx.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Bx.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var $Ae=Bx,IV={};(function(e){const t=Fi.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,s=t(n),i=s===145?26:Math.ceil((s-13)/(2*a-2))*2,l=[s-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-i;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],s=e.getRowColCoords(n),i=s.length;for(let l=0;l<i;l++)for(let c=0;c<i;c++)l===0&&c===0||l===0&&c===i-1||l===i-1&&c===0||a.push([s[l],s[c]]);return a}})(IV);var MV={};const WAe=Fi.getSymbolSize,eL=7;MV.getPositions=function(t){const r=WAe(t);return[[0,0],[r-eL,0],[0,r-eL]]};var RV={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const s=a.size;let i=0,l=0,c=0,u=null,d=null;for(let f=0;f<s;f++){l=c=0,u=d=null;for(let h=0;h<s;h++){let m=a.get(f,h);m===u?l++:(l>=5&&(i+=t.N1+(l-5)),u=m,l=1),m=a.get(h,f),m===d?c++:(c>=5&&(i+=t.N1+(c-5)),d=m,c=1)}l>=5&&(i+=t.N1+(l-5)),c>=5&&(i+=t.N1+(c-5))}return i},e.getPenaltyN2=function(a){const s=a.size;let i=0;for(let l=0;l<s-1;l++)for(let c=0;c<s-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&i++}return i*t.N2},e.getPenaltyN3=function(a){const s=a.size;let i=0,l=0,c=0;for(let u=0;u<s;u++){l=c=0;for(let d=0;d<s;d++)l=l<<1&2047|a.get(u,d),d>=10&&(l===1488||l===93)&&i++,c=c<<1&2047|a.get(d,u),d>=10&&(c===1488||c===93)&&i++}return i*t.N3},e.getPenaltyN4=function(a){let s=0;const i=a.data.length;for(let c=0;c<i;c++)s+=a.data[c];return Math.abs(Math.ceil(s*100/i/5)-10)*t.N4};function r(n,a,s){switch(n){case e.Patterns.PATTERN000:return(a+s)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(a+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return a*s%2+a*s%3===0;case e.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case e.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,s){const i=s.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)s.isReserved(c,l)||s.xor(c,l,r(a,c,l))},e.getBestMask=function(a,s){const i=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<i;u++){s(u),e.applyMask(u,a);const d=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),d<c&&(c=d,l=u)}return l}})(RV);var Bw={};const ku=Rw,Ev=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Cv=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bw.getBlocksCount=function(t,r){switch(r){case ku.L:return Ev[(t-1)*4+0];case ku.M:return Ev[(t-1)*4+1];case ku.Q:return Ev[(t-1)*4+2];case ku.H:return Ev[(t-1)*4+3];default:return}};Bw.getTotalCodewordsCount=function(t,r){switch(r){case ku.L:return Cv[(t-1)*4+0];case ku.M:return Cv[(t-1)*4+1];case ku.Q:return Cv[(t-1)*4+2];case ku.H:return Cv[(t-1)*4+3];default:return}};var BV={},zw={};const Fp=new Uint8Array(512),Ub=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Fp[r]=t,Ub[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Fp[r]=Fp[r-255]})();zw.log=function(t){if(t<1)throw new Error("log("+t+")");return Ub[t]};zw.exp=function(t){return Fp[t]};zw.mul=function(t,r){return t===0||r===0?0:Fp[Ub[t]+Ub[r]]};(function(e){const t=zw;e.mul=function(n,a){const s=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<a.length;l++)s[i+l]^=t.mul(n[i],a[l]);return s},e.mod=function(n,a){let s=new Uint8Array(n);for(;s.length-a.length>=0;){const i=s[0];for(let c=0;c<a.length;c++)s[c]^=t.mul(a[c],i);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let s=0;s<n;s++)a=e.mul(a,new Uint8Array([1,t.exp(s)]));return a}})(BV);const zV=BV;function q_(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}q_.prototype.initialize=function(t){this.degree=t,this.genPoly=zV.generateECPolynomial(this.degree)};q_.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=zV.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const s=new Uint8Array(this.degree);return s.set(n,a),s}return n};var HAe=q_,UV={},ld={},G_={};G_.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Il={};const $V="[0-9]+",VAe="[A-Z $%*+\\-./:]+";let zg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";zg=zg.replace(/u/g,"\\u");const qAe="(?:(?![A-Z0-9 $%*+\\-./:]|"+zg+`)(?:.|[\r
]))+`;Il.KANJI=new RegExp(zg,"g");Il.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Il.BYTE=new RegExp(qAe,"g");Il.NUMERIC=new RegExp($V,"g");Il.ALPHANUMERIC=new RegExp(VAe,"g");const GAe=new RegExp("^"+zg+"$"),KAe=new RegExp("^"+$V+"$"),YAe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Il.testKanji=function(t){return GAe.test(t)};Il.testNumeric=function(t){return KAe.test(t)};Il.testAlphanumeric=function(t){return YAe.test(t)};(function(e){const t=G_,r=Il;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,i){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?s.ccBits[0]:i<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(s,i){if(e.isValid(s))return s;try{return n(s)}catch{return i}}})(ld);(function(e){const t=Fi,r=Bw,n=Rw,a=ld,s=G_,i=7973,l=t.getBCHDigit(i);function c(h,m,p){for(let g=1;g<=40;g++)if(m<=e.getCapacity(g,p,h))return g}function u(h,m){return a.getCharCountIndicator(h,m)+4}function d(h,m){let p=0;return h.forEach(function(g){const x=u(g.mode,m);p+=x+g.getBitsLength()}),p}function f(h,m){for(let p=1;p<=40;p++)if(d(h,p)<=e.getCapacity(p,m,a.MIXED))return p}e.from=function(m,p){return s.isValid(m)?parseInt(m,10):p},e.getCapacity=function(m,p,g){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=a.BYTE);const x=t.getSymbolTotalCodewords(m),v=r.getTotalCodewordsCount(m,p),y=(x-v)*8;if(g===a.MIXED)return y;const b=y-u(g,m);switch(g){case a.NUMERIC:return Math.floor(b/10*3);case a.ALPHANUMERIC:return Math.floor(b/11*2);case a.KANJI:return Math.floor(b/13);case a.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(m,p){let g;const x=n.from(p,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,x);if(m.length===0)return 1;g=m[0]}else g=m;return c(g.mode,g.getLength(),x)},e.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let p=m<<12;for(;t.getBCHDigit(p)-l>=0;)p^=i<<t.getBCHDigit(p)-l;return m<<12|p}})(UV);var WV={};const tj=Fi,HV=1335,XAe=21522,tL=tj.getBCHDigit(HV);WV.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;tj.getBCHDigit(a)-tL>=0;)a^=HV<<tj.getBCHDigit(a)-tL;return(n<<10|a)^XAe};var VV={};const ZAe=ld;function jh(e){this.mode=ZAe.NUMERIC,this.data=e.toString()}jh.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};jh.prototype.getLength=function(){return this.data.length};jh.prototype.getBitsLength=function(){return jh.getBitsLength(this.data.length)};jh.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,s*3+1))};var JAe=jh;const QAe=ld,aN=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ah(e){this.mode=QAe.ALPHANUMERIC,this.data=e}Ah.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ah.prototype.getLength=function(){return this.data.length};Ah.prototype.getBitsLength=function(){return Ah.getBitsLength(this.data.length)};Ah.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=aN.indexOf(this.data[r])*45;n+=aN.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(aN.indexOf(this.data[r]),6)};var e6e=Ah;const t6e=ld;function _h(e){this.mode=t6e.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}_h.getBitsLength=function(t){return t*8};_h.prototype.getLength=function(){return this.data.length};_h.prototype.getBitsLength=function(){return _h.getBitsLength(this.data.length)};_h.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var r6e=_h;const n6e=ld,a6e=Fi;function Eh(e){this.mode=n6e.KANJI,this.data=e}Eh.getBitsLength=function(t){return t*13};Eh.prototype.getLength=function(){return this.data.length};Eh.prototype.getBitsLength=function(){return Eh.getBitsLength(this.data.length)};Eh.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=a6e.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var s6e=Eh,qV={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var s={},i={};i[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,h,m,p,g,x;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],p=f+m,g=i[d],x=typeof i[d]>"u",(x||g>p)&&(i[d]=p,l.push(d,p),s[d]=u))}if(typeof a<"u"&&typeof i[a]>"u"){var v=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],s=n;s;)a.push(s),r[s],s=r[s];return a.reverse(),a},find_path:function(r,n,a){var s=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(qV);var i6e=qV.exports;(function(e){const t=ld,r=JAe,n=e6e,a=r6e,s=s6e,i=Il,l=Fi,c=i6e;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,y,b){const N=[];let A;for(;(A=v.exec(b))!==null;)N.push({data:A[0],index:A.index,mode:y,length:A[0].length});return N}function f(v){const y=d(i.NUMERIC,t.NUMERIC,v),b=d(i.ALPHANUMERIC,t.ALPHANUMERIC,v);let N,A;return l.isKanjiModeEnabled()?(N=d(i.BYTE,t.BYTE,v),A=d(i.KANJI,t.KANJI,v)):(N=d(i.BYTE_KANJI,t.BYTE,v),A=[]),y.concat(b,N,A).sort(function(j,E){return j.index-E.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function h(v,y){switch(y){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return s.getBitsLength(v);case t.BYTE:return a.getBitsLength(v)}}function m(v){return v.reduce(function(y,b){const N=y.length-1>=0?y[y.length-1]:null;return N&&N.mode===b.mode?(y[y.length-1].data+=b.data,y):(y.push(b),y)},[])}function p(v){const y=[];for(let b=0;b<v.length;b++){const N=v[b];switch(N.mode){case t.NUMERIC:y.push([N,{data:N.data,mode:t.ALPHANUMERIC,length:N.length},{data:N.data,mode:t.BYTE,length:N.length}]);break;case t.ALPHANUMERIC:y.push([N,{data:N.data,mode:t.BYTE,length:N.length}]);break;case t.KANJI:y.push([N,{data:N.data,mode:t.BYTE,length:u(N.data)}]);break;case t.BYTE:y.push([{data:N.data,mode:t.BYTE,length:u(N.data)}])}}return y}function g(v,y){const b={},N={start:{}};let A=["start"];for(let S=0;S<v.length;S++){const j=v[S],E=[];for(let C=0;C<j.length;C++){const I=j[C],T=""+S+C;E.push(T),b[T]={node:I,lastCount:0},N[T]={};for(let P=0;P<A.length;P++){const H=A[P];b[H]&&b[H].node.mode===I.mode?(N[H][T]=h(b[H].lastCount+I.length,I.mode)-h(b[H].lastCount,I.mode),b[H].lastCount+=I.length):(b[H]&&(b[H].lastCount=I.length),N[H][T]=h(I.length,I.mode)+4+t.getCharCountIndicator(I.mode,y))}}A=E}for(let S=0;S<A.length;S++)N[A[S]].end=0;return{map:N,table:b}}function x(v,y){let b;const N=t.getBestModeForData(v);if(b=t.from(y,N),b!==t.BYTE&&b.bit<N.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(N));switch(b===t.KANJI&&!l.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new s(v);case t.BYTE:return new a(v)}}e.fromArray=function(y){return y.reduce(function(b,N){return typeof N=="string"?b.push(x(N,null)):N.data&&b.push(x(N.data,N.mode)),b},[])},e.fromString=function(y,b){const N=f(y,l.isKanjiModeEnabled()),A=p(N),S=g(A,b),j=c.find_path(S.map,"start","end"),E=[];for(let C=1;C<j.length-1;C++)E.push(S.table[j[C]].node);return e.fromArray(m(E))},e.rawSplit=function(y){return e.fromArray(f(y,l.isKanjiModeEnabled()))}})(VV);const Uw=Fi,sN=Rw,o6e=UAe,l6e=$Ae,c6e=IV,u6e=MV,rj=RV,nj=Bw,d6e=HAe,$b=UV,f6e=WV,h6e=ld,iN=VV;function m6e(e,t){const r=e.size,n=u6e.getPositions(t);for(let a=0;a<n.length;a++){const s=n[a][0],i=n[a][1];for(let l=-1;l<=7;l++)if(!(s+l<=-1||r<=s+l))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(s+l,i+c,!0,!0):e.set(s+l,i+c,!1,!0))}}function p6e(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function g6e(e,t){const r=c6e.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],s=r[n][1];for(let i=-2;i<=2;i++)for(let l=-2;l<=2;l++)i===-2||i===2||l===-2||l===2||i===0&&l===0?e.set(a+i,s+l,!0,!0):e.set(a+i,s+l,!1,!0)}}function x6e(e,t){const r=e.size,n=$b.getEncodedBits(t);let a,s,i;for(let l=0;l<18;l++)a=Math.floor(l/3),s=l%3+r-8-3,i=(n>>l&1)===1,e.set(a,s,i,!0),e.set(s,a,i,!0)}function oN(e,t,r){const n=e.size,a=f6e.getEncodedBits(t,r);let s,i;for(s=0;s<15;s++)i=(a>>s&1)===1,s<6?e.set(s,8,i,!0):s<8?e.set(s+1,8,i,!0):e.set(n-15+s,8,i,!0),s<8?e.set(8,n-s-1,i,!0):s<9?e.set(8,15-s-1+1,i,!0):e.set(8,15-s-1,i,!0);e.set(n-8,8,1,!0)}function v6e(e,t){const r=e.size;let n=-1,a=r-1,s=7,i=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let u=!1;i<t.length&&(u=(t[i]>>>s&1)===1),e.set(a,l-c,u),s--,s===-1&&(i++,s=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function y6e(e,t,r){const n=new o6e;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),h6e.getCharCountIndicator(c.mode,e)),c.write(n)});const a=Uw.getSymbolTotalCodewords(e),s=nj.getTotalCodewordsCount(e,t),i=(a-s)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(i-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return b6e(n,e,t)}function b6e(e,t,r){const n=Uw.getSymbolTotalCodewords(t),a=nj.getTotalCodewordsCount(t,r),s=n-a,i=nj.getBlocksCount(t,r),l=n%i,c=i-l,u=Math.floor(n/i),d=Math.floor(s/i),f=d+1,h=u-d,m=new d6e(h);let p=0;const g=new Array(i),x=new Array(i);let v=0;const y=new Uint8Array(e.buffer);for(let j=0;j<i;j++){const E=j<c?d:f;g[j]=y.slice(p,p+E),x[j]=m.encode(g[j]),p+=E,v=Math.max(v,E)}const b=new Uint8Array(n);let N=0,A,S;for(A=0;A<v;A++)for(S=0;S<i;S++)A<g[S].length&&(b[N++]=g[S][A]);for(A=0;A<h;A++)for(S=0;S<i;S++)b[N++]=x[S][A];return b}function w6e(e,t,r,n){let a;if(Array.isArray(e))a=iN.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=iN.rawSplit(e);u=$b.getBestVersionForData(d,r)}a=iN.fromString(e,u||40)}else throw new Error("Invalid data");const s=$b.getBestVersionForData(a,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const i=y6e(t,r,a),l=Uw.getSymbolSize(t),c=new l6e(l);return m6e(c,t),p6e(c),g6e(c,t),oN(c,r,0),t>=7&&x6e(c,t),v6e(c,i),isNaN(n)&&(n=rj.getBestMask(c,oN.bind(null,c,r))),rj.applyMask(n,c),oN(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}LV.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=sN.M,a,s;return typeof r<"u"&&(n=sN.from(r.errorCorrectionLevel,sN.M),a=$b.from(r.version),s=rj.from(r.maskPattern),r.toSJISFunc&&Uw.setToSJISFunction(r.toSJISFunc)),w6e(t,a,n,s)};var GV={},K_={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:s,scale:s?4:i,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const s=e.getScale(n,a);return Math.floor((n+a.margin*2)*s)},e.qrToImageData=function(n,a,s){const i=a.modules.size,l=a.modules.data,c=e.getScale(i,s),u=Math.floor((i+s.margin*2)*c),d=s.margin*c,f=[s.color.light,s.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let p=(h*u+m)*4,g=s.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const x=Math.floor((h-d)/c),v=Math.floor((m-d)/c);g=f[l[x*i+v]?1:0]}n[p++]=g.r,n[p++]=g.g,n[p++]=g.b,n[p]=g.a}}})(K_);(function(e){const t=K_;function r(a,s,i){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=i,s.width=i,s.style.height=i+"px",s.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,i,l){let c=l,u=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(s.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,s,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(s,i,l){let c=l;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const u=e.render(s,i,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(GV);var KV={};const k6e=K_;function rL(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function lN(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function N6e(e,t,r){let n="",a=0,s=!1,i=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!s&&(s=!0),e[l]?(i++,l>0&&c>0&&e[l-1]||(n+=s?lN("M",c+r,.5+u+r):lN("m",a,0),a=0,s=!1),c+1<t&&e[l+1]||(n+=lN("h",i),i=0)):a++}return n}KV.render=function(t,r,n){const a=k6e.getOptions(r),s=t.modules.size,i=t.modules.data,l=s+a.margin*2,c=a.color.light.a?"<path "+rL(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+rL(a.color.dark,"stroke")+' d="'+N6e(i,s,a.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const S6e=BAe,aj=LV,YV=GV,j6e=KV;function Y_(e,t,r,n,a){const s=[].slice.call(arguments,1),i=s.length,l=typeof s[i-1]=="function";if(!l&&!S6e())throw new Error("Callback required as last argument");if(l){if(i<2)throw new Error("Too few arguments provided");i===2?(a=r,r=t,t=n=void 0):i===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=t,t=n=void 0):i===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=aj.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=aj.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}Qh.create=aj.create;Qh.toCanvas=Y_.bind(null,YV.render);Qh.toDataURL=Y_.bind(null,YV.renderToDataURL);Qh.toString=Y_.bind(null,function(e,t,r){return j6e.render(e,r)});const A6e=e=>e===0?"Nursery":`Grade ${e}`,_6e=()=>{const[e,t]=k.useState("payments"),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,l]=k.useState([]),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(!0),[p,g]=k.useState(!1),[x,v]=k.useState(!1),[y,b]=k.useState(!1),[N,A]=k.useState(null),[S,j]=k.useState(""),[E,C]=k.useState({start:"",end:""}),[I,T]=k.useState("ALL"),[P,H]=k.useState("ALL"),[q,ae]=k.useState({totalRevenue:0,totalTransactions:0,pendingFees:0,overdueStudentsCount:0}),[R,z]=k.useState({name:"",amount:"",academicTermId:"",applicableGrade:""}),[Y,U]=k.useState(null),[Q,pe]=k.useState(""),[F,M]=k.useState(""),[B,D]=k.useState({studentId:"",amount:"",method:"CASH",notes:""}),[X,V]=k.useState(!1),[ee,K]=k.useState(!1),[ce,xe]=k.useState("completed"),[G,Ce]=k.useState([]),[Ve,Se]=k.useState(!1),[ue,Me]=k.useState([]),[rt,We]=k.useState(!1);k.useEffect(()=>{Ue(),dt(),be(),at(),Je(),ve()},[]);const ve=async()=>{try{const ye=await Ae.get("/payments/stats");ae(ye.data)}catch(ye){console.error("Error fetching finance stats:",ye)}},Ue=async()=>{try{const ye=await Ae.get("/payments");ye.data.data&&Array.isArray(ye.data.data)?n(ye.data.data):Array.isArray(ye.data)?n(ye.data):n([])}catch(ye){console.error("Error fetching payments:",ye)}finally{m(!1)}},Je=async()=>{try{const Dt=(await Ae.get("/students")).data.map(Ft=>({id:Ft.id,firstName:Ft.firstName,lastName:Ft.lastName,admissionNumber:Ft.admissionNumber,guardianPhone:Ft.guardianPhone||"",class:Ft.class||void 0}));f(Dt)}catch(ye){console.error("Error fetching students:",ye)}},dt=async()=>{try{const ye=await Ae.get("/fees/templates");s(ye.data)}catch(ye){console.error("Error fetching fee templates:",ye)}},be=async()=>{try{const ye=await Ae.get("/academic-terms");l(ye.data)}catch(ye){console.error("Error fetching academic terms:",ye)}},at=async()=>{try{const ye=await Ae.get("/classes");u(ye.data)}catch(ye){console.error("Error fetching classes:",ye)}},ht=async()=>{try{Y?await Ae.put(`/fees/templates/${Y.id}`,{...R,amount:Number(R.amount),applicableGrade:Number(R.applicableGrade)}):await Ae.post("/fees/templates",{...R,amount:Number(R.amount),applicableGrade:Number(R.applicableGrade)}),v(!1),U(null),z({name:"",amount:"",academicTermId:"",applicableGrade:""}),dt()}catch(ye){console.error("Error saving fee template:",ye),alert("Failed to save fee template")}},_t=ye=>{U(ye),z({name:ye.name,amount:ye.amount.toString(),academicTermId:ye.academicTermId,applicableGrade:ye.applicableGrade.toString()}),v(!0)},Ct=async ye=>{var Dt,Ft;if(window.confirm("Are you sure you want to delete this fee template?"))try{await Ae.delete(`/fees/templates/${ye}`),dt()}catch(It){console.error("Error deleting fee template:",It),alert(((Ft=(Dt=It.response)==null?void 0:Dt.data)==null?void 0:Ft.error)||"Failed to delete fee template")}},xt=async()=>{var ye,Dt;if(!(!N||!Q))try{const Ft=await Ae.post("/fees/assign-class",{feeTemplateId:N,classId:Q,dueDate:F||void 0});b(!1),pe(""),M(""),A(null);const It=Ft.data;let At=`Successfully assigned fee to ${It.assigned} student(s)`;It.alreadyAssigned>0&&(At+=`
${It.alreadyAssigned} student(s) already had this fee assigned`),It.failed>0&&(At+=`
${It.failed} assignment(s) failed`),alert(At)}catch(Ft){console.error("Error assigning fee:",Ft);const It=((Dt=(ye=Ft.response)==null?void 0:ye.data)==null?void 0:Dt.error)||"Failed to assign fee";alert(typeof It=="string"?It:JSON.stringify(It))}},[nt,Qe]=k.useState(!1),tr=async(ye,Dt=!1)=>{var Ft,It,At;if(ye.preventDefault(),!nt){Qe(!0);try{await Ae.post("/payments",{...B,amount:Number(B.amount),forceCreate:Dt}),g(!1),D({studentId:"",amount:"",method:"CASH",notes:""}),Ue()}catch(qt){if(console.error("Error recording payment:",qt),((Ft=qt.response)==null?void 0:Ft.status)===409&&((At=(It=qt.response)==null?void 0:It.data)==null?void 0:At.warning)==="POTENTIAL_DUPLICATE"){const aa=qt.response.data.existingPayment,Ge=` Potential Duplicate Detected!

A similar payment was found:
 Amount: ZMW ${aa.amount}
 Transaction ID: ${aa.transactionId}
 Method: ${aa.method}
 Date: ${new Date(aa.paymentDate).toLocaleString()}

${qt.response.data.message}

Do you want to record this payment anyway?`;if(window.confirm(Ge))try{await Ae.post("/payments",{...B,amount:Number(B.amount),forceCreate:!0}),g(!1),D({studentId:"",amount:"",method:"CASH",notes:""}),Ue()}catch(vr){console.error("Error on retry:",vr),alert("Failed to record payment")}}else alert("Failed to record payment")}finally{Qe(!1)}}},jt=async ye=>{var Ft,It;const Dt=window.prompt("Please provide a reason for voiding this payment:");if(!Dt||Dt.trim().length<5){Dt!==null&&alert("Please provide a reason with at least 5 characters");return}try{await Ae.post(`/payments/${ye}/void`,{reason:Dt}),alert("Payment voided successfully"),Ue()}catch(At){console.error("Error voiding payment:",At),alert(((It=(Ft=At.response)==null?void 0:Ft.data)==null?void 0:It.message)||"Failed to void payment")}},$r=r.filter(ye=>{var Ge,vr;const Dt=ye.student.firstName.toLowerCase().includes(S.toLowerCase())||ye.student.lastName.toLowerCase().includes(S.toLowerCase())||ye.student.admissionNumber.toLowerCase().includes(S.toLowerCase())||((Ge=ye.transactionId)==null?void 0:Ge.toLowerCase().includes(S.toLowerCase())),Ft=I==="ALL"||ye.method===I,It=P==="ALL"||((vr=ye.student.class)==null?void 0:vr.id)===P,At=new Date(ye.paymentDate),qt=(!E.start||At>=new Date(E.start))&&(!E.end||At<=new Date(E.end)),aa=ce==="completed"?ye.status==="COMPLETED":ye.status==="VOIDED";return Dt&&Ft&&It&&qt&&aa}),ar=async()=>{Se(!0);try{const ye=await Ae.get("/fee-reminders/outstanding");Ce(ye.data)}catch(ye){console.error("Error fetching debtors:",ye)}finally{Se(!1)}},dr=async(ye,Dt=!1)=>{We(!0);try{const Ft=await Ae.post("/fee-reminders/send",{studentIds:ye||ue,isOverdue:Dt});alert(`${Ft.data.message}

Emails sent: ${Ft.data.results.emailsSent}
SMS sent: ${Ft.data.results.smsSent}`),Me([])}catch(Ft){console.error("Error sending reminders:",Ft),alert("Failed to send reminders")}finally{We(!1)}},qa=async ye=>{var Dt;try{const Ft=await Ae.get("/settings"),It=Ft.data.schoolName||"School",At=Ft.data.schoolAddress||"",qt=Ft.data.schoolPhone||"",aa=Ft.data.schoolEmail||"",Ge=new Et,vr=Ge.internal.pageSize.getWidth(),ys=Ge.internal.pageSize.getHeight(),Ot=JSON.stringify({id:ye.id,student:`${ye.student.firstName} ${ye.student.lastName}`,amount:ye.amount,date:ye.paymentDate,school:It,verified:!0}),bs=await Qh.toDataURL(Ot,{width:120,margin:0,color:{dark:"#1e293b",light:"#ffffff"}}),An=[30,58,138],ya=[241,245,249],Wr=[30,41,59],yr=[100,116,139];Ge.setFillColor(...An),Ge.rect(0,0,vr,5,"F"),Ge.setTextColor(...An),Ge.setFontSize(18),Ge.setFont("times","bold"),Ge.text(It.toUpperCase(),14,20),Ge.setFont("helvetica","normal"),Ge.setFontSize(9),Ge.setTextColor(...yr);let te=26;At&&(Ge.text(At,14,te),te+=5),(qt||aa)&&Ge.text([qt,aa].filter(Boolean).join(" | "),14,te);const fe=40;Ge.setDrawColor(226,232,240),Ge.line(14,fe,vr-14,fe);const oe=fe+15;Ge.setFont("helvetica","bold"),Ge.setFontSize(10),Ge.setTextColor(...yr),Ge.text("OFFICIAL RECEIPT",14,oe),Ge.setFontSize(16),Ge.setTextColor(0,0,0),Ge.text(`#${ye.id.substring(0,8).toUpperCase()}`,14,oe+8),Ge.setFontSize(10),Ge.setTextColor(...yr),Ge.text("Date Issued:",vr-50,oe,{align:"right"}),Ge.setFont("helvetica","bold"),Ge.setTextColor(...Wr),Ge.text(new Date(ye.paymentDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),vr-14,oe,{align:"right"}),Ge.setFillColor(220,252,231),Ge.setTextColor(22,163,74),Ge.roundedRect(vr-44,oe+3,30,8,4,4,"F"),Ge.setFontSize(7),Ge.text("VERIFIED",vr-29,oe+8,{align:"center"});const le=80,he=(vr-34)/2;Ge.setFont("helvetica","bold"),Ge.setFontSize(11),Ge.setTextColor(...An),Ge.text("STUDENT INFORMATION",14,le),Ge.setFontSize(10),Ge.setFont("helvetica","normal"),Ge.setTextColor(...yr),Ge.text("Name:",14,le+10),Ge.text("Admission No:",14,le+17),Ge.text("Class:",14,le+24),Ge.setTextColor(...Wr),Ge.setFont("helvetica","bold"),Ge.text(`${ye.student.firstName} ${ye.student.lastName}`,50,le+10),Ge.text(ye.student.admissionNumber,50,le+17),Ge.text(((Dt=ye.student.class)==null?void 0:Dt.name)||"N/A",50,le+24);const me=14+he+6;Ge.setFont("helvetica","bold"),Ge.setFontSize(11),Ge.setTextColor(...An),Ge.text("PAYMENT DETAILS",me,le),Ge.setFontSize(10),Ge.setFont("helvetica","normal"),Ge.setTextColor(...yr),Ge.text("Payment Method:",me,le+10),Ge.text("Reference No:",me,le+17),Ge.text("Received By:",me,le+24),Ge.setTextColor(...Wr),Ge.setFont("helvetica","bold"),Ge.text(ye.method.replace("_"," "),me+40,le+10),Ge.text(ye.transactionId||"N/A",me+40,le+17),Ge.text(ye.recordedBy.fullName,me+40,le+24),fx(Ge,{startY:le+40,head:[["DESCRIPTION","AMOUNT (ZMW)"]],body:[["School Fees Payment",Number(ye.amount).toLocaleString("en-US",{minimumFractionDigits:2})]],theme:"plain",headStyles:{fillColor:[248,250,252],textColor:[71,85,105],fontStyle:"bold",fontSize:9,halign:"left",cellPadding:10,lineWidth:{bottom:.5},lineColor:[226,232,240]},bodyStyles:{fontSize:11,textColor:[15,23,42],cellPadding:12,valign:"middle",lineWidth:{bottom:.5},lineColor:[241,245,249]},columnStyles:{1:{halign:"right",fontStyle:"bold"}},margin:{left:14,right:14}});const Te=Ge.lastAutoTable.finalY+10;Ge.setFillColor(...ya),Ge.roundedRect(vr-70,Te,56,20,1,1,"F"),Ge.setFontSize(9),Ge.setTextColor(...yr),Ge.text("Total Amount",vr-65,Te+7),Ge.setFontSize(14),Ge.setTextColor(...An),Ge.setFont("helvetica","bold"),Ge.text(`ZMW ${Number(ye.amount).toLocaleString("en-US",{minimumFractionDigits:2})}`,vr-65,Te+15);const Be=ys-50;Ge.setDrawColor(226,232,240),Ge.line(14,Be-5,vr-14,Be-5),Ge.addImage(bs,"PNG",14,Be+5,25,25),Ge.setFontSize(10),Ge.setTextColor(...An),Ge.setFont("helvetica","bold"),Ge.text("VERIFIED DOCUMENT",45,Be+12),Ge.setFontSize(8),Ge.setFont("helvetica","normal"),Ge.setTextColor(...yr),Ge.text("This receipt is system-generated and includes a secure QR code.",45,Be+18),Ge.text("No signature is required. Scan the QR code to verify authenticity.",45,Be+23),Ge.setFontSize(8),Ge.setTextColor(203,213,225),Ge.text(`Generated on ${new Date().toLocaleString()}`,vr-14,ys-10,{align:"right"}),Ge.save(`receipt_${ye.student.lastName}_${ye.id.substring(0,8)}.pdf`)}catch(Ft){console.error("Error generating receipt:",Ft),alert("Failed to generate receipt")}},Qt=ye=>{Me(Dt=>Dt.includes(ye)?Dt.filter(Ft=>Ft!==ye):[...Dt,ye])},Li=()=>{ue.length===G.length?Me([]):Me(G.map(ye=>ye.id))};return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Finance & Payments"}),o.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"Manage school fees and transactions"})]}),o.jsxs("div",{className:"flex space-x-3",children:[e==="fees"&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>V(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[o.jsx(Ni,{size:20}),o.jsx("span",{children:"Import Fee Templates"})]}),o.jsxs("button",{onClick:()=>{U(null),z({name:"",amount:"",academicTermId:"",applicableGrade:""}),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Create Fee Template"})]})]}),e==="payments"&&o.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Record Payment"})]})]})]}),o.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg w-full md:w-fit mb-6 overflow-x-auto scrollbar-hide",children:[o.jsx("button",{onClick:()=>t("payments"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="payments"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Payments"}),o.jsxs("button",{onClick:()=>t("mobile-money"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${e==="mobile-money"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:[o.jsx(_4,{size:16}),"Mobile Money"]}),o.jsx("button",{onClick:()=>t("fees"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="fees"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Fee Structures"}),o.jsx("button",{onClick:()=>t("scholarships"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="scholarships"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Scholarships"}),o.jsxs("button",{onClick:()=>t("reports"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${e==="reports"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:[o.jsx(ti,{size:16}),"Reports"]}),o.jsxs("button",{onClick:()=>{t("reminders"),ar()},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${e==="reminders"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:[o.jsx(dh,{size:16}),"Reminders"]})]}),e==="reports"?o.jsx(IAe,{}):e==="scholarships"?o.jsx(MAe,{}):e==="mobile-money"?o.jsx(RAe,{students:d,onPaymentSuccess:Ue}):e==="reminders"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Fee Reminders"}),o.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"Send payment reminders to parents with outstanding fees"})]}),o.jsxs("div",{className:"flex gap-3",children:[ue.length>0&&o.jsxs("button",{onClick:()=>dr(),disabled:rt,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[o.jsx(Mu,{size:18}),"Send Reminder (",ue.length,")"]}),o.jsxs("button",{onClick:()=>dr(G.map(ye=>ye.id),!0),disabled:rt||G.length===0,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 transition-colors",children:[o.jsx(dh,{size:18}),"Send to All Overdue"]})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 w-12",children:o.jsx("input",{type:"checkbox",checked:ue.length===G.length&&G.length>0,onChange:Li,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Student"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Class"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Guardian"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Outstanding"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Status"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ve?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:"Loading students with outstanding fees..."})}):G.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-3",children:o.jsx(j4,{className:"text-green-600 dark:text-green-400",size:24})}),o.jsx("p",{className:"font-medium text-slate-700 dark:text-white",children:"All fees are paid!"}),o.jsx("p",{className:"text-sm dark:text-gray-400",children:"No students with outstanding balances"})]})})}):G.map(ye=>o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${ue.includes(ye.id)?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("input",{type:"checkbox",checked:ue.includes(ye.id),onChange:()=>Qt(ye.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsxs("div",{className:"font-medium text-slate-800 dark:text-white",children:[ye.firstName," ",ye.lastName]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:ye.admissionNumber})]}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:ye.className||"N/A"}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-slate-800 dark:text-white",children:ye.guardianName||"N/A"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:ye.guardianPhone||"No phone"}),ye.guardianEmail&&o.jsx("div",{className:"text-xs text-blue-600",children:ye.guardianEmail})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:"text-lg font-bold text-red-600",children:["ZMW ",Number(ye.outstandingAmount).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4",children:ye.isOverdue?o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Overdue"}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pending"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("button",{onClick:()=>dr([ye.id],ye.isOverdue),disabled:rt,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",children:[o.jsx(Mu,{size:14}),"Send"]})})]},ye.id))})]})})}),G.length>0&&o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Total Students"}),o.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:G.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Total Outstanding"}),o.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["ZMW ",G.reduce((ye,Dt)=>ye+Number(Dt.outstandingAmount),0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Overdue Students"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:G.filter(ye=>ye.isOverdue).length})]})]})})]}):e==="payments"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg",children:o.jsx(j4,{size:24})}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Total Revenue"})]}),o.jsxs("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["ZMW ",q.totalRevenue.toLocaleString()]}),o.jsx("p",{className:"text-sm text-green-600 mt-1",children:"All time revenue"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:o.jsx(Do,{size:24})}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Transactions"})]}),o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:q.totalTransactions}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-1",children:"Total transactions"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg",children:o.jsx(Va,{size:24})}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-gray-400",children:"Pending Fees"})]}),o.jsxs("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["ZMW ",q.pendingFees.toLocaleString()]}),o.jsxs("p",{className:"text-sm text-red-500 mt-1",children:[q.overdueStudentsCount," students overdue"]})]})]}),o.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg mb-6 w-fit",children:[o.jsx("button",{onClick:()=>xe("completed"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${ce==="completed"?"bg-white dark:bg-slate-800 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Valid Payments"}),o.jsx("button",{onClick:()=>xe("voided"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${ce==="voided"?"bg-white dark:bg-slate-800 text-red-600 shadow-sm":"text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-200"}`,children:"Voided Transactions"})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),o.jsx("input",{type:"text",placeholder:"Search by student name, ID, or reference...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white",value:S,onChange:ye=>j(ye.target.value)})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>K(!0),className:`px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors border ${P!=="ALL"||I!=="ALL"||E.start||E.end?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[o.jsx(I3,{size:18}),o.jsx("span",{children:"Filter"}),(P!=="ALL"||I!=="ALL"||E.start||E.end)&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:[P!=="ALL",I!=="ALL",E.start||E.end].filter(Boolean).length})]}),o.jsx(_A,{data:$r.map(ye=>{var Dt;return{date:new Date(ye.paymentDate).toLocaleDateString(),studentName:`${ye.student.firstName} ${ye.student.lastName}`,admissionNumber:ye.student.admissionNumber,className:((Dt=ye.student.class)==null?void 0:Dt.name)||"No Class",amount:Number(ye.amount).toFixed(2),method:ye.method.replace("_"," "),transactionId:ye.transactionId||"-",notes:ye.notes||"-",recordedBy:ye.recordedBy.fullName}}),columns:[{key:"date",header:"Date"},{key:"studentName",header:"Student Name"},{key:"admissionNumber",header:"Admission #"},{key:"className",header:"Class"},{key:"amount",header:"Amount (ZMW)"},{key:"method",header:"Method"},{key:"transactionId",header:"Transaction ID"},{key:"notes",header:"Notes"},{key:"recordedBy",header:"Recorded By"}],filename:`payments_export_${new Date().toISOString().split("T")[0]}`})]})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Date"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Student"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Class"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Amount (ZMW)"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Method"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Transaction ID"}),ce==="voided"?o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Void Reason"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Voided By"})]}):o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Notes"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300",children:"Recorded By"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 dark:text-gray-300 text-right",children:"Actions"})]})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:h?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:"Loading payments..."})}):$r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-slate-500 dark:text-gray-400",children:"No payments found"})}):$r.map(ye=>{var Dt,Ft;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:new Date(ye.paymentDate).toLocaleDateString()}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsxs("div",{className:"font-medium text-slate-800 dark:text-white",children:[ye.student.firstName," ",ye.student.lastName]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:ye.student.admissionNumber})]}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:((Dt=ye.student.class)==null?void 0:Dt.name)||"No Class"}),o.jsx("td",{className:`px-6 py-4 font-medium ${ye.status==="VOIDED"?"text-slate-400 dark:text-slate-500 line-through":"text-slate-800 dark:text-white"}`,children:Number(ye.amount).toLocaleString()}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                            ${ye.method==="CASH"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":ye.method==="MOBILE_MONEY"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"}`,children:ye.method.replace("_"," ")})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300 font-mono text-sm",children:ye.transactionId||"-"}),ce==="voided"?o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-red-600 dark:text-red-400 text-sm italic",children:ye.voidReason||"No reason"}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:((Ft=ye.voidedBy)==null?void 0:Ft.fullName)||"Unknown"})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-slate-500 dark:text-gray-400 text-sm max-w-xs truncate",children:ye.notes||"-"}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-gray-300",children:ye.recordedBy.fullName}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs("button",{onClick:()=>qa(ye),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-gray-200 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Download Receipt",children:[o.jsx(Os,{size:14}),"Receipt"]}),o.jsxs("button",{onClick:()=>jt(ye.id),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors",title:"Void this payment",children:[o.jsx(ra,{size:14}),"Void"]})]})})]})]},ye.id)})})]})})})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.map(ye=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-1",children:ye.name}),o.jsx("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-gray-300",children:A6e(ye.applicableGrade)})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>_t(ye),className:"p-1 text-slate-400 hover:text-blue-600 transition-colors",children:o.jsx(uo,{size:16})}),o.jsx("button",{onClick:()=>Ct(ye.id),className:"p-1 text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(fs,{size:16})})]})]}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-4",children:ye.academicTerm.name}),o.jsx("div",{className:"flex items-baseline mb-6",children:o.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(ye.amount).toLocaleString()]})}),o.jsxs("button",{onClick:()=>{A(ye.id),b(!0)},className:"w-full py-2 px-4 bg-white border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(en,{size:18}),o.jsx("span",{children:"Assign to Class"})]})]},ye.id)),a.length===0&&o.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:o.jsx(ea,{className:"text-slate-400 dark:text-gray-500",size:24})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No fee templates"}),o.jsx("p",{className:"text-slate-500 dark:text-gray-400 mt-1",children:"Create a fee template to get started"})]})]}),ee&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Filter Payments"}),o.jsx("button",{onClick:()=>K(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:o.jsx(ra,{size:20,className:"text-slate-500"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Class"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:P,onChange:ye=>H(ye.target.value),children:[o.jsx("option",{value:"ALL",children:"All Classes"}),c.map(ye=>o.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Payment Method"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:I,onChange:ye=>T(ye.target.value),children:[o.jsx("option",{value:"ALL",children:"All Methods"}),o.jsx("option",{value:"CASH",children:"Cash"}),o.jsx("option",{value:"MOBILE_MONEY",children:"Mobile Money"}),o.jsx("option",{value:"BANK_DEPOSIT",children:"Bank Deposit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Date Range"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"date",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:E.start,onChange:ye=>C({...E,start:ye.target.value})}),o.jsx("span",{className:"text-slate-400",children:"to"}),o.jsx("input",{type:"date",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:E.end,onChange:ye=>C({...E,end:ye.target.value})})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsx("button",{onClick:()=>{H("ALL"),T("ALL"),C({start:"",end:""})},className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Clear All"}),o.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})]})]})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Record New Payment"}),o.jsxs("form",{onSubmit:tr,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-2",children:"Find Student"}),o.jsx(FV,{students:d,classes:c,value:B.studentId,onChange:ye=>D({...B,studentId:ye})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Amount (ZMW)"}),o.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0.00",value:B.amount,onChange:ye=>D({...B,amount:ye.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Payment Method"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:B.method,onChange:ye=>D({...B,method:ye.target.value}),children:[o.jsx("option",{value:"CASH",children:"Cash"}),o.jsx("option",{value:"MOBILE_MONEY",children:"Mobile Money"}),o.jsx("option",{value:"BANK_DEPOSIT",children:"Bank Deposit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Notes"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Optional notes about this payment",rows:2,value:B.notes,onChange:ye=>D({...B,notes:ye.target.value})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:nt,className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 ${nt?"opacity-70 cursor-not-allowed":""}`,children:nt?"Saving...":"Save Payment"})]})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:Y?"Edit Fee Template":"Create Fee Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Fee Name"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"e.g. Term 1 Tuition",value:R.name,onChange:ye=>z({...R,name:ye.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Amount (ZMW)"}),o.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"0.00",value:R.amount,onChange:ye=>z({...R,amount:ye.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Academic Term"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:R.academicTermId,onChange:ye=>z({...R,academicTermId:ye.target.value}),children:[o.jsx("option",{value:"",children:"Select Term"}),i.map(ye=>o.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Applicable Grade"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:R.applicableGrade,onChange:ye=>z({...R,applicableGrade:ye.target.value}),children:[o.jsx("option",{value:"",children:"Select Grade"}),o.jsx("option",{value:"0",children:"Nursery"}),[...Array(12)].map((ye,Dt)=>o.jsxs("option",{value:Dt+1,children:["Grade ",Dt+1]},Dt+1))]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:ht,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:Y?"Update Template":"Create Template"})]})]})}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Assign Fee to Class"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-4",children:"This will assign the selected fee to all active students in the selected class. Scholarship discounts will be applied automatically."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-gray-200 mb-1",children:"Select Class"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:Q,onChange:ye=>pe(ye.target.value),children:[o.jsx("option",{value:"",children:"Select Class"}),c.map(ye=>o.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Va,{size:16}),o.jsx("span",{children:"Payment Due Date (Optional)"})]})}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:F,onChange:ye=>M(ye.target.value)}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400 mt-1",children:"Set a deadline for this fee payment"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:()=>{b(!1),M("")},className:"px-4 py-2 text-slate-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:xt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Assign Fee"})]})]})}),o.jsx(Mw,{isOpen:X,onClose:()=>V(!1),entityName:"Fee Templates",apiEndpoint:"/api/v1/fees/templates/bulk",templateFields:["name","amount","applicableGrade"],onSuccess:dt,instructions:["Upload a CSV file with fee template details.","Required columns: name, amount, applicableGrade.","Amount should be a positive number.","Applicable grade: -2 (Baby Class), -1 (Middle), 0 (Nursery), 1-12 (Grades).","Academic term will be set to the current active term automatically."]})]})},E6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(new Date().toISOString().split("T")[0]),[i,l]=k.useState([]),[c,u]=k.useState({}),[d,f]=k.useState(!1),[h,m]=k.useState(!1),[p,g]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const S=await Ae.get("/classes");t(S.data),S.data.length>0&&n(S.data[0].id)}catch(S){console.error("Error fetching classes:",S)}finally{g(!1)}})()},[]),k.useEffect(()=>{r&&x()},[r,a]);const x=async()=>{f(!0);try{const S=(await Ae.get(`/classes/${r}/students`)).data;l(S);const E=(await Ae.get("/attendance",{params:{classId:r,date:new Date(a).toISOString()}})).data,C={};S.forEach(I=>{const T=E.find(P=>P.studentId===I.id);T?C[I.id]=T.status:C[I.id]="PRESENT"}),u(C)}catch(A){console.error("Error fetching data:",A)}finally{f(!1)}},v=(A,S)=>{u(j=>({...j,[A]:S}))},y=()=>{const A={...c};i.forEach(S=>{A[S.id]="PRESENT"}),u(A)},b=async()=>{m(!0);try{const A=Object.entries(c).map(([S,j])=>({studentId:S,status:j}));await Ae.post("/attendance",{classId:r,date:new Date(a).toISOString(),records:A})}catch(A){console.error("Error saving attendance:",A),alert("Failed to save attendance")}finally{m(!1)}},N=k.useMemo(()=>{const A=i.length;if(A===0)return{present:0,absent:0,late:0,presentPct:0};const S=Object.values(c).filter(C=>C==="PRESENT").length,j=Object.values(c).filter(C=>C==="ABSENT").length,E=Object.values(c).filter(C=>C==="LATE").length;return{present:S,absent:j,late:E,presentPct:Math.round(S/A*100)}},[c,i]);return p?o.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading classes..."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Attendance Register"}),o.jsx("p",{className:"text-slate-500",children:"Manage daily attendance records"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto bg-white p-2 rounded-lg shadow-sm border border-slate-200",children:[o.jsx("select",{value:r,onChange:A=>n(A.target.value),className:"px-4 py-2 border-r border-slate-200 focus:outline-none bg-transparent min-w-[150px]",children:e.map(A=>o.jsx("option",{value:A.id,children:A.name},A.id))}),o.jsx("input",{type:"date",value:a,onChange:A=>s(A.target.value),className:"px-4 py-2 focus:outline-none bg-transparent"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Total Students"}),o.jsx("p",{className:"text-2xl font-bold text-slate-800",children:i.length})]}),o.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:o.jsx(en,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Present"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.present})]}),o.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:o.jsx(da,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Absent"}),o.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.absent})]}),o.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:o.jsx(fh,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Late"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.late})]}),o.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-lg",children:o.jsx(_l,{size:20})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-4 bg-slate-50",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[o.jsx(Va,{size:20}),o.jsx("span",{className:"font-medium",children:new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-1",children:[o.jsx(ag,{size:16}),o.jsx("span",{children:"Mark All Present"})]})]}),d?o.jsxs("div",{className:"p-12 text-center text-slate-500 flex flex-col items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),"Loading students..."]}):i.length===0?o.jsx("div",{className:"p-12 text-center text-slate-500",children:"No students found in this class."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 w-16",children:"#"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Student Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Admission No."}),o.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-center",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map((A,S)=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-slate-500",children:S+1}),o.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800",children:[A.firstName," ",A.lastName]}),o.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono text-sm",children:A.admissionNumber}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx("button",{onClick:()=>v(A.id,"PRESENT"),className:`p-2 rounded-lg border transition-all ${c[A.id]==="PRESENT"?"bg-green-100 border-green-300 text-green-700 ring-2 ring-green-500 ring-offset-1":"bg-white border-slate-200 text-slate-400 hover:bg-slate-50"}`,title:"Present",children:o.jsx(da,{size:20})}),o.jsx("button",{onClick:()=>v(A.id,"ABSENT"),className:`p-2 rounded-lg border transition-all ${c[A.id]==="ABSENT"?"bg-red-100 border-red-300 text-red-700 ring-2 ring-red-500 ring-offset-1":"bg-white border-slate-200 text-slate-400 hover:bg-slate-50"}`,title:"Absent",children:o.jsx(fh,{size:20})}),o.jsx("button",{onClick:()=>v(A.id,"LATE"),className:`p-2 rounded-lg border transition-all ${c[A.id]==="LATE"?"bg-yellow-100 border-yellow-300 text-yellow-700 ring-2 ring-yellow-500 ring-offset-1":"bg-white border-slate-200 text-slate-400 hover:bg-slate-50"}`,title:"Late",children:o.jsx(_l,{size:20})})]})})]},A.id))})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50 flex justify-end",children:o.jsxs("button",{onClick:b,disabled:d||h||i.length===0,className:"bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[o.jsx(td,{size:20}),o.jsx("span",{children:h?"Saving...":"Save Attendance"})]})})]})]})},C6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(1),[i,l]=k.useState([]),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState({title:"",description:"",orderIndex:0});k.useEffect(()=>{p()},[]),k.useEffect(()=>{r&&a?g():l([])},[r,a]);const p=async()=>{try{const y=await Ae.get("/subjects");t(y.data),y.data.length>0&&n(y.data[0].id)}catch(y){console.error("Error fetching subjects:",y)}},g=async()=>{u(!0);try{const y=await Ae.get(`/syllabus/topics?subjectId=${r}&gradeLevel=${a}`);l(y.data)}catch(y){console.error("Error fetching topics:",y)}finally{u(!1)}},x=async y=>{y.preventDefault();try{await Ae.post("/syllabus/topics",{...h,subjectId:r,gradeLevel:a,orderIndex:Number(h.orderIndex)}),f(!1),m({title:"",description:"",orderIndex:i.length+1}),g()}catch(b){console.error("Error adding topic:",b),alert("Failed to add topic")}},v=async y=>{if(confirm("Are you sure you want to delete this topic?"))try{await Ae.delete(`/syllabus/topics/${y}`),g()}catch(b){console.error("Error deleting topic:",b)}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Subject"}),o.jsx("select",{value:r,onChange:y=>n(y.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-w-[200px]",children:e.map(y=>o.jsxs("option",{value:y.id,children:[y.name," (",y.code,")"]},y.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Grade Level"}),o.jsx("select",{value:a,onChange:y=>s(Number(y.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-w-[120px]",children:[...Array(12)].map((y,b)=>o.jsxs("option",{value:b+1,children:["Grade ",b+1]},b+1))})]})]}),o.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",disabled:!r,children:[o.jsx(fa,{size:20}),"Add Topic"]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 font-medium text-gray-700",children:"Topics List"}),c?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading topics..."}):i.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"No topics defined for this subject and grade."}):o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(y=>o.jsxs("div",{className:"p-4 hover:bg-white transition-colors flex justify-between items-start group",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:y.title}),y.description&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),o.jsx("button",{onClick:()=>v(y.id),className:"text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(fs,{size:18})})]},y.id))})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Topic"}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic Title"}),o.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.title,onChange:y=>m({...h,title:y.target.value}),placeholder:"e.g. Introduction to Algebra"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:3,value:h.description,onChange:y=>m({...h,description:y.target.value}),placeholder:"Brief description of what this topic covers..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Index"}),o.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.orderIndex,onChange:y=>m({...h,orderIndex:Number(y.target.value)})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Topic"})]})]})]})})]})},XV=()=>{const[e,t]=k.useState("list"),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,l]=k.useState(!0),[c,u]=k.useState(""),[d,f]=k.useState(!1),[h,m]=k.useState(null),[p,g]=k.useState({name:"",code:"",teacherId:""}),[x,v]=k.useState(!1);k.useEffect(()=>{y(),b()},[]);const y=async()=>{try{const C=await Ae.get("/subjects");n(C.data)}catch(C){console.error("Failed to fetch subjects",C)}finally{l(!1)}},b=async()=>{try{const C=await Ae.get("/users?role=TEACHER");s(C.data)}catch(C){console.error("Failed to fetch teachers",C)}},N=async C=>{C.preventDefault();try{h?await Ae.put(`/subjects/${h.id}`,p):await Ae.post("/subjects",p),y(),f(!1),g({name:"",code:"",teacherId:""}),m(null)}catch(I){console.error("Failed to save subject",I),alert("Failed to save subject")}},A=async C=>{if(window.confirm("Are you sure you want to delete this subject?"))try{await Ae.delete(`/subjects/${C}`),y()}catch(I){console.error("Failed to delete subject",I)}},S=C=>{m(C),g({name:C.name,code:C.code,teacherId:C.teacherId||""}),f(!0)},j=()=>{m(null),g({name:"",code:"",teacherId:""}),f(!0)},E=r.filter(C=>C.name.toLowerCase().includes(c.toLowerCase())||C.code.toLowerCase().includes(c.toLowerCase()));return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Subjects Management"})}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-slate-700",children:[o.jsxs("button",{onClick:()=>t("list"),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${e==="list"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[o.jsx(JQ,{size:18}),"Subject List"]}),o.jsxs("button",{onClick:()=>t("syllabus"),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors ${e==="syllabus"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[o.jsx(ea,{size:18}),"Syllabus Definition"]})]}),e==="list"?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search subjects...",value:c,onChange:C=>u(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(Ni,{size:20}),o.jsx("span",{children:"Import Subjects"})]}),o.jsxs("button",{onClick:j,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add Subject"})]})]})]}),o.jsx("div",{className:"overflow-x-auto border border-gray-100 dark:border-slate-700 rounded-lg",children:o.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Code"}),o.jsx("th",{className:"px-6 py-3",children:"Name"}),o.jsx("th",{className:"px-6 py-3",children:"Teacher"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:i?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading subjects..."})}):E.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No subjects found"})}):E.map(C=>{var I;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:C.code}),o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:C.name}),o.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:((I=C.teacher)==null?void 0:I.fullName)||o.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"Not assigned"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>S(C),className:"text-blue-600 hover:text-blue-800 p-1",children:o.jsx(uo,{size:18})}),o.jsx("button",{onClick:()=>A(C.id),className:"text-red-600 hover:text-red-800 p-1",children:o.jsx(fs,{size:18})})]})})]},C.id)})})]})})]}):o.jsx("div",{className:"p-6",children:o.jsx(C6e,{})})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:h?"Edit Subject":"Add Subject"}),o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject Name"}),o.jsx("input",{type:"text",required:!0,value:p.name,onChange:C=>g({...p,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. Mathematics"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject Code"}),o.jsx("input",{type:"text",required:!0,value:p.code,onChange:C=>g({...p,code:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. MATH101"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assign Teacher (Optional)"}),o.jsxs("select",{value:p.teacherId,onChange:C=>g({...p,teacherId:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"-- Select Teacher --"}),a.map(C=>o.jsx("option",{value:C.id,children:C.fullName},C.id))]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:h?"Update":"Create"})]})]})]})}),o.jsx(Mw,{isOpen:x,onClose:()=>v(!1),entityName:"Subjects",apiEndpoint:"/api/v1/subjects/bulk",templateFields:["name","code"],onSuccess:y,instructions:["Upload a CSV file with subject details.","Required columns: name, code.","Code should be a unique identifier (e.g., MATH, ENG, SCI)."]})]})},T6e=({classId:e,subjectId:t})=>{const[r,n]=k.useState("progress"),[a,s]=k.useState([]),[i,l]=k.useState([]),[c,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState({weekStartDate:"",title:"",content:"",termId:""}),[p,g]=k.useState([]);k.useEffect(()=>{e&&t&&(r==="progress"?v():y())},[e,t,r]),k.useEffect(()=>{x()},[]);const x=async()=>{try{const A=await Ae.get("/academic-terms");g(A.data);const S=A.data.find(j=>j.isActive);S&&m(j=>({...j,termId:S.id}))}catch(A){console.error("Error fetching terms:",A)}},v=async()=>{u(!0);try{const A=await Ae.get(`/syllabus/progress?classId=${e}&subjectId=${t}`);s(A.data)}catch(A){console.error("Error fetching progress:",A)}finally{u(!1)}},y=async()=>{u(!0);try{const A=await Ae.get(`/syllabus/lesson-plans?classId=${e}&subjectId=${t}`);l(A.data)}catch(A){console.error("Error fetching plans:",A)}finally{u(!1)}},b=async(A,S)=>{try{await Ae.put(`/syllabus/progress/${A}/${e}`,{status:S}),v()}catch(j){console.error("Error updating status:",j)}},N=async A=>{A.preventDefault();try{await Ae.post("/syllabus/lesson-plans",{...h,classId:e,subjectId:t,weekStartDate:new Date(h.weekStartDate).toISOString()}),f(!1),m(S=>({...S,title:"",content:""})),y()}catch(S){console.error("Error creating plan:",S),alert("Failed to create lesson plan")}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"border-b border-gray-200 flex",children:[o.jsx("button",{onClick:()=>n("progress"),className:`px-6 py-3 text-sm font-medium transition-colors ${r==="progress"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Curriculum Progress"}),o.jsx("button",{onClick:()=>n("plans"),className:`px-6 py-3 text-sm font-medium transition-colors ${r==="plans"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Lesson Plans"})]}),o.jsx("div",{className:"p-6",children:r==="progress"?o.jsx("div",{className:"space-y-4",children:c?o.jsx("div",{className:"text-center text-gray-500",children:"Loading progress..."}):a.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No topics defined for this subject."}):a.map(A=>o.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border border-gray-100",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:A.title}),A.description&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.description})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>b(A.id,"PENDING"),className:`p-1.5 rounded-full transition-colors ${A.status==="PENDING"?"bg-gray-200 text-gray-600":"text-gray-300 hover:bg-gray-100"}`,title:"Pending",children:o.jsx(yR,{size:20})}),o.jsx("button",{onClick:()=>b(A.id,"IN_PROGRESS"),className:`p-1.5 rounded-full transition-colors ${A.status==="IN_PROGRESS"?"bg-blue-100 text-blue-600":"text-gray-300 hover:bg-gray-100"}`,title:"In Progress",children:o.jsx(_l,{size:20})}),o.jsx("button",{onClick:()=>b(A.id,"COMPLETED"),className:`p-1.5 rounded-full transition-colors ${A.status==="COMPLETED"?"bg-green-100 text-green-600":"text-gray-300 hover:bg-gray-100"}`,title:"Completed",children:o.jsx(da,{size:20})})]})]},A.id))}):o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o.jsx(fa,{size:18}),"Add Lesson Plan"]})}),o.jsx("div",{className:"space-y-4",children:c?o.jsx("div",{className:"text-center text-gray-500",children:"Loading plans..."}):i.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No lesson plans found."}):i.map(A=>o.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:A.title}),o.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[o.jsx(Va,{size:12}),"Week of ",new Date(A.weekStartDate).toLocaleDateString()]})]}),o.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:A.teacher.fullName})]}),o.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:A.content})]},A.id))})]})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Lesson Plan"}),o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Week Start Date"}),o.jsx("input",{type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.weekStartDate,onChange:A=>m({...h,weekStartDate:A.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:h.title,onChange:A=>m({...h,title:A.target.value}),placeholder:"e.g. Week 3: Quadratic Equations"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),o.jsx("textarea",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:6,value:h.content,onChange:A=>m({...h,content:A.target.value}),placeholder:"Detail your lesson plan here..."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Plan"})]})]})]})})]})},P6e=e=>e===0?"Nursery":`Grade ${e}`,ZV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(!0),[i,l]=k.useState(""),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(null),[y,b]=k.useState([]),[N,A]=k.useState([]),[S,j]=k.useState(""),[E,C]=k.useState([]),[I,T]=k.useState(!1),[P,H]=k.useState(null),[q,ae]=k.useState(""),[R,z]=k.useState({name:"",gradeLevel:1,teacherId:"",academicTermId:"",subjectIds:[]}),[Y,U]=k.useState([]),[Q,pe]=k.useState([]);k.useEffect(()=>{F(),M(),B(),D()},[]);const F=async()=>{try{const ve=await Ae.get("/classes");t(ve.data)}catch(ve){console.error("Failed to fetch classes",ve)}finally{s(!1)}},M=async()=>{try{const ve=await Ae.get("/subjects");n(ve.data)}catch(ve){console.error("Failed to fetch subjects",ve)}},B=async()=>{try{const ve=await Ae.get("/users/teachers");console.log("Teachers fetched:",ve.data),U(ve.data)}catch(ve){console.error("Failed to fetch teachers",ve)}},D=async()=>{try{const ve=await Ae.get("/academic-terms");console.log("Terms fetched:",ve.data),pe(ve.data)}catch(ve){console.error("Failed to fetch terms",ve)}},X=async ve=>{try{const Ue=await Ae.get(`/classes/${ve}/students`);b(Ue.data)}catch(Ue){console.error("Failed to fetch class students",Ue)}},V=async()=>{try{const ve=await Ae.get("/students");A(ve.data)}catch(ve){console.error("Failed to fetch all students",ve)}},ee=async ve=>{v(ve),await X(ve.id),await V(),C([]),g(!0)},K=ve=>{H(ve),ve.subjects.length>0?ae(ve.subjects[0].id):ae(""),T(!0)},ce=async()=>{if(!(!x||E.length===0))try{await Ae.post(`/classes/${x.id}/students`,{studentIds:E}),await X(x.id),await F(),C([]),alert("Students added successfully")}catch(ve){console.error("Failed to add students",ve),alert("Failed to add students")}},xe=ve=>{C(Ue=>Ue.includes(ve)?Ue.filter(Je=>Je!==ve):[...Ue,ve])},G=async ve=>{ve.preventDefault();try{const Ue={...R,gradeLevel:Number(R.gradeLevel)};d?await Ae.put(`/classes/${d.id}`,Ue):await Ae.post("/classes",Ue),F(),u(!1),Ve()}catch(Ue){console.error("Failed to save class",Ue),alert("Failed to save class. Ensure Teacher ID and Term ID are valid UUIDs.")}},Ce=async ve=>{if(window.confirm("Are you sure you want to delete this class?"))try{await Ae.delete(`/classes/${ve}`),F()}catch(Ue){console.error("Failed to delete class",Ue)}},Ve=()=>{z({name:"",gradeLevel:1,teacherId:"",academicTermId:"",subjectIds:[]}),f(null)},Se=ve=>{f(ve),z({name:ve.name,gradeLevel:ve.gradeLevel,teacherId:ve.teacherId,academicTermId:ve.academicTermId,subjectIds:ve.subjects.map(Ue=>Ue.id)}),u(!0)},ue=()=>{Ve(),u(!0)},Me=ve=>{z(Ue=>{const Je=Ue.subjectIds;return Je.includes(ve)?{...Ue,subjectIds:Je.filter(dt=>dt!==ve)}:{...Ue,subjectIds:[...Je,ve]}})},rt=e.filter(ve=>ve.name.toLowerCase().includes(i.toLowerCase())),We=N.filter(ve=>ve.classId!==(x==null?void 0:x.id)&&(ve.firstName.toLowerCase().includes(S.toLowerCase())||ve.lastName.toLowerCase().includes(S.toLowerCase())||ve.admissionNumber.includes(S)));return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Class Sections"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(Ni,{size:20}),o.jsx("span",{children:"Import Classes"})]}),o.jsxs("button",{onClick:ue,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add Class"})]})]})]}),a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading classes..."})}):rt.length===0?o.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:o.jsx("p",{className:"text-gray-400 dark:text-gray-500 mb-2",children:"No classes defined. Create one to start adding students."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:rt.map(ve=>{var Ue;return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ve.name}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P6e(ve.gradeLevel),"  ",ve._count.students," Students"]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>K(ve),className:"text-gray-400 hover:text-purple-600",title:"Syllabus & Plans",children:o.jsx(Os,{size:18})}),o.jsx("button",{onClick:()=>ee(ve),className:"text-gray-400 hover:text-green-600",title:"Manage Students",children:o.jsx(en,{size:18})}),o.jsx("button",{onClick:()=>Se(ve),className:"text-gray-400 hover:text-blue-600",children:o.jsx(uo,{size:18})}),o.jsx("button",{onClick:()=>Ce(ve.id),className:"text-gray-400 hover:text-red-600",children:o.jsx(fs,{size:18})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 flex items-center",children:[o.jsx(ea,{size:16,className:"mr-2"}),"Subjects (",ve.subjects.length,")"]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[ve.subjects.map(Je=>o.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-md font-medium border border-blue-100 dark:border-blue-800",children:Je.name},Je.id)),ve.subjects.length===0&&o.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 italic",children:"No subjects assigned"})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-700 flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Teacher:"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:((Ue=ve.teacher)==null?void 0:Ue.fullName)||"Unassigned"})]})]},ve.id)})}),I&&P&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-5xl my-8 h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Class Syllabus & Lesson Plans"}),o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Class: ",P.name]})]}),o.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Subject"}),o.jsxs("select",{value:q,onChange:ve=>ae(ve.target.value),className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[P.subjects.length===0&&o.jsx("option",{value:"",children:"No subjects assigned"}),P.subjects.map(ve=>o.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pb-safe",children:q?o.jsx(T6e,{classId:P.id,subjectId:q}):o.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Please select a subject to view syllabus and lesson plans."})})]})}),p&&x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-4xl my-8 h-[80vh] flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Manage Students"}),o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Class: ",x.name]})]}),o.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6 overflow-hidden",children:[o.jsxs("div",{className:"flex flex-col border dark:border-slate-700 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-3 border-b dark:border-slate-600 font-medium text-gray-700 dark:text-gray-200",children:["Current Students (",y.length,")"]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 pb-safe",children:y.length===0?o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-center py-4",children:"No students in this class"}):y.map(ve=>o.jsx("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700",children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium dark:text-white",children:[ve.firstName," ",ve.lastName]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ve.admissionNumber})]})},ve.id))})]}),o.jsxs("div",{className:"flex flex-col border dark:border-slate-700 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-3 border-b dark:border-slate-600 font-medium text-gray-700 dark:text-gray-200 flex justify-between items-center",children:[o.jsx("span",{children:"Add Students"}),o.jsxs("button",{onClick:ce,disabled:E.length===0,className:`text-xs px-3 py-1 rounded ${E.length>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 dark:bg-slate-600 text-gray-400 dark:text-gray-500 cursor-not-allowed"}`,children:["Add Selected (",E.length,")"]})]}),o.jsx("div",{className:"p-2 border-b dark:border-slate-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(ei,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search students...",value:S,onChange:ve=>j(ve.target.value),className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-200 dark:border-slate-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 pb-safe",children:We.length===0?o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-center py-4",children:"No students found"}):We.map(ve=>{var Ue;return o.jsxs("label",{className:"flex items-center space-x-3 p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:E.includes(ve.id),onChange:()=>xe(ve.id),className:"rounded text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium dark:text-white",children:[ve.firstName," ",ve.lastName]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ve.admissionNumber,"  Current Class: ",((Ue=N.find(Je=>Je.id===ve.id))==null?void 0:Ue.classId)===ve.classId?"Other":"None"]})]})]},ve.id)})})]})]})]})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto pb-safe",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-2xl my-8 max-h-[90vh] overflow-y-auto pb-safe",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:d?"Edit Class":"Add Class"}),o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class Name"}),o.jsx("input",{type:"text",required:!0,value:R.name,onChange:ve=>z({...R,name:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. Grade 10A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Grade Level"}),o.jsxs("select",{required:!0,value:R.gradeLevel,onChange:ve=>z({...R,gradeLevel:parseInt(ve.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Grade"}),o.jsx("option",{value:"0",children:"Nursery"}),[...Array(12)].map((ve,Ue)=>o.jsxs("option",{value:Ue+1,children:["Grade ",Ue+1]},Ue+1))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teacher"}),o.jsxs("select",{required:!0,value:R.teacherId,onChange:ve=>z({...R,teacherId:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select a teacher"}),Y.map(ve=>o.jsx("option",{value:ve.id,children:ve.fullName},ve.id))]}),Y.length===0&&o.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No teachers found. Ensure teachers are added in the system."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),o.jsxs("select",{required:!0,value:R.academicTermId,onChange:ve=>z({...R,academicTermId:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select a term"}),Q.map(ve=>o.jsx("option",{value:ve.id,children:ve.name},ve.id))]}),Q.length===0&&o.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No academic terms found. Please create a term first."})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign Subjects"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-60 overflow-y-auto p-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700",children:r.map(ve=>o.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-slate-600 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:R.subjectIds.includes(ve.id),onChange:()=>Me(ve.id),className:"rounded text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:ve.name})]},ve.id))})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:d?"Update Class":"Create Class"})]})]})]})}),o.jsx(Mw,{isOpen:h,onClose:()=>m(!1),entityName:"Classes",apiEndpoint:"/api/v1/classes/bulk",templateFields:["name","gradeLevel"],onSuccess:F,instructions:["Upload a CSV file with class details.","Required columns: name, gradeLevel.","Grade level should be a number (-2 for Baby Class, -1 for Middle, 0 for Nursery, 1-12 for grades)."]})]})},O6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(""),[i,l]=k.useState(!1),[c,u]=k.useState(null),[d,f]=k.useState({name:"",startDate:"",endDate:"",isActive:!1});k.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await Ae.get("/academic-terms");t(b.data)}catch(b){console.error("Failed to fetch terms",b)}finally{n(!1)}},m=async b=>{b.preventDefault();try{const N={...d,startDate:new Date(d.startDate).toISOString(),endDate:new Date(d.endDate).toISOString()};c?await Ae.put(`/academic-terms/${c.id}`,N):await Ae.post("/academic-terms",N),h(),l(!1),g()}catch(N){console.error("Failed to save term",N),alert("Failed to save term")}},p=async b=>{if(window.confirm("Are you sure you want to delete this term?"))try{await Ae.delete(`/academic-terms/${b}`),h()}catch(N){console.error("Failed to delete term",N)}},g=()=>{f({name:"",startDate:"",endDate:"",isActive:!1}),u(null)},x=b=>{u(b),f({name:b.name,startDate:new Date(b.startDate).toISOString().split("T")[0],endDate:new Date(b.endDate).toISOString().split("T")[0],isActive:b.isActive}),l(!0)},v=()=>{g(),l(!0)},y=e.filter(b=>b.name.toLowerCase().includes(a.toLowerCase()));return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Academic Terms"}),o.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add Term"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search terms...",value:a,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 dark:text-white"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Name"}),o.jsx("th",{className:"px-6 py-3",children:"Start Date"}),o.jsx("th",{className:"px-6 py-3",children:"End Date"}),o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Loading terms..."})}):y.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No terms found"})}):y.map(b=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:b.name}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(b.startDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(b.endDate).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${b.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-slate-600 text-gray-600 dark:text-gray-300"}`,children:b.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>x(b),className:"text-blue-600 hover:text-blue-800 p-1",children:o.jsx(uo,{size:18})}),o.jsx("button",{onClick:()=>p(b.id),className:"text-red-600 hover:text-red-800 p-1",children:o.jsx(fs,{size:18})})]})})]},b.id))})]})})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:c?"Edit Term":"Add Term"}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Term Name"}),o.jsx("input",{type:"text",required:!0,value:d.name,onChange:b=>f({...d,name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. Term 1 2025"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",required:!0,value:d.startDate,onChange:b=>f({...d,startDate:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),o.jsx("input",{type:"date",required:!0,value:d.endDate,onChange:b=>f({...d,endDate:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:b=>f({...d,isActive:b.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4"}),o.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700 dark:text-gray-300",children:"Set as Active Term"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c?"Update":"Create"})]})]})]})})]})},F6e=({assessmentId:e,onClose:t})=>{var x,v,y,b,N;const[r,n]=k.useState([]),[a,s]=k.useState(!1),[i,l]=k.useState(!1),[c,u]=k.useState({text:"",type:"MULTIPLE_CHOICE",points:1,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]});k.useEffect(()=>{d()},[e]);const d=async()=>{try{s(!0);const A=await Ae.get(`/online-assessments/${e}/questions`);n(A.data)}catch(A){console.error("Failed to fetch questions",A)}finally{s(!1)}},f=()=>{c.options&&u({...c,options:[...c.options,{text:"",isCorrect:!1}]})},h=(A,S,j)=>{if(!c.options)return;const E=[...c.options];S==="isCorrect"?(E.forEach(C=>C.isCorrect=!1),E[A].isCorrect=j):E[A].text=j,u({...c,options:E})},m=A=>{if(!c.options)return;const S=c.options.filter((j,E)=>E!==A);u({...c,options:S})},p=()=>{c.text&&(n([...r,c]),u({text:"",type:"MULTIPLE_CHOICE",points:1,options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}))},g=async()=>{try{l(!0);const A=r.filter(S=>!S.id);if(A.length===0){alert("No new questions to save");return}await Ae.post(`/online-assessments/${e}/questions`,{questions:A}),alert("Questions saved successfully"),d()}catch(A){console.error("Failed to save questions",A),alert("Failed to save questions")}finally{l(!1)}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Question Builder"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Close"}),o.jsxs("button",{onClick:g,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[o.jsx(td,{size:20}),i?"Saving...":"Save Questions"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6 border-r border-gray-200 pr-6",children:[o.jsx("h3",{className:"font-semibold text-gray-700",children:"Add New Question"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),o.jsx("textarea",{value:c.text,onChange:A=>u({...c,text:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",rows:3,placeholder:"Enter question text..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),o.jsxs("select",{value:c.type,onChange:A=>u({...c,type:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"MULTIPLE_CHOICE",children:"Multiple Choice"}),o.jsx("option",{value:"TRUE_FALSE",children:"True/False"}),o.jsx("option",{value:"SHORT_ANSWER",children:"Short Answer"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),o.jsx("input",{type:"number",min:"1",value:c.points,onChange:A=>u({...c,points:Number(A.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),c.type==="MULTIPLE_CHOICE"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Options"}),(x=c.options)==null?void 0:x.map((A,S)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"correctOption",checked:A.isCorrect,onChange:()=>h(S,"isCorrect",!0),className:"w-4 h-4 text-blue-600"}),o.jsx("input",{type:"text",value:A.text,onChange:j=>h(S,"text",j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:`Option ${S+1}`}),o.jsx("button",{onClick:()=>m(S),className:"text-red-500 hover:text-red-700",children:o.jsx(fs,{size:18})})]},S)),o.jsxs("button",{onClick:f,className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[o.jsx(fa,{size:16})," Add Option"]})]}),c.type==="TRUE_FALSE"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correct Answer"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tfCorrect",checked:(y=(v=c.options)==null?void 0:v[0])==null?void 0:y.isCorrect,onChange:()=>{u({...c,options:[{text:"True",isCorrect:!0},{text:"False",isCorrect:!1}]})},className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"True"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tfCorrect",checked:(N=(b=c.options)==null?void 0:b[1])==null?void 0:N.isCorrect,onChange:()=>{u({...c,options:[{text:"True",isCorrect:!1},{text:"False",isCorrect:!0}]})},className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"False"})]})]})]}),o.jsx("button",{onClick:p,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add Question to List"})]}),o.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[o.jsxs("h3",{className:"font-semibold text-gray-700",children:["Questions (",r.length,")"]}),r.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:"No questions added yet."}),r.map((A,S)=>{var j;return o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 relative group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("span",{className:"font-medium text-gray-900",children:["Q",S+1,". ",A.text]}),o.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:A.type})]}),A.type==="MULTIPLE_CHOICE"&&o.jsx("ul",{className:"space-y-1 ml-4 mt-2",children:(j=A.options)==null?void 0:j.map((E,C)=>o.jsxs("li",{className:`text-sm flex items-center gap-2 ${E.isCorrect?"text-green-700 font-medium":"text-gray-600"}`,children:[E.isCorrect?o.jsx(da,{size:14}):o.jsx("div",{className:"w-3.5"}),E.text]},C))}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-right",children:[A.points," points"]}),!A.id&&o.jsx("button",{onClick:()=>{const E=r.filter((C,I)=>I!==S);n(E)},className:"absolute top-2 right-2 text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(fs,{size:16})})]},S)})]})]})]})},L6e=({classId:e,subjectId:t,termId:r,onBack:n,classNameStr:a,subjectNameStr:s})=>{const[i,l]=k.useState(!0),[c,u]=k.useState(null);k.useEffect(()=>{d()},[e,t,r]);const d=async()=>{try{l(!0);const m=await Ae.get("/assessments/gradebook",{params:{classId:e,subjectId:t,termId:r}});u(m.data)}catch(m){console.error("Failed to fetch gradebook",m)}finally{l(!1)}},f=k.useMemo(()=>{if(!c)return{rows:[],totalWeight:0};const{assessments:m,students:p,results:g}=c,x={};g.forEach(b=>{x[b.studentId]||(x[b.studentId]={}),x[b.studentId][b.assessmentId]=b.score});const v=m.reduce((b,N)=>b+Number(N.weight),0),y=p.map(b=>{let N=0;const A=m.map(S=>{var I;const j=(I=x[b.id])==null?void 0:I[S.id];if(j===void 0)return{raw:"-",weighted:0,percentage:0};const E=j/S.totalMarks,C=E*S.weight;return N+=C,{raw:j,weighted:C,percentage:E*100}});return{student:b,scores:A,totalWeightedScore:N}});return y.sort((b,N)=>N.totalWeightedScore-b.totalWeightedScore),{rows:y,totalWeight:v}},[c]),h=()=>{if(!c)return;const m=["Rank","Admission No","Student Name",...c.assessments.map(v=>`${v.title} (${v.weight}%)`),"Total (%)"],p=[[`Subject Gradebook: ${s} - ${a}`],m];f.rows.forEach((v,y)=>{const b=v.scores.map(N=>N.raw!=="-"?N.raw:"-");p.push([y+1,v.student.admissionNumber,`${v.student.firstName} ${v.student.lastName}`,...b,v.totalWeightedScore.toFixed(1)])});const g=Nn.book_new(),x=Nn.aoa_to_sheet(p);Nn.book_append_sheet(g,x,"Gradebook"),I0(g,`Gradebook_${a}_${s}.xlsx`)};return i?o.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Gradebook..."}):c?o.jsxs("div",{className:"p-6 h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsxs("button",{onClick:n,className:"text-gray-500 hover:text-gray-800 flex items-center mb-2",children:[o.jsx(Vd,{size:18,className:"mr-1"})," Back"]}),o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(xR,{className:"text-blue-600"}),"Master Gradebook"]}),o.jsxs("p",{className:"text-gray-500",children:[a,"  ",s]})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:`px-4 py-2 rounded-lg border ${f.totalWeight===100?"bg-green-50 border-green-200 text-green-700":"bg-amber-50 border-amber-200 text-amber-700"}`,children:o.jsxs("span",{className:"font-bold flex items-center gap-2",children:[f.totalWeight!==100&&o.jsx(gc,{size:16}),"Total Weight: ",f.totalWeight,"%"]})}),o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx(Qs,{size:18})," Export Excel"]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-xl shadow-sm bg-white",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 border-r border-gray-200 w-16 text-center",children:"Pos"}),o.jsx("th",{className:"px-4 py-3 border-r border-gray-200 min-w-[200px] sticky left-0 bg-gray-50 z-20 shadow-sm",children:"Student"}),c.assessments.map(m=>o.jsxs("th",{className:"px-4 py-3 border-r border-gray-200 text-center min-w-[100px]",children:[o.jsx("div",{className:"text-xs text-gray-500 font-normal",children:m.type}),o.jsx("div",{className:"truncate w-24 mx-auto",title:m.title,children:m.title}),o.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[m.weight,"%"]})]},m.id)),o.jsx("th",{className:"px-4 py-3 bg-blue-50 text-blue-900 text-center min-w-[80px]",children:"Total %"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:f.rows.map((m,p)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center text-gray-500",children:p+1}),o.jsxs("td",{className:"px-4 py-2 border-r border-gray-100 font-medium sticky left-0 bg-white group-hover:bg-gray-50 z-10",children:[o.jsxs("div",{className:"text-gray-900",children:[m.student.firstName," ",m.student.lastName]}),o.jsx("div",{className:"text-xs text-gray-400 font-mono",children:m.student.admissionNumber})]}),m.scores.map((g,x)=>{let v="text-gray-800";return g.raw==="-"?v="text-gray-300":g.percentage<50?v="text-red-600 font-medium":g.percentage>=80&&(v="text-green-600 font-medium"),o.jsx("td",{className:`px-4 py-2 border-r border-gray-100 text-center ${v}`,children:g.raw!=="-"?o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{children:[g.raw," ",o.jsxs("span",{className:"text-gray-400 text-[10px]",children:["/ ",c.assessments[x].totalMarks]})]}),o.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",g.weighted.toFixed(1),"%)"]})]}):"-"},x)}),o.jsxs("td",{className:"px-4 py-2 bg-blue-50 text-center font-bold text-blue-800",children:[m.totalWeightedScore.toFixed(1),"%"]})]},m.student.id))})]})})]}):o.jsx("div",{className:"p-12 text-center text-red-500",children:"Failed to load data"})},D6e=()=>{var D,X;const[e,t]=k.useState("list"),[r,n]=k.useState([]),[a,s]=k.useState(!1),[i,l]=k.useState([]),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(""),[p,g]=k.useState(""),[x,v]=k.useState(null),[y,b]=k.useState([]),[N,A]=k.useState({}),[S,j]=k.useState(!1),[E,C]=k.useState(new Set),[I,T]=k.useState(!1),[P,H]=k.useState({title:"",type:"QUIZ",date:new Date().toISOString().split("T")[0],totalMarks:100,weight:10,classId:"",subjectId:"",termId:"",description:""});k.useEffect(()=>{q()},[]),k.useEffect(()=>{ae()},[h,p]);const q=async()=>{try{const[V,ee,K]=await Promise.all([Ae.get("/classes"),Ae.get("/subjects"),Ae.get("/academic-terms")]);l(V.data),u(ee.data),f(K.data)}catch(V){console.error("Error fetching initial data:",V)}},ae=async()=>{s(!0);try{const V={};h&&(V.classId=h),p&&(V.subjectId=p);const ee=await Ae.get("/assessments",{params:V});n(ee.data)}catch(V){console.error("Error fetching assessments:",V)}finally{s(!1)}},R=async V=>{V.preventDefault();try{await Ae.post("/assessments",{...P,totalMarks:Number(P.totalMarks),weight:Number(P.weight),date:new Date(P.date).toISOString()}),t("list"),ae(),H({title:"",type:"QUIZ",date:new Date().toISOString().split("T")[0],totalMarks:100,weight:10,classId:"",subjectId:"",termId:"",description:""})}catch(ee){console.error("Error creating assessment:",ee),alert("Failed to create assessment")}},z=()=>{if(!x)return;const V=[["Admission No","Student Name","Score","Remarks"],...y.map(ce=>[ce.admissionNumber,`${ce.firstName} ${ce.lastName}`,"",""])],ee=Nn.book_new(),K=Nn.aoa_to_sheet(V);Nn.book_append_sheet(ee,K,"Grades"),I0(ee,`${x.title}_Template.xlsx`)},Y=V=>{var ce;const ee=(ce=V.target.files)==null?void 0:ce[0];if(!ee)return;const K=new FileReader;K.onload=xe=>{var We,ve;const G=(We=xe.target)==null?void 0:We.result,Ce=z4(G,{type:"binary"}),Ve=Ce.SheetNames[0],Se=Ce.Sheets[Ve],ue=Nn.sheet_to_json(Se,{header:1}),Me={...N};let rt=0;for(let Ue=1;Ue<ue.length;Ue++){const Je=ue[Ue],dt=(ve=Je[0])==null?void 0:ve.toString(),be=Je[2],at=Je[3];if(dt){const ht=y.find(_t=>_t.admissionNumber===dt);ht&&(Me[ht.id]={score:be!==void 0?String(be):"",remarks:at||""},rt++)}}A(Me),alert(`Imported grades for ${rt} students.`)},K.readAsBinaryString(ee)},U=async V=>{v(V),t("grade"),s(!0);try{const ee=await Ae.get(`/classes/${V.class.id}/students`);b(ee.data);const K=await Ae.get(`/assessments/${V.id}/results`),ce={};K.data.forEach(xe=>{ce[xe.studentId]={score:String(xe.score),remarks:xe.remarks||""}}),A(ce)}catch(ee){console.error("Error loading gradebook:",ee)}finally{s(!1)}},Q=V=>{v(V),t("questions")},pe=(V,ee,K)=>{A(ce=>({...ce,[V]:{...ce[V],[ee]:K}}))},F=async()=>{if(x){j(!0);try{const V=Object.entries(N).map(([ee,K])=>({studentId:ee,score:Number(K.score)||0,remarks:K.remarks})).filter(ee=>{var K,ce;return((K=N[ee.studentId])==null?void 0:K.score)!==void 0&&((ce=N[ee.studentId])==null?void 0:ce.score)!==""});await Ae.post("/assessments/results",{assessmentId:x.id,results:V}),alert("Grades saved successfully")}catch(V){console.error("Error saving grades:",V),alert("Failed to save grades")}finally{j(!1)}}};if(e==="questions"&&x)return o.jsxs("div",{className:"p-6",children:[o.jsxs("button",{onClick:()=>t("list"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6",children:[o.jsx(Vd,{size:20,className:"mr-2"}),"Back to Assessments"]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x.title}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage Questions"})]}),o.jsx(F6e,{assessmentId:x.id,onClose:()=>t("list")})]});if(e==="gradebook")return o.jsx(L6e,{classId:h,subjectId:p,termId:"",onBack:()=>t("list"),classNameStr:((D=i.find(V=>V.id===h))==null?void 0:D.name)||"Class",subjectNameStr:((X=c.find(V=>V.id===p))==null?void 0:X.name)||"Subject"});const M=V=>{const ee=new Set(E);ee.has(V)?ee.delete(V):ee.add(V),C(ee)},B=async()=>{if(window.confirm(`Are you sure you want to delete ${E.size} assessments?`)){T(!0);try{await Ae.post("/assessments/bulk-delete",{ids:Array.from(E)}),C(new Set),ae()}catch(V){console.error("Failed to delete assessments",V),alert("Failed to delete assessments")}finally{T(!1)}}};return e==="create"?o.jsxs("div",{className:"p-6",children:[o.jsxs("button",{onClick:()=>t("list"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6",children:[o.jsx(Vd,{size:20,className:"mr-2"}),"Back to Assessments"]}),o.jsxs("div",{className:"max-w-2xl mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"Create New Assessment"}),o.jsxs("form",{onSubmit:R,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),o.jsx("input",{type:"text",required:!0,value:P.title,onChange:V=>H({...P,title:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g., Mid-Term Mathematics Exam"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),o.jsxs("select",{value:P.type,onChange:V=>H({...P,type:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"QUIZ",children:"Quiz"}),o.jsx("option",{value:"TEST",children:"Test"}),o.jsx("option",{value:"EXAM",children:"Exam"}),o.jsx("option",{value:"HOMEWORK",children:"Homework"}),o.jsx("option",{value:"PROJECT",children:"Project"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),o.jsx("input",{type:"date",required:!0,value:P.date,onChange:V=>H({...P,date:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),o.jsxs("select",{required:!0,value:P.classId,onChange:V=>H({...P,classId:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Class"}),i.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),o.jsxs("select",{required:!0,value:P.subjectId,onChange:V=>H({...P,subjectId:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Subject"}),c.map(V=>o.jsxs("option",{value:V.id,children:[V.name," (",V.code,")"]},V.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),o.jsxs("select",{required:!0,value:P.termId,onChange:V=>H({...P,termId:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Term"}),d.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Total Marks"}),o.jsx("input",{type:"number",required:!0,min:"1",value:P.totalMarks,onChange:V=>H({...P,totalMarks:Number(V.target.value)}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Weight (%)"}),o.jsx("input",{type:"number",required:!0,min:"0",max:"100",value:P.weight,onChange:V=>H({...P,weight:Number(V.target.value)}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (Optional)"}),o.jsx("textarea",{value:P.description,onChange:V=>H({...P,description:V.target.value}),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3})]}),o.jsx("div",{className:"pt-4",children:o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create Assessment"})})]})]})]}):e==="grade"&&x?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>t("list"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:[o.jsx(Vd,{size:20,className:"mr-2"}),"Back to Assessments"]}),o.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-slate-600"}),o.jsxs("button",{onClick:z,className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:[o.jsx(Qs,{size:16,className:"mr-1"})," Template"]}),o.jsxs("label",{className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium cursor-pointer",children:[o.jsx(Ni,{size:16,className:"mr-1"})," Import",o.jsx("input",{type:"file",accept:".xlsx, .xls",className:"hidden",onChange:Y})]})]}),o.jsxs("button",{onClick:F,disabled:S,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[o.jsx(td,{size:20,className:"mr-2"}),S?"Saving...":"Save Grades"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:x.title}),o.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(ea,{size:16,className:"mr-1"})," ",x.subject.name]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx(en,{size:16,className:"mr-1"})," ",x.class.name]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx(Va,{size:16,className:"mr-1"})," ",new Date(x.date).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Marks"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x.totalMarks})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm",children:[o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase mb-1 flex items-center gap-1",children:[o.jsx(L3,{size:14,className:"text-blue-500"})," Average Score"]}),o.jsxs("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[(Object.values(N).reduce((V,ee)=>V+(Number(ee.score)||0),0)/(Object.keys(N).length||1)).toFixed(1),o.jsxs("span",{className:"text-xs text-gray-400 font-normal ml-1",children:["/ ",x.totalMarks]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm",children:[o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase mb-1 flex items-center gap-1",children:[o.jsx(ti,{size:14,className:"text-green-500"})," Pass Rate"]}),o.jsxs("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[(Object.values(N).filter(V=>(Number(V.score)||0)>=x.totalMarks*.5).length/(Object.keys(N).length||1)*100).toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm",children:[o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase mb-1 flex items-center gap-1",children:[o.jsx(F3,{size:14,className:"text-purple-500"})," Highest Score"]}),o.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:Math.max(...Object.values(N).map(V=>Number(V.score)||0))})]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300",children:"Student"}),o.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300",children:"Admission No."}),o.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300 w-32",children:"Score"}),o.jsx("th",{className:"px-6 py-3 font-semibold text-gray-600 dark:text-gray-300",children:"Remarks"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:y.map(V=>{var ee,K;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800 dark:text-white",children:[V.firstName," ",V.lastName]}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400 font-mono text-sm",children:V.admissionNumber}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("input",{type:"number",min:"0",max:x.totalMarks,value:((ee=N[V.id])==null?void 0:ee.score)||"",onChange:ce=>pe(V.id,"score",ce.target.value),className:"w-full px-3 py-1 border border-gray-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"-"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("input",{type:"text",value:((K=N[V.id])==null?void 0:K.remarks)||"",onChange:ce=>pe(V.id,"remarks",ce.target.value),className:"w-full px-3 py-1 border border-gray-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"Optional remarks"})})]},V.id)})})]})})]})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Assessments"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage exams, tests, and homework assignments."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[o.jsxs("div",{className:"flex flex-1 gap-4 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[o.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{value:h,onChange:V=>m(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 dark:text-white transition-colors appearance-none cursor-pointer",children:[o.jsx("option",{value:"",children:"All Classes"}),i.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]}),o.jsx(vp,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:14})]}),o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[o.jsx(ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{value:p,onChange:V=>g(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 dark:bg-slate-700 focus:bg-white dark:focus:bg-slate-600 dark:text-white transition-colors appearance-none cursor-pointer",children:[o.jsx("option",{value:"",children:"All Subjects"}),c.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]}),o.jsx(vp,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:14})]})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[h&&p&&o.jsxs("button",{onClick:()=>t("gradebook"),className:"bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-purple-700 transition-colors shadow-sm",title:"View full subject matrix",children:[o.jsx(xR,{size:18}),o.jsx("span",{className:"hidden sm:inline",children:"Gradebook"})]}),E.size>0&&o.jsxs("button",{onClick:B,disabled:I,className:"bg-red-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-red-700 transition-colors disabled:bg-red-300 shadow-sm",children:[o.jsx(fs,{size:18}),o.jsxs("span",{className:"hidden sm:inline",children:["Delete (",E.size,")"]})]}),o.jsxs("button",{onClick:()=>t("create"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors shadow-sm w-full sm:w-auto",children:[o.jsx(fa,{size:18}),o.jsx("span",{className:"hidden sm:inline",children:"New Assessment"}),o.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),a?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{children:"Loading assessments..."})]}):r.length===0?o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Os,{size:32})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"No assessments found"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:h||p?"Try adjusting your filters to find what you're looking for.":"Create your first assessment to start tracking student performance."}),!h&&!p&&o.jsx("button",{onClick:()=>t("create"),className:"mt-6 text-blue-600 font-medium hover:text-blue-700",children:"Create New Assessment"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(V=>{var K;const ee=V.type==="EXAM"?{border:"border-red-500",bg:"bg-red-50 dark:bg-red-900/30",text:"text-red-700 dark:text-red-300"}:V.type==="TEST"?{border:"border-orange-500",bg:"bg-orange-50 dark:bg-orange-900/30",text:"text-orange-700 dark:text-orange-300"}:V.type==="QUIZ"?{border:"border-blue-500",bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-300"}:{border:"border-green-500",bg:"bg-green-50 dark:bg-green-900/30",text:"text-green-700 dark:text-green-300"};return o.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 relative group overflow-hidden border-l-4 ${ee.border}`,children:[o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("span",{className:`px-2.5 py-0.5 rounded-md text-xs font-bold uppercase tracking-wide ${ee.bg} ${ee.text}`,children:V.type}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 flex items-center bg-gray-50 dark:bg-slate-700 px-2 py-1 rounded",children:[o.jsx(Va,{size:12,className:"mr-1.5"}),new Date(V.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),o.jsx("input",{type:"checkbox",checked:E.has(V.id),onChange:()=>M(V.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})]})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:V.title}),o.jsxs("div",{className:"flex flex-col gap-1.5 mt-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[o.jsx(ea,{size:16,className:"mr-2 text-gray-400"}),o.jsx("span",{className:"truncate font-medium",children:V.subject.name})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[o.jsx(en,{size:16,className:"mr-2 text-gray-400"}),o.jsx("span",{className:"truncate",children:V.class.name})]})]})]}),o.jsxs("div",{className:"px-5 py-4 bg-gray-50 dark:bg-slate-700/50 border-t border-gray-100 dark:border-slate-700 flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-white leading-none",children:((K=V._count)==null?void 0:K.results)||0}),o.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-gray-500 mt-1",children:"Graded"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(V.type==="QUIZ"||V.type==="TEST"||V.type==="EXAM")&&o.jsx("button",{onClick:()=>Q(V),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-white rounded-lg transition-colors border border-transparent hover:border-gray-200",title:"Manage Questions",children:o.jsx(iee,{size:18})}),o.jsxs("button",{onClick:()=>U(V),className:"flex items-center bg-white dark:bg-slate-600 border border-gray-200 dark:border-slate-500 text-gray-700 dark:text-gray-200 hover:text-blue-600 dark:hover:text-blue-400 hover:border-blue-200 px-3 py-1.5 rounded-lg text-sm font-medium transition-all shadow-sm group-hover:border-blue-300",children:["Grade",o.jsx(vp,{size:16,className:"ml-1 text-gray-400 group-hover:text-blue-500"})]})]})]})]},V.id)})})]})},pl={getGradingScales:async()=>(await Ae.get("/reports/grading-scales")).data,createGradingScale:async e=>(await Ae.post("/reports/grading-scales",e)).data,updateGradingScale:async(e,t)=>(await Ae.put(`/reports/grading-scales/${e}`,t)).data,deleteGradingScale:async e=>(await Ae.delete(`/reports/grading-scales/${e}`)).data,generateStudentReport:async(e,t)=>(await Ae.post("/reports/generate",{studentId:e,termId:t})).data,generateClassReports:async(e,t)=>(await Ae.post("/reports/generate-bulk",{classId:e,termId:t})).data,getStudentReport:async(e,t)=>(await Ae.get("/reports/student",{params:{studentId:e,termId:t}})).data,getClassReports:async(e,t)=>(await Ae.get("/reports/class",{params:{classId:e,termId:t}})).data,updateReportRemarks:async(e,t,r)=>(await Ae.put("/reports/remarks",{studentId:e,termId:t,...r})).data},JV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(null),[i,l]=k.useState(!1),[c,u]=k.useState(null),[d,f]=k.useState({grade:"",minScore:"",maxScore:"",gpaPoint:"",remark:""});k.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const v=await pl.getGradingScales();t(v.sort((y,b)=>b.minScore-y.minScore))}catch(v){s("Failed to fetch grading scales"),console.error(v)}finally{n(!1)}},m=v=>{v?(u(v),f({grade:v.grade,minScore:v.minScore.toString(),maxScore:v.maxScore.toString(),gpaPoint:v.gpaPoint.toString(),remark:v.remark||""})):(u(null),f({grade:"",minScore:"",maxScore:"",gpaPoint:"",remark:""})),l(!0)},p=()=>{l(!1),u(null),s(null)},g=async v=>{var y,b;v.preventDefault();try{const N={grade:d.grade,minScore:parseFloat(d.minScore),maxScore:parseFloat(d.maxScore),gpaPoint:parseFloat(d.gpaPoint),remark:d.remark};c?await pl.updateGradingScale(c.id,N):await pl.createGradingScale(N),p(),h()}catch(N){s(((b=(y=N.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to save grading scale")}},x=async v=>{if(window.confirm("Are you sure you want to delete this grading scale?"))try{await pl.deleteGradingScale(v),h()}catch{s("Failed to delete grading scale")}};return r?o.jsx("div",{className:"p-4 text-center dark:text-gray-400",children:"Loading..."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Grading Scales"}),o.jsxs("button",{onClick:()=>m(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),"Add Grade"]})]}),a&&o.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex justify-between items-center",children:[o.jsx("span",{children:a}),o.jsx("button",{onClick:()=>s(null),children:o.jsx(ra,{size:18})})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Grade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Range"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"GPA Point"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Remark"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[e.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:v.grade}),o.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[v.minScore," - ",v.maxScore]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:v.gpaPoint}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:v.remark}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>m(v),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded",children:o.jsx(uo,{size:18})}),o.jsx("button",{onClick:()=>x(v.id),className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",children:o.jsx(fs,{size:18})})]})})]},v.id)),e.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No grading scales defined"})})]})]})})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c?"Edit Grade":"Add Grade"}),o.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:o.jsx(ra,{size:20})})]}),o.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Grade Label"}),o.jsx("input",{type:"text",value:d.grade,onChange:v=>f({...d,grade:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g., A, B+",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Min Score"}),o.jsx("input",{type:"number",value:d.minScore,onChange:v=>f({...d,minScore:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Score"}),o.jsx("input",{type:"number",value:d.maxScore,onChange:v=>f({...d,maxScore:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GPA Point"}),o.jsx("input",{type:"number",step:"0.1",value:d.gpaPoint,onChange:v=>f({...d,gpaPoint:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remark"}),o.jsx("textarea",{value:d.remark,onChange:v=>f({...d,remark:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",rows:2})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]})]})})]})},I6e=(e,t,r)=>{const n=new Set;e.forEach(d=>{d.results.forEach(f=>n.add(f.subjectName))});const a=Array.from(n).sort(),s=[["Sync International School - Class Broadsheet"],[`Class: ${t}`,`Term: ${r}`],[""],["Rank","Student Name","Admission No",...a,"Total","Avg %","Attendance"]];[...e].sort((d,f)=>(d.rank||0)-(f.rank||0)).forEach(d=>{var m,p,g,x;const f={};d.results.forEach(v=>{f[v.subjectName]=v.totalScore});const h=a.map(v=>f[v]!==void 0?f[v]:"-");s.push([((m=d.rank)==null?void 0:m.toString())||"-",`${(p=d.student)==null?void 0:p.firstName} ${(g=d.student)==null?void 0:g.lastName}`,((x=d.student)==null?void 0:x.admissionNumber)||"",...h,Number(d.totalScore).toFixed(1),Number(d.averageScore).toFixed(1),`${d.totalAttendance||0}/${d.totalDays||60}`])});const l=Nn.book_new(),c=Nn.aoa_to_sheet(s),u=[{wch:5},{wch:25},{wch:15}];a.forEach(()=>u.push({wch:10})),u.push({wch:10},{wch:10},{wch:15}),c["!cols"]=u,Nn.book_append_sheet(l,c,"Broadsheet"),I0(l,`Class_Reports_${t}_${r}.xlsx`)},M6e=(e,t,r)=>{const n=new Set;e.forEach(d=>d.results.forEach(f=>n.add(f.subjectName)));const a=Array.from(n).sort(),s=["Rank","Student Name","Admission No",...a,"Total","Avg %","Attendance"];let i="data:text/csv;charset=utf-8,";i+=`Sync International School - Class Broadsheet
`,i+=`Class: ${t},Term: ${r}

`,i+=s.join(",")+`
`,[...e].sort((d,f)=>(d.rank||0)-(f.rank||0)).forEach(d=>{var m,p,g;const f={};d.results.forEach(x=>f[x.subjectName]=x.totalScore);const h=[d.rank||"-",`"${(m=d.student)==null?void 0:m.firstName} ${(p=d.student)==null?void 0:p.lastName}"`,((g=d.student)==null?void 0:g.admissionNumber)||"",...a.map(x=>f[x]!==void 0?f[x]:"-"),Number(d.totalScore).toFixed(1),Number(d.averageScore).toFixed(1),`"${d.totalAttendance||0}/${d.totalDays||60}"`];i+=h.join(",")+`
`});const c=encodeURI(i),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download",`Class_Reports_${t}_${r}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)},R6e=["Excellent performance, keep it up!","Good progress shown this term.","Satisfactory but allows room for improvement.","Needs to pay more attention in class.","Outstanding academic achievement.","Required to work harder next term.","Participates well in class activities.","A pleasure to have in class."],nL=({report:e,editable:t=!1,teacherRemark:r="",principalRemark:n="",onTeacherRemarkChange:a,onPrincipalRemarkChange:s,onSaveRemarks:i,saving:l=!1,className:c=""})=>{var f,h,m,p,g,x,v,y,b;const[u,d]=k.useState("");return k.useEffect(()=>{if(e){const N=`${window.location.origin}/verify/report/${e.id}`;Qh.toDataURL(N,{margin:1,width:100}).then(A=>d(A)).catch(A=>console.error(A))}},[e]),o.jsxs("div",{className:`bg-white mx-auto print:w-full max-w-4xl p-8 print:p-0 print:m-0 ${c}`,children:[o.jsxs("div",{className:"relative border-4 border-double border-slate-800 p-8 print:border-4 print:border-double print:border-slate-800 h-full",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none overflow-hidden",children:o.jsx(og,{size:500})}),o.jsx("div",{className:"relative z-10 border-b-2 border-slate-800 pb-6 mb-6",children:o.jsxs("div",{className:"flex justify-between items-center gap-6",children:[o.jsx("div",{className:"w-24 h-24 flex items-center justify-center bg-slate-900 text-white rounded-full print:bg-slate-900 print:text-white shrink-0",children:o.jsx(og,{size:48})}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 uppercase tracking-widest mb-2",children:((f=e.school)==null?void 0:f.schoolName)||"Sync International School"}),o.jsxs("div",{className:"text-sm font-medium text-slate-600 flex flex-wrap justify-center gap-4",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rx,{size:12})," ",((h=e.school)==null?void 0:h.schoolAddress)||"P.O Box 3000, Lusaka, Zambia"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(C0,{size:12})," ",((m=e.school)==null?void 0:m.schoolPhone)||"+260 977 123 456"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(E0,{size:12})," ",((p=e.school)==null?void 0:p.schoolEmail)||"info@syncschool.edu.zm"]})]})]}),o.jsx("div",{className:"w-24 shrink-0 text-right hidden sm:block",children:o.jsx("div",{className:"text-xs font-serif italic text-slate-500",children:'"Excellence in Everything"'})})]})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase inline-block border-b mb-1",children:"End of Term Report"}),o.jsx("p",{className:"text-slate-500 font-serif",children:e.academicYear||`Academic Year ${new Date().getFullYear()}`})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-y-4 gap-x-8 text-sm mb-8 p-4 bg-slate-50 border border-slate-200 rounded-sm print:bg-slate-50 print:border-slate-200",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Student Name"}),o.jsxs("span",{className:"font-bold text-slate-900 text-base",children:[(g=e.student)==null?void 0:g.firstName," ",(x=e.student)==null?void 0:x.lastName]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Admission No."}),o.jsx("span",{className:"font-mono text-slate-800",children:((v=e.student)==null?void 0:v.admissionNumber)||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Class"}),o.jsx("span",{className:"font-bold text-slate-900",children:(y=e.class)==null?void 0:y.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Term"}),o.jsx("span",{className:"font-bold text-slate-900",children:(b=e.term)==null?void 0:b.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Attendance"}),o.jsxs("span",{className:"font-bold text-slate-900",children:[e.totalAttendance!==void 0?`${e.totalAttendance} / ${e.totalDays||"-"}`:"-"," Days"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Position"}),o.jsx("span",{className:"font-bold text-slate-900",children:e.rank?`${e.rank}`:"-"})]}),o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-slate-500 uppercase text-xs",children:"Overall Average:"}),o.jsx("div",{className:"flex-1 bg-gray-200 h-2 rounded-full overflow-hidden print:bg-gray-200",children:o.jsx("div",{className:"bg-slate-800 h-full print:bg-slate-800",style:{width:`${Math.min(100,Math.max(0,e.averageScore))}%`}})}),o.jsxs("span",{className:"font-bold text-lg text-slate-900",children:[Number(e.averageScore||0).toFixed(1),"%"]})]})})]}),o.jsx("div",{className:"mb-8 overflow-hidden border border-slate-200 rounded-sm",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-slate-800 text-white print:bg-slate-800 print:text-white",children:[o.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs w-1/3",children:"Subject"}),o.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs text-center border-l border-slate-600",children:"Marks"}),o.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs text-center border-l border-slate-600",children:"Grade"}),o.jsx("th",{className:"px-4 py-2 font-bold uppercase tracking-wider text-xs border-l border-slate-600",children:"Remarks"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200",children:e.results&&e.results.length>0?e.results.map((N,A)=>o.jsxs("tr",{className:A%2===0?"bg-white":"bg-slate-50 print:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-slate-800 border-r border-slate-100",children:N.subjectName}),o.jsx("td",{className:"px-4 py-2 text-center font-mono text-slate-700 border-r border-slate-100",children:Number(N.totalScore).toFixed(1)}),o.jsx("td",{className:"px-4 py-2 text-center font-bold text-slate-900 border-r border-slate-100",children:N.grade}),o.jsx("td",{className:"px-4 py-2 text-slate-600 italic text-xs",children:N.remarks||"-"})]},N.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-500 italic",children:"No academic results recorded for this term."})})})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"border border-slate-200 p-4 rounded-sm bg-slate-50 print:bg-slate-50 relative",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-800 uppercase text-xs",children:"Class Teacher's Remarks"}),t&&o.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1 print:hidden bg-white text-gray-700 focus:border-blue-500 focus:outline-none",onChange:N=>{N.target.value&&(a==null||a(r+(r?`
`:"")+N.target.value))},value:"",children:[o.jsx("option",{value:"",children:"+ Quick Comment"}),R6e.map(N=>o.jsx("option",{value:N,children:N},N))]})]}),t?o.jsxs(o.Fragment,{children:[o.jsx("textarea",{value:r,onChange:N=>a==null?void 0:a(N.target.value),className:"print:hidden w-full px-3 py-2 border border-slate-300 bg-white rounded text-sm focus:ring-1 focus:ring-slate-500 outline-none h-24 resize-none",placeholder:"Enter remarks..."}),o.jsx("div",{className:"hidden print:block min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:r||"No remarks provided."})]}):o.jsx("div",{className:"min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:e.classTeacherRemark||r||"No remarks provided."}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-300",children:o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Signature"}),o.jsx("div",{className:"h-8 border-b border-slate-400 w-32"})]}),o.jsxs("div",{className:"text-xs text-slate-400",children:["Date: ",new Date().toLocaleDateString()]})]})})]}),o.jsxs("div",{className:"border border-slate-200 p-4 rounded-sm bg-slate-50 print:bg-slate-50",children:[o.jsx("h4",{className:"font-bold text-slate-800 uppercase text-xs mb-3",children:"Head Teacher's Remarks"}),t?o.jsxs(o.Fragment,{children:[o.jsx("textarea",{value:n,onChange:N=>s==null?void 0:s(N.target.value),className:"print:hidden w-full px-3 py-2 border border-slate-300 bg-white rounded text-sm focus:ring-1 focus:ring-slate-500 outline-none h-24 resize-none",placeholder:"Enter remarks..."}),o.jsx("div",{className:"hidden print:block min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:n||"No remarks provided."})]}):o.jsx("div",{className:"min-h-[4rem] text-sm text-slate-700 font-serif italic whitespace-pre-wrap",children:e.principalRemark||n||"No remarks provided."}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-300",children:o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Signature & Stamp"}),o.jsx("div",{className:"h-8 border-b border-slate-400 w-32"})]}),o.jsxs("div",{className:"text-xs text-slate-400",children:["Date: ",new Date().toLocaleDateString()]})]})})]})]}),o.jsxs("div",{className:"flex items-end justify-between border-t-2 border-slate-800 pt-4",children:[o.jsxs("div",{className:"text-[10px] text-slate-500",children:[o.jsx("span",{className:"font-bold text-slate-700 mr-2",children:"Grading System:"}),"A+ (90-100) | A (80-89) | B (70-79) | C (60-69) | D (50-59) | F (0-49)"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Scan to Verify"}),o.jsx("div",{className:"text-[10px] text-slate-400",children:"Sync School System"})]}),u&&o.jsx("img",{src:u,alt:"Report QR Code",className:"w-16 h-16 border border-slate-200 p-1 bg-white"})]})]})]}),t&&o.jsxs("div",{className:"mt-6 flex justify-end gap-3 print:hidden",children:[o.jsx("button",{onClick:i,disabled:l,className:"px-6 py-2 bg-slate-800 text-white rounded hover:bg-slate-900 transition-colors disabled:opacity-50 text-sm font-medium",children:l?"Saving...":"Save Remarks"}),o.jsxs("button",{onClick:()=>window.print(),className:"px-6 py-2 border border-slate-300 text-slate-700 bg-white rounded hover:bg-slate-50 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx(nx,{size:16}),"Print Official Report"]})]})]})},B6e=({reports:e,className:t="",onClose:r})=>{var l,c,u,d,f,h,m;const n=k.useMemo(()=>{const p=new Set;return e.forEach(g=>{g.results.forEach(x=>p.add(x.subjectName))}),Array.from(p).sort()},[e]),a=k.useMemo(()=>e.map(p=>{const g={};return p.results.forEach(x=>{g[x.subjectName]=x.totalScore}),{...p,subjectScores:g}}).sort((p,g)=>(p.rank||0)-(g.rank||0)),[e]),s=k.useMemo(()=>{const p=e.reduce((v,y)=>v+y.averageScore,0)/(e.length||1),g=e.filter(v=>v.averageScore>=50).length/(e.length||1)*100,x=e.reduce((v,y)=>v.averageScore>y.averageScore?v:y,e[0]);return{classAvg:p,passRate:g,topStudent:x}},[e]),i=()=>{var v,y,b,N,A,S;const p=[["Sync International School - Class Broadsheet"],[`Class: ${((y=(v=e[0])==null?void 0:v.class)==null?void 0:y.name)||"Unknown"}`,`Term: ${((N=(b=e[0])==null?void 0:b.term)==null?void 0:N.name)||"Unknown"}`],[""],["Rank","Student Name","Admission No",...n,"Total","Avg %","Attendance"]];a.forEach(j=>{var C,I,T,P;const E=n.map(H=>j.subjectScores[H]||"-");p.push([((C=j.rank)==null?void 0:C.toString())||"-",`${(I=j.student)==null?void 0:I.firstName} ${(T=j.student)==null?void 0:T.lastName}`,((P=j.student)==null?void 0:P.admissionNumber)||"",...E,j.totalScore.toFixed(1),j.averageScore.toFixed(1),`${j.totalAttendance||0}/${j.totalDays||60}`])});const g=Nn.book_new(),x=Nn.aoa_to_sheet(p);Nn.book_append_sheet(g,x,"Broadsheet"),I0(g,`Class_Broadsheet_${(S=(A=e[0])==null?void 0:A.class)==null?void 0:S.name}.xlsx`)};return o.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-full print:h-auto printable-content ${t}`,children:[o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Ly,{className:"text-blue-600"}),"Class Master Marksheet"]}),o.jsxs("p",{className:"text-gray-500 mt-1",children:[(c=(l=e[0])==null?void 0:l.class)==null?void 0:c.name,"  ",(d=(u=e[0])==null?void 0:u.term)==null?void 0:d.name,"  ",e.length," Students"]})]}),o.jsxs("div",{className:"flex gap-2 print:hidden",children:[o.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 border border-blue-200 text-blue-700 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[o.jsx(nx,{size:18}),"Print"]}),o.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(Qs,{size:18}),"Export Excel"]}),r&&o.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:"Close"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2 print:hidden",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-medium mb-1",children:[o.jsx(ti,{size:18})," Class Average"]}),o.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[s.classAvg.toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-medium mb-1",children:[o.jsx(mee,{size:18})," Pass Rate"]}),o.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[s.passRate.toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[o.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-medium mb-1",children:[o.jsx(z6e,{})," Top Student"]}),o.jsx("div",{className:"text-lg font-bold text-purple-900 truncate",children:s.topStudent?`${(f=s.topStudent.student)==null?void 0:f.firstName} ${(h=s.topStudent.student)==null?void 0:h.lastName}`:"-"}),o.jsxs("div",{className:"text-xs text-purple-600",children:["Avg: ",(m=s.topStudent)==null?void 0:m.averageScore.toFixed(1),"%"]})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto p-0 md:p-6 print:p-0 print:overflow-visible print:h-auto",children:o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700 font-bold border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 border-r border-gray-200 whitespace-nowrap w-16 text-center",children:"Pos"}),o.jsx("th",{className:"px-4 py-3 border-r border-gray-200 whitespace-nowrap min-w-[200px] sticky left-0 bg-gray-100 z-10",children:"Student Name"}),n.map(p=>o.jsx("th",{className:"px-2 py-3 border-r border-gray-200 text-center w-24 whitespace-normal text-xs uppercase bg-gray-50",children:o.jsx("div",{className:"-rotate-45 h-12 flex items-end justify-center pb-1",children:p.substring(0,10)})},p)),o.jsx("th",{className:"px-4 py-3 border-r border-gray-200 text-center bg-gray-100",children:"Total"}),o.jsx("th",{className:"px-4 py-3 border-r border-gray-200 text-center bg-gray-100",children:"Avg %"}),o.jsx("th",{className:"px-4 py-3 text-center bg-gray-100 whitespace-nowrap",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 text-gray-800",children:a.map((p,g)=>{var x,v;return o.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center font-bold text-gray-500",children:p.rank||g+1}),o.jsxs("td",{className:"px-4 py-2 border-r border-gray-100 font-medium whitespace-nowrap sticky left-0 bg-white group-hover:bg-blue-50 z-10",children:[(x=p.student)==null?void 0:x.firstName," ",(v=p.student)==null?void 0:v.lastName]}),n.map(y=>{const b=p.subjectScores[y];let N="text-gray-800";return b>=75?N="text-green-600 font-bold":b<50&&(N="text-red-500 font-medium"),o.jsx("td",{className:`px-2 py-2 border-r border-gray-100 text-center ${N}`,children:b!==void 0?Math.round(b):"-"},y)}),o.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center font-bold",children:Math.round(p.totalScore)}),o.jsx("td",{className:"px-4 py-2 border-r border-gray-100 text-center font-bold text-blue-700",children:p.averageScore.toFixed(1)}),o.jsx("td",{className:"px-4 py-2 text-center text-xs",children:p.averageScore>=50?o.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Pass"}):o.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Fail"})})]},p.id)})})]})})})]})},z6e=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"8",r:"7"}),o.jsx("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})]}),QV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,l]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(null),[p,g]=k.useState(!1),[x,v]=k.useState(null),[y,b]=k.useState(null),[N,A]=k.useState([]),[S,j]=k.useState(!1),[E,C]=k.useState(!1),[I,T]=k.useState(!1),[P,H]=k.useState(""),[q,ae]=k.useState(""),[R,z]=k.useState(!1),Y=dc.useRef(null);k.useEffect(()=>{Q()},[]),k.useEffect(()=>{h&&Y.current&&(Y.current.scrollIntoView({behavior:"smooth"}),H(h.classTeacherRemark||""),ae(h.principalRemark||""))},[h]);const U=async()=>{if(h)try{z(!0),await pl.updateReportRemarks(h.studentId,h.termId,{classTeacherRemark:P,principalRemark:q}),b("Remarks updated successfully"),m(D=>D?{...D,classTeacherRemark:P,principalRemark:q}:null)}catch{v("Failed to update remarks")}finally{z(!1)}};k.useEffect(()=>{i?pe(i):n([]),C(!1)},[i]);const Q=async()=>{try{const[D,X]=await Promise.all([Ae.get("/classes"),Ae.get("/academic-terms")]);t(D.data),s(X.data)}catch(D){console.error("Failed to fetch initial data",D)}},pe=async D=>{try{const X=await Ae.get(`/classes/${D}/students`);n(X.data)}catch(X){console.error("Failed to fetch students",X)}},F=async()=>{var D,X;if(!(!c||!d))try{g(!0),v(null),b(null);const V=await pl.generateStudentReport(c,d);m(V),b("Report generated successfully")}catch(V){v(((X=(D=V.response)==null?void 0:D.data)==null?void 0:X.message)||"Failed to generate report")}finally{g(!1)}},M=async D=>{var X,V;if(!(!i||!d))try{g(!0),v(null),await pl.generateClassReports(i,d);const ee=await pl.getClassReports(i,d);if(ee.length===0){v("No students found in this class.");return}A(ee);const K=((X=e.find(xe=>xe.id===i))==null?void 0:X.name)||"Class",ce=((V=a.find(xe=>xe.id===d))==null?void 0:V.name)||"Term";D==="PRINT"?(j(!0),setTimeout(()=>{window.print()},1e3)):D==="EXCEL"?(I6e(ee,K,ce),b("Excel exported successfully")):D==="CSV"&&(M6e(ee,K,ce),b("CSV exported successfully"))}catch(ee){console.error(ee),v("Failed to export reports")}finally{g(!1),T(!1)}},B=async()=>{if(!(!i||!d))try{g(!0),await pl.generateClassReports(i,d);const D=await pl.getClassReports(i,d);if(D.length===0){v("No students found in this class.");return}A(D),C(!0),m(null)}catch{v("Failed to load broadsheet")}finally{g(!1)}};return E?o.jsx("div",{className:"p-6 h-[calc(100vh-64px)]",children:o.jsx(B6e,{reports:N,onClose:()=>C(!1)})}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Report Cards"}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),o.jsxs("select",{value:d,onChange:D=>f(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Term"}),a.map(D=>o.jsxs("option",{value:D.id,children:[D.name," (",new Date(D.startDate).getFullYear(),")"]},D.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Class"}),o.jsxs("select",{value:i,onChange:D=>{l(D.target.value),u("")},className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Class"}),e.map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Student"}),o.jsxs("select",{value:c,onChange:D=>u(D.target.value),disabled:!i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none disabled:bg-gray-100 dark:disabled:bg-slate-700 disabled:text-gray-400 dark:disabled:text-gray-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"None (Select for individual report)"}),r.map(D=>o.jsxs("option",{value:D.id,children:[D.firstName," ",D.lastName]},D.id))]})]})]}),o.jsxs("div",{className:"mt-6 flex gap-3",children:[o.jsxs("button",{onClick:F,disabled:!c||!d||p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:[o.jsx(Os,{size:20}),p&&c?"Generating...":"Generate Student Report"]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>T(!I),disabled:!i||!d||p,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed",children:[o.jsx(Qs,{size:20}),"Export / Print"]}),I&&o.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-gray-100 dark:border-slate-700 z-50 overflow-hidden",children:[o.jsxs("button",{onClick:()=>M("PRINT"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-gray-300 border-b border-gray-50 dark:border-slate-700",children:[o.jsx(nx,{size:16,className:"text-blue-600"}),"Print Reports (PDF)"]}),o.jsxs("button",{onClick:()=>M("EXCEL"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-gray-300 border-b border-gray-50 dark:border-slate-700",children:[o.jsx(Ly,{size:16,className:"text-green-600"}),"Export Excel (Results)"]}),o.jsxs("button",{onClick:()=>M("CSV"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[o.jsx(Os,{size:16,className:"text-gray-500"}),"Export CSV"]})]})]}),o.jsxs("button",{onClick:B,disabled:!i||!d||p,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:bg-emerald-300 disabled:cursor-not-allowed",children:[o.jsx(Ly,{size:20}),"Broadsheet"]})]}),x&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[o.jsx(gc,{size:20}),o.jsx("span",{children:x}),o.jsx("button",{onClick:()=>v(null),className:"ml-auto",children:o.jsx("div",{className:"sr-only",children:"Close"})})]}),y&&o.jsxs("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg border border-green-200 dark:border-green-800 flex items-center gap-2",children:[o.jsx(da,{size:20}),o.jsx("span",{children:y}),o.jsx("button",{onClick:()=>b(null),className:"ml-auto",children:o.jsx("div",{className:"sr-only",children:"Close"})})]})]}),h&&!S&&o.jsx("div",{id:"printable-report",ref:Y,children:o.jsx(nL,{report:h,editable:!0,teacherRemark:P,principalRemark:q,onTeacherRemarkChange:H,onPrincipalRemarkChange:ae,onSaveRemarks:U,saving:R})}),S&&N.length>0&&o.jsx("div",{className:"print-only",children:N.map(D=>o.jsx("div",{style:{pageBreakAfter:"always"},className:"pb-8",children:o.jsx(nL,{report:D,editable:!1})},D.id))})]})},aL=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],eq=()=>{const{user:e}=ma(),{settings:t}=O3(),[r,n]=k.useState("CLASS"),[a,s]=k.useState(""),[i,l]=k.useState(""),[c,u]=k.useState(null),[d,f]=k.useState([]),[h,m]=k.useState([]),[p,g]=k.useState([]),[x,v]=k.useState([]),[y,b]=k.useState(!1),[N,A]=k.useState(!1),[S,j]=k.useState({dayOfWeek:"MONDAY",startTime:"08:00",endTime:"08:40",subjectId:"",teacherId:"",classIds:[]});k.useEffect(()=>{E()},[]),k.useEffect(()=>{c&&(r==="CLASS"&&a?C():r==="TEACHER"&&i&&I())},[r,a,i,c]);const E=async()=>{try{const R=(e==null?void 0:e.role)==="PARENT",[z,Y]=await Promise.all([Ae.get("/academic-terms"),Ae.get("/subjects")]),U=z.data.find(Q=>Q.isActive)||z.data[0];if(u(U),v(Y.data),R){const pe=(await Ae.get("/students/my-children")).data.map(F=>F.class).filter(F=>F).reduce((F,M)=>F.find(D=>D.id===M.id)?F:F.concat([M]),[]);m(pe),pe.length>0&&s(pe[0].id)}else if((e==null?void 0:e.role)==="STUDENT"){const Q=await Ae.get("/students/profile/me");Q.data.class&&(m([Q.data.class]),s(Q.data.class.id))}else{const[Q,pe]=await Promise.all([Ae.get("/classes"),Ae.get("/users/teachers")]);m(Q.data),g(pe.data),(e==null?void 0:e.role)==="TEACHER"?(n("TEACHER"),l(e.id)):Q.data.length>0&&s(Q.data[0].id)}}catch(R){console.error("Error fetching initial data:",R)}},C=async()=>{if(!(!a||!c)){b(!0);try{const R=await Ae.get(`/timetables/class/${a}?termId=${c.id}`);f(R.data)}catch(R){console.error("Error fetching class timetable:",R)}finally{b(!1)}}},I=async()=>{if(!(!i||!c)){b(!0);try{const R=await Ae.get(`/timetables/teacher/${i}?termId=${c.id}`);f(R.data)}catch(R){console.error("Error fetching teacher timetable:",R)}finally{b(!1)}}},T=async R=>{var z,Y;if(R.preventDefault(),!!c)try{let U=S.classIds;r==="CLASS"&&a&&U.length===0&&(U=[a]),await Ae.post("/timetables",{classIds:U,dayOfWeek:S.dayOfWeek,startTime:S.startTime,endTime:S.endTime,subjectId:S.subjectId,...r==="TEACHER"&&i?{teacherId:i}:{},academicTermId:c.id}),A(!1),r==="CLASS"?C():I(),j(Q=>({...Q,startTime:Q.endTime,endTime:"",classIds:[]}))}catch(U){console.error("Error adding period:",U),alert(((Y=(z=U.response)==null?void 0:z.data)==null?void 0:Y.message)||"Failed to add period")}},P=async R=>{if(confirm("Are you sure you want to delete this period?"))try{await Ae.delete(`/timetables/${R}`),r==="CLASS"?C():I()}catch(z){console.error("Error deleting period:",z)}},H=R=>d.filter(z=>z.dayOfWeek===R),q=()=>{var V;if(d.length===0){alert("No timetable data to export");return}const R=["Day","Start Time","End Time","Subject","Subject Code","Teacher","Classes"],z=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],U=[...d].sort((ee,K)=>{const ce=z.indexOf(ee.dayOfWeek)-z.indexOf(K.dayOfWeek);return ce!==0?ce:ee.startTime.localeCompare(K.startTime)}).map(ee=>{var K,ce;return[ee.dayOfWeek,ee.startTime,ee.endTime,ee.subject.name,ee.subject.code,((K=ee.teacher)==null?void 0:K.fullName)||"N/A",((ce=ee.classNames)==null?void 0:ce.join("; "))||"N/A"]}),Q=[R,...U].map(ee=>ee.map(K=>`"${K}"`).join(",")).join(`
`),pe=new Blob([Q],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(pe),M=document.createElement("a");M.setAttribute("href",F);const B=h.find(ee=>ee.id===a),D=p.find(ee=>ee.id===i),X=r==="CLASS"?`timetable_${(B==null?void 0:B.name)||"class"}_${(c==null?void 0:c.name)||"term"}.csv`:`timetable_${((V=D==null?void 0:D.fullName)==null?void 0:V.replace(/\s+/g,"_"))||"teacher"}_${(c==null?void 0:c.name)||"term"}.csv`;M.setAttribute("download",X),document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(F)},ae=()=>{const R=h.find(D=>D.id===a),z=p.find(D=>D.id===i),Y=r==="CLASS"?(R==null?void 0:R.name)||"Class":(z==null?void 0:z.fullName)||"Teacher",U=r==="CLASS"?"Class Schedule":"Teacher Schedule",Q=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],pe={MONDAY:"#3b82f6",TUESDAY:"#10b981",WEDNESDAY:"#f59e0b",THURSDAY:"#8b5cf6",FRIDAY:"#ec4899"},F=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),M=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${U} - ${Y}</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          
          body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.5;
          }
          
          .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 30px;
            background: white;
            min-height: 100vh;
          }
          
          /* Header */
          .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 3px solid #3b82f6;
          }
          
          .school-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border-radius: 16px;
            margin-bottom: 16px;
            box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);
          }
          
          .school-badge svg {
            width: 36px;
            height: 36px;
            fill: white;
          }
          
          .school-name {
            font-size: 24px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
          }
          
          .title {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
          }
          
          .subtitle {
            font-size: 18px;
            color: #3b82f6;
            font-weight: 600;
            margin-bottom: 4px;
          }
          
          .term-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            color: #0369a1;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            margin-top: 12px;
            border: 1px solid #bae6fd;
          }
          
          /* Week Grid */
          .week-grid {
            display: grid;
            gap: 20px;
          }
          
          .day-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
            border: 1px solid #e2e8f0;
          }
          
          .day-header {
            padding: 14px 20px;
            color: white;
            font-weight: 600;
            font-size: 15px;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 10px;
          }
          
          .day-header .icon {
            width: 20px;
            height: 20px;
            opacity: 0.9;
          }
          
          .periods-list {
            padding: 0;
          }
          
          .period-row {
            display: grid;
            grid-template-columns: 120px 1fr 180px;
            gap: 16px;
            padding: 16px 20px;
            border-bottom: 1px solid #f1f5f9;
            align-items: center;
          }
          
          .period-row:last-child {
            border-bottom: none;
          }
          
          .period-row:hover {
            background: #fafbfc;
          }
          
          .time-slot {
            font-size: 13px;
            font-weight: 600;
            color: #475569;
            background: #f1f5f9;
            padding: 6px 12px;
            border-radius: 8px;
            text-align: center;
          }
          
          .subject-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
          }
          
          .subject-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 15px;
          }
          
          .subject-code {
            font-size: 12px;
            color: #64748b;
            font-weight: 500;
          }
          
          .teacher-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #475569;
          }
          
          .teacher-avatar {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: #4338ca;
          }
          
          .combined-badge {
            display: inline-block;
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            color: #7c3aed;
            font-size: 11px;
            padding: 3px 10px;
            border-radius: 12px;
            font-weight: 600;
            margin-left: 8px;
            border: 1px solid #e9d5ff;
          }
          
          .no-classes {
            padding: 24px 20px;
            text-align: center;
            color: #94a3b8;
            font-style: italic;
            font-size: 14px;
          }
          
          /* Footer */
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #94a3b8;
          }
          
          .footer-logo {
            font-weight: 600;
            color: #64748b;
          }
          
          /* Print Styles */
          @media print {
            body { 
              background: white; 
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
            }
            .container { 
              padding: 20px; 
              box-shadow: none;
            }
            .day-card {
              break-inside: avoid;
              box-shadow: none;
              border: 1px solid #d1d5db;
            }
            .period-row {
              break-inside: avoid;
            }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="school-badge" style="background: transparent; box-shadow: none;">
              ${t.logoUrl?`<img src="${t.logoUrl.startsWith("http")?t.logoUrl:window.location.origin+t.logoUrl}" alt="Logo" style="width: 80px; height: 80px; object-fit: contain;">`:`<div style="width: 70px; height: 70px; background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); border-radius: 16px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);">
                     <svg viewBox="0 0 24 24" style="width: 36px; height: 36px; fill: white;"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/></svg>
                   </div>`}
            </div>
            <p class="school-name">${t.schoolName||"School Name"}</p>
            <h1 class="title">${Y}</h1>
            <p class="subtitle">${U}</p>
            <span class="term-badge"> ${(c==null?void 0:c.name)||"Academic Term"}</span>
          </div>
          
          <div class="week-grid">
            ${Q.map(D=>{const X=d.filter(ee=>ee.dayOfWeek===D).sort((ee,K)=>ee.startTime.localeCompare(K.startTime)),V=pe[D]||"#3b82f6";return`
                <div class="day-card">
                  <div class="day-header" style="background: linear-gradient(135deg, ${V} 0%, ${V}dd 100%);">
                    <svg class="icon" viewBox="0 0 24 24" fill="white"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"/></svg>
                    ${D}
                  </div>
                  ${X.length===0?'<div class="no-classes">No scheduled classes</div>':`<div class="periods-list">
                        ${X.map(ee=>{var ce,xe,G;const K=(((ce=ee.teacher)==null?void 0:ce.fullName)||"NA").split(" ").map(Ce=>Ce[0]).join("").substring(0,2);return`
                            <div class="period-row">
                              <div class="time-slot">${ee.startTime} - ${ee.endTime}</div>
                              <div class="subject-info">
                                <span class="subject-name">${ee.subject.name}</span>
                                <span class="subject-code">${ee.subject.code}</span>
                              </div>
                              <div class="teacher-info">
                                <div class="teacher-avatar">${K}</div>
                                ${r==="CLASS"?((xe=ee.teacher)==null?void 0:xe.fullName)||"Not Assigned":((G=ee.classNames)==null?void 0:G.join(", "))||"N/A"}
                                ${ee.isCombined?'<span class="combined-badge">Combined</span>':""}
                              </div>
                            </div>
                          `}).join("")}
                      </div>`}
                </div>
              `}).join("")}
          </div>
          
          <div class="footer">
            <span class="footer-logo"> ${t.schoolName||"School Name"}</span>
            <span>Generated on ${F}</span>
          </div>
        </div>
      </body>
      </html>
    `,B=window.open("","_blank");B&&(B.document.write(M),B.document.close(),B.focus(),setTimeout(()=>{B.print()},300))};return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[o.jsx(Va,{className:"text-blue-600"}),"Class Timetable"]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c?`${c.name} Schedule`:"Loading term..."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY"].includes((e==null?void 0:e.role)||"")&&o.jsxs("div",{className:"bg-gray-100 dark:bg-slate-700 p-1 rounded-lg flex",children:[o.jsx("button",{onClick:()=>n("CLASS"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="CLASS"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Class View"}),o.jsx("button",{onClick:()=>n("TEACHER"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="TEACHER"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Teacher View"})]}),r==="CLASS"?(e==null?void 0:e.role)==="STUDENT"&&h.length>0?o.jsxs("div",{className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg text-blue-800 dark:text-blue-300 font-medium flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-500 dark:text-blue-400 text-xs uppercase font-bold",children:"Your Class:"}),h[0].name]}):o.jsxs("select",{value:a,onChange:R=>s(R.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Class"}),h.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))]}):o.jsxs("select",{value:i,onChange:R=>l(R.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Teacher"}),p.map(R=>o.jsx("option",{value:R.id,children:R.fullName},R.id))]}),((e==null?void 0:e.role)==="SUPER_ADMIN"||(e==null?void 0:e.role)==="TEACHER")&&o.jsxs("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",disabled:!a&&!i,children:[o.jsx(fa,{size:20}),"Add Period"]}),d.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:q,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",title:"Export to CSV",children:[o.jsx(Qs,{size:18}),"CSV"]}),o.jsxs("button",{onClick:ae,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",title:"Print / Save as PDF",children:[o.jsx(nx,{size:18}),"Print"]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:aL.map(R=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col h-full",children:[o.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 px-4 py-3 border-b border-gray-200 dark:border-slate-600 font-semibold text-gray-700 dark:text-gray-200 text-center",children:R}),o.jsx("div",{className:"p-2 space-y-2 flex-1 min-h-[200px]",children:H(R).length===0?o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 dark:text-gray-500 text-sm italic",children:"No classes"}):H(R).map(z=>{var Y,U,Q;return o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800 rounded-lg p-3 hover:shadow-md transition-shadow relative group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("span",{className:"text-xs font-bold text-blue-800 dark:text-blue-300 bg-blue-100 dark:bg-blue-800/50 px-2 py-0.5 rounded",children:[z.startTime," - ",z.endTime]}),((e==null?void 0:e.role)==="SUPER_ADMIN"||(e==null?void 0:e.role)==="TEACHER")&&o.jsx("button",{onClick:()=>P(z.id),className:"text-red-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(fs,{size:14})})]}),o.jsx("h4",{className:"font-bold text-gray-800 dark:text-white text-sm mb-1",children:z.subject.name}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1",children:r==="CLASS"?o.jsxs(o.Fragment,{children:[o.jsx(_i,{size:12}),((Y=z.teacher)==null?void 0:Y.fullName)||"No Teacher",z.isCombined&&o.jsxs("span",{className:"ml-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded text-xs",children:["Combined: ",(U=z.classNames)==null?void 0:U.join(", ")]})]}):o.jsxs(o.Fragment,{children:[o.jsx(en,{size:12}),((Q=z.classNames)==null?void 0:Q.join(", "))||"No Classes",z.isCombined&&o.jsx("span",{className:"ml-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded text-xs",children:"Combined"})]})})]},z.id)})})]},R))}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Add Timetable Period"}),o.jsxs("form",{onSubmit:T,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Day"}),o.jsx("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:S.dayOfWeek,onChange:R=>j({...S,dayOfWeek:R.target.value}),children:aL.map(R=>o.jsx("option",{value:R,children:R},R))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),o.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:S.subjectId,onChange:R=>j({...S,subjectId:R.target.value}),children:[o.jsx("option",{value:"",children:"Select Subject"}),x.map(R=>o.jsxs("option",{value:R.id,children:[R.name," (",R.code,")"]},R.id))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time"}),o.jsx("input",{type:"time",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:S.startTime,onChange:R=>j({...S,startTime:R.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),o.jsx("input",{type:"time",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:S.endTime,onChange:R=>j({...S,endTime:R.target.value})})]})]}),r==="CLASS"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Teacher"}),(()=>{const R=x.find(z=>z.id===S.subjectId);return S.subjectId?R!=null&&R.teacher?o.jsxs("div",{className:"px-3 py-2 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/30 rounded-lg text-green-800 dark:text-green-300 font-medium flex items-center gap-2",children:[o.jsx(_i,{size:16}),R.teacher.fullName,o.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 ml-auto",children:"(Auto-assigned)"})]}):o.jsx("div",{className:"px-3 py-2 border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg text-yellow-800 dark:text-yellow-300 text-sm",children:" No teacher assigned to this subject. Please assign one in the Subjects page."}):o.jsx("div",{className:"px-3 py-2 border border-gray-200 dark:border-slate-600 bg-gray-50 dark:bg-slate-700 rounded-lg text-gray-500 dark:text-gray-400 text-sm italic",children:"Select a subject first"})})()]}):o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Classes ",o.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:"(Select one or more for combined sessions)"})]}),o.jsx("div",{className:"border border-gray-300 dark:border-slate-600 rounded-lg max-h-40 overflow-y-auto p-2 space-y-1 bg-white dark:bg-slate-700",children:h.map(R=>o.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-gray-50 dark:hover:bg-slate-600 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:S.classIds.includes(R.id),onChange:z=>{z.target.checked?j({...S,classIds:[...S.classIds,R.id]}):j({...S,classIds:S.classIds.filter(Y=>Y!==R.id)})},className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:R.name})]},R.id))}),S.classIds.length>1&&o.jsxs("p",{className:"text-xs text-purple-600 mt-1 flex items-center gap-1",children:[o.jsx(en,{size:12}),"Combined session: ",S.classIds.length," classes selected"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Period"})]})]})]})})]})},U6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(""),[i,l]=k.useState(""),[c,u]=k.useState([]),[d,f]=k.useState({}),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState("");k.useEffect(()=>{y(),b()},[]);const y=async()=>{try{const j=await Ae.get("/classes");t(j.data)}catch(j){console.error("Failed to fetch classes",j)}},b=async()=>{try{const j=await Ae.get("/academic-terms");n(j.data);const E=j.data.find(C=>C.isCurrent);E&&l(E.id)}catch(j){console.error("Failed to fetch terms",j)}},N=async()=>{if(!(!a||!i)){m(!0);try{const j=await Ae.get("/promotions/candidates",{params:{classId:a,academicTermId:i}});u(j.data);const E={};j.data.forEach(C=>{E[C.studentId]={studentId:C.studentId,action:C.recommendedAction,reason:C.reason}}),f(E)}catch(j){console.error("Failed to fetch candidates",j),alert("Failed to fetch promotion candidates")}finally{m(!1)}}},A=(j,E)=>{f(C=>({...C,[j]:{...C[j],action:E}}))},S=async()=>{if(!x){alert("Please select the next class for promoted students");return}if(window.confirm("Are you sure you want to process these promotions? This action will update student records.")){g(!0);try{const j=Object.values(d).map(E=>({studentId:E.studentId,targetClassId:E.action==="PROMOTE"?x:a,reason:E.reason||(E.action==="PROMOTE"?"Promoted":"Retained")}));await Ae.post("/promotions/process",{promotions:j,currentTermId:i}),alert("Promotions processed successfully"),u([]),f({}),s("")}catch(j){console.error("Failed to process promotions",j),alert("Failed to process promotions")}finally{g(!1)}}};return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Promotion Criteria Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Class"}),o.jsxs("select",{value:a,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Class"}),e.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Term"}),o.jsxs("select",{value:i,onChange:j=>l(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Term"}),r.map(j=>o.jsxs("option",{value:j.id,children:[j.name," ",j.isCurrent?"(Current)":""]},j.id))]})]}),o.jsx("button",{onClick:N,disabled:!a||!i||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300",children:h?"Loading...":"Fetch Candidates"})]})]}),c.length>0&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Promotion Candidates"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Promote To:"}),o.jsxs("select",{value:x,onChange:j=>v(j.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded-lg text-sm bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Next Class"}),e.filter(j=>j.id!==a).map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("button",{onClick:S,disabled:p||!x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-300",children:[o.jsx(td,{size:18}),p?"Processing...":"Save Changes"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-100 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Student"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Average Score"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:c.map(j=>{var E,C;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:j.studentName}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.admissionNumber})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:`font-medium ${j.averageScore>=50?"text-green-600":"text-red-600"}`,children:[j.averageScore.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[j.recommendedAction==="PROMOTE"?o.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium bg-green-50 px-2 py-1 rounded",children:[o.jsx(da,{size:14})," Promote"]}):o.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-sm font-medium bg-red-50 px-2 py-1 rounded",children:[o.jsx(fh,{size:14})," Retain"]}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",j.reason,")"]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>A(j.studentId,"PROMOTE"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${((E=d[j.studentId])==null?void 0:E.action)==="PROMOTE"?"bg-green-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"}`,children:"Promote"}),o.jsx("button",{onClick:()=>A(j.studentId,"RETAIN"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${((C=d[j.studentId])==null?void 0:C.action)==="RETAIN"?"bg-red-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"}`,children:"Retain"})]})})]},j.studentId)})})]})})]})]})},$6e=()=>{const{user:e}=ma(),[t,r]=k.useState("SYLLABUS"),[n,a]=k.useState(""),[s,i]=k.useState(""),[l,c]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState([]),[m,p]=k.useState([]),[g,x]=k.useState(null),[v,y]=k.useState(!1),[b,N]=k.useState(!1),[A,S]=k.useState(!1),[j,E]=k.useState({weekStartDate:new Date().toISOString().split("T")[0],title:"",content:"",fileUrl:""}),[C,I]=k.useState({title:"",description:"",orderIndex:0});k.useEffect(()=>{T()},[]),k.useEffect(()=>{n&&s&&(t==="SYLLABUS"?P():H())},[n,s,t]);const T=async()=>{try{const[z,Y,U]=await Promise.all([Ae.get("/classes"),Ae.get("/subjects"),Ae.get("/academic-terms")]);c(z.data),d(Y.data);const Q=U.data.find(pe=>pe.isActive)||U.data[0];x(Q),z.data.length>0&&a(z.data[0].id),Y.data.length>0&&i(Y.data[0].id)}catch(z){console.error("Error fetching initial data:",z)}},P=async()=>{y(!0);try{const z=await Ae.get(`/syllabus/progress?classId=${n}&subjectId=${s}`);h(z.data)}catch(z){console.error("Error fetching syllabus:",z)}finally{y(!1)}},H=async()=>{y(!0);try{const z=await Ae.get(`/syllabus/lesson-plans?classId=${n}&subjectId=${s}`);p(z.data)}catch(z){console.error("Error fetching lesson plans:",z)}finally{y(!1)}},q=async(z,Y)=>{const U=Y==="COMPLETED"?"PENDING":"COMPLETED";try{await Ae.put(`/syllabus/progress/${z}/${n}`,{status:U}),h(f.map(Q=>Q.id===z?{...Q,status:U,completedAt:U==="COMPLETED"?new Date().toISOString():null}:Q))}catch(Q){console.error("Error updating status:",Q),P()}},ae=async z=>{if(z.preventDefault(),!!g)try{await Ae.post("/syllabus/lesson-plans",{...j,classId:n,subjectId:s,termId:g.id}),N(!1),E({weekStartDate:new Date().toISOString().split("T")[0],title:"",content:"",fileUrl:""}),H()}catch(Y){console.error("Error adding lesson plan:",Y)}},R=async z=>{z.preventDefault();const Y=l.find(U=>U.id===n);if(Y)try{await Ae.post("/syllabus/topics",{...C,subjectId:s,gradeLevel:Y.gradeLevel}),S(!1),I({title:"",description:"",orderIndex:0}),P()}catch(U){console.error("Error adding topic:",U)}};return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[o.jsx(ea,{className:"text-blue-600"}),"Lesson Planner"]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage syllabus coverage and lesson plans"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("select",{value:n,onChange:z=>a(z.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:l.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))}),o.jsx("select",{value:s,onChange:z=>i(z.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:u.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-slate-700 mb-6",children:[o.jsxs("button",{onClick:()=>r("SYLLABUS"),className:`px-6 py-3 font-medium text-sm transition-colors relative ${t==="SYLLABUS"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Syllabus Tracker",t==="SYLLABUS"&&o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]}),o.jsxs("button",{onClick:()=>r("PLANS"),className:`px-6 py-3 font-medium text-sm transition-colors relative ${t==="PLANS"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Lesson Plans",t==="PLANS"&&o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"})]})]}),t==="SYLLABUS"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Topics & Progress"}),o.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:18}),"Add Topic"]})]}),v?o.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading syllabus..."}):f.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No topics found for this subject/grade."}),o.jsx("button",{onClick:()=>S(!0),className:"mt-2 text-blue-600 font-medium hover:underline",children:"Add your first topic"})]}):o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 divide-y divide-gray-100 dark:divide-slate-700",children:f.map(z=>o.jsxs("div",{className:"p-4 flex items-start gap-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("button",{onClick:()=>q(z.id,z.status),className:`mt-1 flex-shrink-0 transition-colors ${z.status==="COMPLETED"?"text-green-500":"text-gray-300 hover:text-gray-400"}`,children:z.status==="COMPLETED"?o.jsx(da,{size:24}):o.jsx(yR,{size:24})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:`font-medium ${z.status==="COMPLETED"?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:z.title}),z.completedAt&&o.jsxs("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:["Completed ",new Date(z.completedAt).toLocaleDateString()]})]}),z.description&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:z.description})]})]},z.id))})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Weekly Lesson Plans"}),o.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:18}),"Create Plan"]})]}),v?o.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading plans..."}):m.length===0?o.jsx("div",{className:"text-center py-12 bg-gray-50 dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No lesson plans found."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(z=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full text-sm font-medium",children:[o.jsx(Va,{size:16}),"Week of ",new Date(z.weekStartDate).toLocaleDateString()]})}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:z.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3",children:z.content}),o.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[o.jsx(Os,{size:16}),z.teacher.fullName]}),o.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"})]})]},z.id))})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Add New Topic"}),o.jsxs("form",{onSubmit:R,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Topic Title"}),o.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:C.title,onChange:z=>I({...C,title:z.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:3,value:C.description,onChange:z=>I({...C,description:z.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Order Index"}),o.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:C.orderIndex,onChange:z=>I({...C,orderIndex:parseInt(z.target.value)})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Topic"})]})]})]})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Create Lesson Plan"}),o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Week Start Date"}),o.jsx("input",{type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:j.weekStartDate,onChange:z=>E({...j,weekStartDate:z.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),o.jsx("input",{type:"text",required:!0,placeholder:"e.g., Introduction to Algebra",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",value:j.title,onChange:z=>E({...j,title:z.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content / Objectives"}),o.jsx("textarea",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",rows:6,placeholder:"Outline the lesson objectives and activities...",value:j.content,onChange:z=>E({...j,content:z.target.value})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Plan"})]})]})]})})]})},W6e=()=>{const{user:e}=ma(),[t,r]=k.useState(""),a=[{id:"assessments",label:"Assessments",roles:["SUPER_ADMIN","TEACHER"]},{id:"reports",label:"Report Cards",roles:["SUPER_ADMIN","TEACHER","SECRETARY"]},{id:"lesson-planner",label:"Lesson Planner",roles:["SUPER_ADMIN","TEACHER"]},{id:"timetable",label:"Timetable",roles:["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY","PARENT","STUDENT"]},{id:"classes",label:"Classes",roles:["SUPER_ADMIN","SECRETARY"]},{id:"subjects",label:"Subjects",roles:["SUPER_ADMIN"]},{id:"grading",label:"Grading Scales",roles:["SUPER_ADMIN"]},{id:"terms",label:"Terms",roles:["SUPER_ADMIN"]},{id:"promotions",label:"Promotions",roles:["SUPER_ADMIN"]}].filter(s=>e&&(s.roles.includes(e.role)||e.role==="SUPER_ADMIN"));return k.useEffect(()=>{a.length>0&&(!t||!a.find(s=>s.id===t))&&r(a[0].id)},[e,a.length,t]),e?o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Academic Management"}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700 flex flex-wrap gap-1",children:a.map(s=>o.jsx("button",{onClick:()=>r(s.id),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all whitespace-nowrap ${t===s.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-700/50"}`,children:s.label},s.id))})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 min-h-[400px]",children:[t==="classes"&&a.find(s=>s.id==="classes")&&o.jsx(ZV,{}),t==="subjects"&&a.find(s=>s.id==="subjects")&&o.jsx(XV,{}),t==="assessments"&&a.find(s=>s.id==="assessments")&&o.jsx(D6e,{}),t==="grading"&&a.find(s=>s.id==="grading")&&o.jsx(JV,{}),t==="reports"&&a.find(s=>s.id==="reports")&&o.jsx(QV,{}),t==="timetable"&&a.find(s=>s.id==="timetable")&&o.jsx(eq,{}),t==="lesson-planner"&&a.find(s=>s.id==="lesson-planner")&&o.jsx($6e,{}),t==="terms"&&a.find(s=>s.id==="terms")&&o.jsx(O6e,{}),t==="promotions"&&a.find(s=>s.id==="promotions")&&o.jsx(U6e,{})]})]}):null},sL=["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT","STUDENT"],H6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(""),[i,l]=k.useState(""),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState({fullName:"",email:"",role:"TEACHER",password:"",branchId:""}),[p,g]=k.useState([]);k.useEffect(()=>{v(),x()},[i]);const x=async()=>{try{const E=await Ae.get("/branches");g(E.data)}catch(E){console.error("Failed to fetch branches",E)}},v=async()=>{n(!0);try{const E={};i&&(E.role=i);const C=await Ae.get("/users",{params:E});t(C.data)}catch(E){console.error("Failed to fetch users",E)}finally{n(!1)}},y=async E=>{var C,I;E.preventDefault();try{if(d){const T={fullName:h.fullName,email:h.email,role:h.role};h.password&&(T.password=h.password),h.branchId?T.branchId=h.branchId:T.branchId=null,await Ae.put(`/users/${d.id}`,T)}else await Ae.post("/users",h);v(),u(!1),N()}catch(T){console.error("Failed to save user",T),alert(((I=(C=T.response)==null?void 0:C.data)==null?void 0:I.error)||"Failed to save user")}},b=async E=>{if(window.confirm("Are you sure you want to change this user's status?"))try{await Ae.patch(`/users/${E}/status`),v()}catch(C){console.error("Failed to toggle status",C)}},N=()=>{m({fullName:"",email:"",role:"TEACHER",password:"",branchId:""}),f(null)},A=E=>{f(E),m({fullName:E.fullName,email:E.email,role:E.role,password:"",branchId:E.branchId||""}),u(!0)},S=()=>{N(),u(!0)},j=e.filter(E=>E.fullName.toLowerCase().includes(a.toLowerCase())||E.email.toLowerCase().includes(a.toLowerCase()));return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"User Management"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage system access and roles"})]}),o.jsxs("button",{onClick:S,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add User"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ei,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),o.jsxs("select",{value:i,onChange:E=>l(E.target.value),className:"px-4 py-2 border border-gray-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"All Roles"}),sL.map(E=>o.jsx("option",{value:E,children:E.replace("_"," ")},E))]})]}),r?o.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading users..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-100 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:j.map(E=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold mr-3",children:E.fullName.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:E.fullName}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:E.email})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 w-fit",children:E.role.replace("_"," ")}),E.branch&&o.jsxs("span",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[o.jsx(A4,{size:12,className:"mr-1"}),E.branch.name]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.isActive?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:E.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:new Date(E.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>A(E),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Edit User",children:o.jsx(uo,{size:18})}),o.jsx("button",{onClick:()=>b(E.id),className:`${E.isActive?"text-green-600 hover:text-red-600":"text-red-600 hover:text-green-600"} transition-colors`,title:E.isActive?"Deactivate User":"Activate User",children:o.jsx(cee,{size:18})})]})})]},E.id))})]})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pb-safe",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto pb-safe",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:d?"Edit User":"Add New User"}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(_i,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",required:!0,value:h.fullName,onChange:E=>m({...h,fullName:E.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"John Doe"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(E0,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"email",required:!0,value:h.email,onChange:E=>m({...h,email:E.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"john@example.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Role"}),o.jsxs("div",{className:"relative",children:[o.jsx(fee,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("select",{value:h.role,onChange:E=>m({...h,role:E.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:sL.map(E=>o.jsx("option",{value:E,children:E.replace("_"," ")},E))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Branch (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(A4,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:h.branchId,onChange:E=>m({...h,branchId:E.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"No Branch (Global Access)"}),p.map(E=>o.jsxs("option",{value:E.id,children:[E.name," (",E.code,")"]},E.id))]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for SUPER_ADMIN or global users."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:d?"New Password (leave blank to keep current)":"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(bR,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"password",required:!d,minLength:6,value:h.password,onChange:E=>m({...h,password:E.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:d?"":"Enter password"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:d?"Update User":"Create User"})]})]})]})})]})},V6e=()=>{const e=po(),{user:t}=ma(),r=["SUPER_ADMIN","BRANCH_MANAGER"].includes((t==null?void 0:t.role)||""),n=(t==null?void 0:t.role)==="SUPER_ADMIN",[a,s]=k.useState([]),[i,l]=k.useState(!0),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState({name:"",code:"",address:"",phone:"",email:"",isMain:!1,status:"ACTIVE",capacity:""});k.useEffect(()=>{p()},[]);const p=async()=>{try{const S=await Ae.get("/branches");s(S.data)}catch(S){console.error("Failed to fetch branches",S)}finally{l(!1)}},g=async S=>{var j,E;S.preventDefault();try{const C={...h,capacity:h.capacity?Number(h.capacity):void 0};d?await Ae.put(`/branches/${d.id}`,C):await Ae.post("/branches",C),p(),u(!1),b()}catch(C){console.error("Failed to save branch",C),alert(((E=(j=C.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to save branch")}},x=async S=>{var j,E;if(window.confirm("Are you sure you want to delete this branch?"))try{await Ae.delete(`/branches/${S}`),p()}catch(C){console.error("Failed to delete branch",C),alert(((E=(j=C.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to delete branch")}},v=S=>{f(S),m({name:S.name,code:S.code,address:S.address||"",phone:S.phone||"",email:S.email||"",isMain:S.isMain,status:S.status,capacity:S.capacity||""}),u(!0)},y=()=>{b(),u(!0)},b=()=>{m({name:"",code:"",address:"",phone:"",email:"",isMain:!1,status:"ACTIVE",capacity:""}),f(null)},N=S=>{switch(S){case"ACTIVE":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"INACTIVE":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"MAINTENANCE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800"}},A=S=>{var j;return!S.capacity||!((j=S._count)!=null&&j.students)?null:Math.round(S._count.students/S.capacity*100)};return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Branches"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage school campuses"})]}),n&&o.jsxs("button",{onClick:y,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(fa,{size:20}),o.jsx("span",{children:"Add Branch"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i?o.jsx("div",{className:"col-span-full text-center py-10 text-gray-500",children:"Loading branches..."}):a.map(S=>{var E,C,I,T;const j=A(S);return o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>e(`/branches/${S.id}`),children:o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${S.isMain?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:o.jsx(gR,{size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:S.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-xs font-mono bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:S.code}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${N(S.status)}`,children:S.status}),S.isMain&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium",children:"Main"})]})]})]}),o.jsxs("div",{className:"flex space-x-1",onClick:P=>P.stopPropagation(),children:[o.jsx("button",{onClick:()=>e(`/branches/${S.id}`),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"View Details",children:o.jsx(sg,{size:16})}),r&&o.jsx("button",{onClick:()=>v(S),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",children:o.jsx(uo,{size:16})}),n&&!S.isMain&&o.jsx("button",{onClick:()=>x(S.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",children:o.jsx(fs,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[S.address&&o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(rx,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{className:"line-clamp-1",children:S.address})]}),S.phone&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(C0,{size:16}),o.jsx("span",{children:S.phone})]}),S.email&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(E0,{size:16}),o.jsx("span",{className:"truncate",children:S.email})]})]}),j!==null&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[o.jsx("span",{children:"Capacity"}),o.jsxs("span",{children:[(E=S._count)==null?void 0:E.students,"/",S.capacity," (",j,"%)"]})]}),o.jsx("div",{className:"h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all ${j>90?"bg-red-500":j>75?"bg-yellow-500":"bg-blue-600"}`,style:{width:`${Math.min(j,100)}%`}})})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-slate-700 grid grid-cols-3 gap-2 text-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500 uppercase",children:[o.jsx(Ai,{size:12}),o.jsx("span",{children:"Students"})]}),o.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:((C=S._count)==null?void 0:C.students)||0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500 uppercase",children:[o.jsx(ea,{size:12}),o.jsx("span",{children:"Classes"})]}),o.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:((I=S._count)==null?void 0:I.classes)||0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500 uppercase",children:[o.jsx(en,{size:12}),o.jsx("span",{children:"Staff"})]}),o.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:((T=S._count)==null?void 0:T.users)||0})]})]})]})},S.id)})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:d?"Edit Branch":"Add New Branch"}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Branch Name"}),o.jsx("input",{type:"text",required:!0,value:h.name,onChange:S=>m({...h,name:S.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"e.g. North Campus"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Branch Code"}),o.jsx("input",{type:"text",required:!0,value:h.code,onChange:S=>m({...h,code:S.target.value.toUpperCase()}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"e.g. NTH"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),o.jsxs("select",{value:h.status,onChange:S=>m({...h,status:S.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",children:[o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"INACTIVE",children:"Inactive"}),o.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:h.phone,onChange:S=>m({...h,phone:S.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Optional"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Capacity"}),o.jsx("input",{type:"number",value:h.capacity,onChange:S=>m({...h,capacity:S.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Max students"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:h.email,onChange:S=>m({...h,email:S.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Optional"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),o.jsx("textarea",{value:h.address,onChange:S=>m({...h,address:S.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Optional",rows:2})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isMain",checked:h.isMain,onChange:S=>m({...h,isMain:S.target.checked}),className:"rounded text-blue-600"}),o.jsx("label",{htmlFor:"isMain",className:"text-sm text-gray-700 dark:text-gray-300",children:"Set as Main Campus"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:d?"Save Changes":"Create Branch"})]})]})]})})]})},q6e=()=>{const{id:e}=h2(),t=po(),{user:r}=ma(),[n,a]=k.useState(null),[s,i]=k.useState(null),[l,c]=k.useState(null),[u,d]=k.useState("overview"),[f,h]=k.useState(!0),[m,p]=k.useState([]),[g,x]=k.useState([]),[v,y]=k.useState([]),[b,N]=k.useState([]),A=["SUPER_ADMIN","BRANCH_MANAGER"].includes((r==null?void 0:r.role)||"");k.useEffect(()=>{e&&S()},[e]);const S=async()=>{try{h(!0);const[q,ae,R]=await Promise.all([Ae.get(`/branches/${e}`),Ae.get(`/branches/${e}/analytics`),Ae.get(`/branches/${e}/financial-summary`)]);a(q.data),i(ae.data),c(R.data)}catch(q){console.error("Failed to fetch branch data",q)}finally{h(!1)}},j=async()=>{try{const q=await Ae.get(`/students?branchId=${e}`);p(q.data.students||q.data)}catch(q){console.error("Failed to fetch students",q)}},E=async()=>{try{const q=await Ae.get(`/users?branchId=${e}`);x(q.data)}catch(q){console.error("Failed to fetch staff",q)}},C=async()=>{try{const q=await Ae.get(`/classes?branchId=${e}`);y(q.data)}catch(q){console.error("Failed to fetch classes",q)}},I=async()=>{try{const q=await Ae.get(`/branches/${e}/transfers`);N(q.data)}catch(q){console.error("Failed to fetch transfers",q)}};k.useEffect(()=>{u==="students"&&m.length===0&&j(),u==="staff"&&g.length===0&&E(),u==="classes"&&v.length===0&&C(),u==="transfers"&&b.length===0&&I()},[u]);const T=q=>{switch(q){case"ACTIVE":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"INACTIVE":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"MAINTENANCE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800"}},P=q=>new Intl.NumberFormat("en-ZM",{style:"currency",currency:"ZMW"}).format(q);if(f)return o.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:o.jsx(Ou,{className:"animate-spin text-blue-600",size:32})});if(!n)return o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("p",{className:"text-gray-500",children:"Branch not found"}),o.jsx(xu,{to:"/branches",className:"text-blue-600 hover:underline mt-2 inline-block",children:"Back to Branches"})]});const H=[{key:"overview",label:"Overview",icon:o.jsx(zQ,{size:16})},{key:"students",label:"Students",icon:o.jsx(Ai,{size:16})},{key:"staff",label:"Staff",icon:o.jsx(en,{size:16})},{key:"classes",label:"Classes",icon:o.jsx(ea,{size:16})},{key:"finances",label:"Finances",icon:o.jsx(Do,{size:16})},{key:"transfers",label:"Transfers",icon:o.jsx(UQ,{size:16})}];return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("/branches"),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:o.jsx(Vd,{size:20})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${n.isMain?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:o.jsx(gR,{size:24})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n.name}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${T(n.status)}`,children:n.status}),n.isMain&&o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Main"})]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-mono",children:n.code})]})]})]}),A&&o.jsxs("button",{onClick:()=>t(`/branches/${e}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(uo,{size:16}),o.jsx("span",{children:"Edit Branch"})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:o.jsxs("div",{className:"flex flex-wrap gap-6",children:[n.address&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(rx,{size:16}),o.jsx("span",{children:n.address})]}),n.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(C0,{size:16}),o.jsx("span",{children:n.phone})]}),n.email&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(E0,{size:16}),o.jsx("span",{children:n.email})]})]})}),o.jsx("div",{className:"flex gap-1 mb-6 overflow-x-auto pb-2",children:H.map(q=>o.jsxs("button",{onClick:()=>d(q.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${u===q.key?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[q.icon,o.jsx("span",{children:q.label})]},q.key))}),u==="overview"&&s&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-gray-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:o.jsx(Ai,{className:"text-blue-600",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.stats.students}),o.jsx("p",{className:"text-xs text-gray-500",children:"Students"})]})]}),s.stats.capacityUtilization!==null&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${Math.min(s.stats.capacityUtilization,100)}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.stats.capacityUtilization,"% capacity"]})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-gray-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:o.jsx(en,{className:"text-purple-600",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.stats.users}),o.jsx("p",{className:"text-xs text-gray-500",children:"Staff"})]})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-gray-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:o.jsx(ea,{className:"text-green-600",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.stats.classes}),o.jsx("p",{className:"text-xs text-gray-500",children:"Classes"})]})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-gray-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center",children:o.jsx(ti,{className:"text-amber-600",size:20})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.stats.attendanceRate,"%"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Attendance Rate"})]})]})})]}),l&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Financial Summary"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:P(Number(l.summary.totalCollected))}),o.jsx("p",{className:"text-sm text-gray-500",children:"Total Collected"})]}),o.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:P(l.summary.outstanding)}),o.jsx("p",{className:"text-sm text-gray-500",children:"Outstanding"})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.summary.totalPayments}),o.jsx("p",{className:"text-sm text-gray-500",children:"Transactions"})]})]})]})]}),u==="students"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Students (",m.length,")"]}),o.jsx(xu,{to:`/students?branchId=${e}`,className:"text-blue-600 hover:underline text-sm",children:"View All "})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Adm No"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:m.slice(0,10).map(q=>{var ae;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsxs("td",{className:"px-4 py-3 text-gray-900 dark:text-white",children:[q.firstName," ",q.lastName]}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 font-mono",children:q.admissionNumber}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:((ae=q.class)==null?void 0:ae.name)||"-"}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:q.status})})]},q.id)})})]})})]}),u==="staff"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:o.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Staff Members (",g.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:g.map(q=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-white",children:q.fullName}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:q.email}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:q.role})})]},q.id))})]})})]}),u==="classes"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.map(q=>{var ae;return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-gray-200 dark:border-slate-700",children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:q.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",q.gradeLevel]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[((ae=q._count)==null?void 0:ae.students)||0," students"]})]},q.id)}),v.length===0&&o.jsx("p",{className:"col-span-full text-center text-gray-500 py-8",children:"No classes found"})]}),u==="finances"&&l&&o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payments by Method"}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:l.byMethod.map(q=>o.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-slate-700 rounded-xl",children:[o.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:P(Number(q.total))}),o.jsx("p",{className:"text-sm text-gray-500",children:q.method.replace("_"," ")}),o.jsxs("p",{className:"text-xs text-gray-400",children:[q.count," payments"]})]},q.method))})]})}),u==="transfers"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Transfer History"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"From"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"To"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[b.map(q=>{var ae,R;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.entityType==="STUDENT"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:q.entityType})}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:(ae=q.fromBranch)==null?void 0:ae.name}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:(R=q.toBranch)==null?void 0:R.name}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:q.reason||"-"}),o.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:new Date(q.createdAt).toLocaleDateString()})]},q.id)}),b.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No transfers found"})})]})]})})]})]})},G6e=()=>{const{refreshSettings:e}=O3(),[t,r]=k.useState({schoolName:"",schoolAddress:"",schoolPhone:"",schoolEmail:"",schoolWebsite:"",currentTermId:"",primaryColor:"#2563eb",secondaryColor:"#475569",accentColor:"#f59e0b",emailNotificationsEnabled:!0,smsNotificationsEnabled:!1,feeReminderEnabled:!0,feeReminderDaysBefore:7,overdueReminderEnabled:!0,overdueReminderFrequency:7,smtpHost:"",smtpPort:"",smtpSecure:!0,smtpUser:"",smtpPassword:"",smtpFromEmail:"",smtpFromName:"",smsProvider:"",smsApiKey:"",smsApiSecret:"",smsSenderId:"",lencoApiKey:"",lencoEnvironment:"sandbox",lencoDefaultBearer:"merchant"}),[n,a]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(!1),[u,d]=k.useState("general"),[f,h]=k.useState(null),[m,p]=k.useState(!1),g=k.useRef(null);k.useEffect(()=>{x()},[]);const x=async()=>{try{const[N,A]=await Promise.all([Ae.get("/settings"),Ae.get("/academic-terms")]);r({schoolName:N.data.schoolName||"",schoolAddress:N.data.schoolAddress||"",schoolPhone:N.data.schoolPhone||"",schoolEmail:N.data.schoolEmail||"",schoolWebsite:N.data.schoolWebsite||"",currentTermId:N.data.currentTermId||"",primaryColor:N.data.primaryColor||"#2563eb",secondaryColor:N.data.secondaryColor||"#475569",accentColor:N.data.accentColor||"#f59e0b",emailNotificationsEnabled:N.data.emailNotificationsEnabled??!0,smsNotificationsEnabled:N.data.smsNotificationsEnabled??!1,feeReminderEnabled:N.data.feeReminderEnabled??!0,feeReminderDaysBefore:N.data.feeReminderDaysBefore??7,overdueReminderEnabled:N.data.overdueReminderEnabled??!0,overdueReminderFrequency:N.data.overdueReminderFrequency??7,smtpHost:N.data.smtpHost||"",smtpPort:N.data.smtpPort||"",smtpSecure:N.data.smtpSecure??!0,smtpUser:N.data.smtpUser||"",smtpPassword:N.data.smtpPassword||"",smtpFromEmail:N.data.smtpFromEmail||"",smtpFromName:N.data.smtpFromName||"",smsProvider:N.data.smsProvider||"",smsApiKey:N.data.smsApiKey||"",smsApiSecret:N.data.smsApiSecret||"",smsSenderId:N.data.smsSenderId||"",lencoApiKey:N.data.lencoApiKey||"",lencoEnvironment:N.data.lencoEnvironment||"sandbox",lencoDefaultBearer:N.data.lencoDefaultBearer||"merchant"}),h(N.data.logoUrl||null),a(A.data)}catch(N){console.error("Failed to fetch settings",N)}finally{i(!1)}},v=async N=>{var S;const A=(S=N.target.files)==null?void 0:S[0];if(A){p(!0);try{const j=new FormData;j.append("logo",A);const E=await Ae.post("/settings/logo",j,{headers:{"Content-Type":"multipart/form-data"}});h(E.data.logoUrl),e()}catch(j){console.error("Failed to upload logo",j),alert("Failed to upload logo. Please try again.")}finally{p(!1),g.current&&(g.current.value="")}}},y=async()=>{if(confirm("Are you sure you want to delete the school logo?"))try{await Ae.delete("/settings/logo"),h(null),e()}catch(N){console.error("Failed to delete logo",N)}},b=async N=>{var A,S,j,E,C;N.preventDefault(),c(!0);try{const I={...t,currentTermId:t.currentTermId===""?null:t.currentTermId,smtpPort:t.smtpPort===""?null:Number(t.smtpPort)};await Ae.put("/settings",I),await e(),alert("Settings saved successfully")}catch(I){console.error("Failed to save settings",((A=I.response)==null?void 0:A.data)||I),alert("Failed to save settings: "+(((C=(E=(j=(S=I.response)==null?void 0:S.data)==null?void 0:j.errors)==null?void 0:E[0])==null?void 0:C.message)||"Unknown error"))}finally{c(!1)}};return s?o.jsx("div",{className:"p-6 dark:text-white",children:"Loading..."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"System Settings"}),o.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-200 dark:border-slate-700 overflow-x-auto scrollbar-hide",children:[o.jsx("button",{onClick:()=>d("general"),className:`pb-2 px-1 whitespace-nowrap ${u==="general"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"General"}),o.jsx("button",{onClick:()=>d("academic"),className:`pb-2 px-1 whitespace-nowrap ${u==="academic"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Academic"}),o.jsx("button",{onClick:()=>d("theme"),className:`pb-2 px-1 whitespace-nowrap ${u==="theme"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Theme & Branding"}),o.jsx("button",{onClick:()=>d("communication"),className:`pb-2 px-1 whitespace-nowrap ${u==="communication"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Communication"}),o.jsx("button",{onClick:()=>d("payments"),className:`pb-2 px-1 whitespace-nowrap ${u==="payments"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Payments"})]}),o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u==="general"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(og,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"School Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"School Name"}),o.jsx("input",{type:"text",required:!0,value:t.schoolName,onChange:N=>r({...t,schoolName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"School Logo"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 dark:border-slate-600 flex items-center justify-center bg-gray-50 dark:bg-slate-700 overflow-hidden",children:f?o.jsx("img",{src:f.startsWith("http")?f:`${window.location.origin}${f}`,alt:"School Logo",className:"w-full h-full object-contain"}):o.jsx(ZQ,{size:32,className:"text-gray-400"})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"file",ref:g,accept:"image/*",onChange:v,className:"hidden",id:"logo-upload"}),o.jsxs("label",{htmlFor:"logo-upload",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium cursor-pointer transition-colors ${m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[o.jsx(Ni,{size:16}),m?"Uploading...":"Upload Logo"]}),f&&o.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[o.jsx(fs,{size:16}),"Remove"]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG up to 2MB. Recommended: 200x200px"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(C0,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:t.schoolPhone,onChange:N=>r({...t,schoolPhone:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(E0,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"email",value:t.schoolEmail,onChange:N=>r({...t,schoolEmail:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(rx,{size:16,className:"absolute left-3 top-3 text-gray-400"}),o.jsx("textarea",{rows:3,value:t.schoolAddress,onChange:N=>r({...t,schoolAddress:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Website"}),o.jsxs("div",{className:"relative",children:[o.jsx(YQ,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"url",value:t.schoolWebsite,onChange:N=>r({...t,schoolWebsite:N.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"https://"})]})]})]})]}),u==="academic"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(Va,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Academic Configuration"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Current Academic Term"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"This sets the active term for attendance, grading, and fees."}),o.jsxs("select",{value:t.currentTermId,onChange:N=>r({...t,currentTermId:N.target.value}),className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Active Term"}),n.map(N=>o.jsxs("option",{value:N.id,children:[N.name," (",new Date(N.startDate).toLocaleDateString()," - ",new Date(N.endDate).toLocaleDateString(),")"]},N.id))]})]})]}),u==="theme"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(see,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Theme & Branding"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Primary Color"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"color",value:t.primaryColor,onChange:N=>r({...t,primaryColor:N.target.value}),className:"h-10 w-10 rounded border border-gray-300 dark:border-slate-600 cursor-pointer"}),o.jsx("input",{type:"text",value:t.primaryColor,onChange:N=>r({...t,primaryColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 uppercase bg-white dark:bg-slate-700 dark:text-white",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for buttons, links, and active states."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Secondary Color"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"color",value:t.secondaryColor,onChange:N=>r({...t,secondaryColor:N.target.value}),className:"h-10 w-10 rounded border border-gray-300 dark:border-slate-600 cursor-pointer"}),o.jsx("input",{type:"text",value:t.secondaryColor,onChange:N=>r({...t,secondaryColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 uppercase bg-white dark:bg-slate-700 dark:text-white",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for text, borders, and backgrounds."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Accent Color"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"color",value:t.accentColor,onChange:N=>r({...t,accentColor:N.target.value}),className:"h-10 w-10 rounded border border-gray-300 dark:border-slate-600 cursor-pointer"}),o.jsx("input",{type:"text",value:t.accentColor,onChange:N=>r({...t,accentColor:N.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 uppercase bg-white dark:bg-slate-700 dark:text-white",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for highlights and special indicators."})]})]})]}),u==="communication"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(dh,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Notification Channels"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifications via email to parents and staff"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t.emailNotificationsEnabled,onChange:N=>r({...t,emailNotificationsEnabled:N.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"SMS Notifications"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send notifications via SMS to parents"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t.smsNotificationsEnabled,onChange:N=>r({...t,smsNotificationsEnabled:N.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(Mu,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Fee Reminder Settings"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Automatic Fee Reminders"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send reminders before fee due dates"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t.feeReminderEnabled,onChange:N=>r({...t,feeReminderEnabled:N.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.feeReminderEnabled&&o.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 dark:border-blue-800",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Send reminder this many days before due date"}),o.jsx("input",{type:"number",min:"1",max:"30",value:t.feeReminderDaysBefore,onChange:N=>r({...t,feeReminderDaysBefore:parseInt(N.target.value)||7}),className:"w-32 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),o.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"days"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Overdue Reminders"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send reminders for overdue payments"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t.overdueReminderEnabled,onChange:N=>r({...t,overdueReminderEnabled:N.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.overdueReminderEnabled&&o.jsxs("div",{className:"pl-4 border-l-2 border-orange-200 dark:border-orange-800",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Send overdue reminder every"}),o.jsx("input",{type:"number",min:"1",max:"30",value:t.overdueReminderFrequency,onChange:N=>r({...t,overdueReminderFrequency:parseInt(N.target.value)||7}),className:"w-32 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),o.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"days"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(uee,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Email Settings (SMTP)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"SMTP Host"}),o.jsx("input",{type:"text",value:t.smtpHost,onChange:N=>r({...t,smtpHost:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"smtp.gmail.com"})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"SMTP Port"}),o.jsx("input",{type:"number",value:t.smtpPort,onChange:N=>r({...t,smtpPort:N.target.value===""?"":parseInt(N.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"587"})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Username"}),o.jsx("input",{type:"text",value:t.smtpUser,onChange:N=>r({...t,smtpUser:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),o.jsx("input",{type:"password",value:t.smtpPassword,onChange:N=>r({...t,smtpPassword:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:""})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"From Email"}),o.jsx("input",{type:"email",value:t.smtpFromEmail,onChange:N=>r({...t,smtpFromEmail:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"noreply@school.com"})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"From Name"}),o.jsx("input",{type:"text",value:t.smtpFromName,onChange:N=>r({...t,smtpFromName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"School Admin"})]}),o.jsx("div",{className:"col-span-2",children:o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t.smtpSecure,onChange:N=>r({...t,smtpSecure:N.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:"Use Secure Connection (SSL/TLS)"})]})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(Wo,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"SMS Gateway Settings"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Provider"}),o.jsxs("select",{value:t.smsProvider,onChange:N=>r({...t,smsProvider:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Provider"}),o.jsx("option",{value:"TWILIO",children:"Twilio"}),o.jsx("option",{value:"AFRICASTALKING",children:"Africa's Talking"}),o.jsx("option",{value:"GENERIC",children:"Generic HTTP"})]})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Sender ID"}),o.jsx("input",{type:"text",value:t.smsSenderId,onChange:N=>r({...t,smsSenderId:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",placeholder:"SCHOOL"})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"API Key / SID"}),o.jsx("input",{type:"password",value:t.smsApiKey,onChange:N=>r({...t,smsApiKey:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"API Secret / Token"}),o.jsx("input",{type:"password",value:t.smsApiSecret,onChange:N=>r({...t,smsApiSecret:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]})]})]})]}),u==="payments"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b pb-2",children:[o.jsx(Do,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Payment Gateway Settings"})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-md font-medium text-gray-800 dark:text-white",children:"Lenco (Mobile Money)"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configure Lenco API for mobile money collections (Airtel/MTN/TNM)"})]}),o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Supported in ZM & MW"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-slate-700 p-4 rounded-lg border border-gray-200 dark:border-slate-600",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"API Key"}),o.jsx("input",{type:"password",value:t.lencoApiKey||"",onChange:N=>r({...t,lencoApiKey:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-600 dark:text-white",placeholder:"Paste your Lenco API key here"}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Found in your Lenco dashboard under Settings ",">"," API Keys"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Environment"}),o.jsxs("select",{value:t.lencoEnvironment||"sandbox",onChange:N=>r({...t,lencoEnvironment:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-600 dark:text-white",children:[o.jsx("option",{value:"sandbox",children:"Sandbox (Test Mode)"}),o.jsx("option",{value:"production",children:"Production (Live Mode)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Fee Bearer"}),o.jsxs("select",{value:t.lencoDefaultBearer||"merchant",onChange:N=>r({...t,lencoDefaultBearer:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-600 dark:text-white",children:[o.jsx("option",{value:"merchant",children:"Merchant (School pays fees)"}),o.jsx("option",{value:"customer",children:"Customer (Parent pays fees)"})]})]})]})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:[o.jsx(td,{size:20}),l?"Saving...":"Save Settings"]})})]})]})},K6e=({isOpen:e,onClose:t,onCapture:r})=>{const n=k.useRef(null),a=k.useRef(null),[s,i]=k.useState(null),[l,c]=k.useState(""),u=k.useCallback(async()=>{c("");try{const h=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});i(h),n.current&&(n.current.srcObject=h)}catch(h){console.warn("Initial camera access failed, trying fallback...",h);try{const m=await navigator.mediaDevices.getUserMedia({video:!0});i(m),n.current&&(n.current.srcObject=m)}catch(m){console.error("Error accessing camera:",m),c("Could not access camera. Please check permissions or close other apps using the camera.")}}},[]),d=k.useCallback(()=>{s&&(s.getTracks().forEach(h=>h.stop()),i(null))},[s]);dc.useEffect(()=>(e?u():d(),()=>d()),[e,u,d]);const f=()=>{if(n.current&&a.current){const h=n.current,m=a.current;m.width=h.videoWidth,m.height=h.videoHeight;const p=m.getContext("2d");p&&(p.translate(m.width,0),p.scale(-1,1),p.drawImage(h,0,0,m.width,m.height),m.toBlob(g=>{if(g){const x=new File([g],"profile-photo.jpg",{type:"image/jpeg"});r(x),t()}},"image/jpeg",.8))}};return e?o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col items-center justify-center p-4",children:[o.jsxs("div",{className:"w-full max-w-md bg-black rounded-2xl overflow-hidden relative",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white z-10 p-2 bg-gray-800 rounded-full",children:o.jsx(ra,{size:24})}),l?o.jsxs("div",{className:"h-96 flex flex-col items-center justify-center text-white text-center p-6 gap-4",children:[o.jsx("p",{children:l}),o.jsxs("button",{onClick:()=>u(),className:"px-4 py-2 bg-blue-600 rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors",children:[o.jsx(Ou,{size:16}),"Retry Camera"]})]}):o.jsx("div",{className:"relative aspect-[3/4] bg-gray-900",children:o.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover transform -scale-x-100"})}),o.jsx("div",{className:"p-6 flex justify-center items-center gap-8 bg-black",children:o.jsx("button",{onClick:f,className:"w-16 h-16 rounded-full border-4 border-white flex items-center justify-center bg-white/20 active:bg-white/50 transition-colors",children:o.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})})})]}),o.jsx("canvas",{ref:a,className:"hidden"})]}):null},Y6e=()=>{var p;const{user:e,refreshUser:t}=ma(),[r,n]=k.useState(!1),[a,s]=k.useState(!1),[i,l]=k.useState(!1),[c,u]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),d=k.useRef(null),f=async g=>{s(!0);const x=new FormData;x.append("image",g);try{await Ae.post("/profile/picture",x,{headers:{"Content-Type":"multipart/form-data"}}),await t(),alert("Profile picture updated!")}catch(v){console.error("Upload failed",v),alert("Failed to upload profile picture")}finally{s(!1)}},h=g=>{g.target.files&&g.target.files[0]&&f(g.target.files[0])},m=async g=>{var x,v;if(g.preventDefault(),c.newPassword!==c.confirmPassword){alert("New passwords don't match");return}n(!0);try{await Ae.post("/profile/password",{currentPassword:c.currentPassword,newPassword:c.newPassword}),alert("Password updated successfully"),u({currentPassword:"",newPassword:"",confirmPassword:""})}catch(y){alert(((v=(x=y.response)==null?void 0:x.data)==null?void 0:v.message)||"Failed to update password")}finally{n(!1)}};return o.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"My Profile"}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 mb-6 flex flex-col items-center",children:[o.jsxs("div",{className:"relative mb-4 group",children:[o.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-blue-50 dark:border-blue-900/30 bg-gray-100 dark:bg-slate-700",children:e!=null&&e.profilePictureUrl?o.jsx("img",{src:e.profilePictureUrl.startsWith("http")?e.profilePictureUrl:`${e.profilePictureUrl}`,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx(_i,{size:48})})}),o.jsxs("div",{className:"absolute bottom-0 right-0 flex gap-2",children:[o.jsx("button",{onClick:()=>l(!0),className:"p-2 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors",title:"Take Photo",children:o.jsx(HQ,{size:18})}),o.jsx("button",{onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},className:"p-2 bg-white dark:bg-slate-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-slate-600 rounded-full shadow-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:"Upload Photo",children:o.jsx(Ni,{size:18})})]}),o.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:h})]}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e==null?void 0:e.fullName}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:(p=e==null?void 0:e.role)==null?void 0:p.replace("_"," ").toLowerCase()}),a&&o.jsx("p",{className:"text-sm text-blue-600 mt-2 animate-pulse",children:"Uploading..."})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(_i,{size:20,className:"text-blue-600 dark:text-blue-400"}),"Personal Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Full Name"}),o.jsx("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg text-gray-900 dark:text-white",children:e==null?void 0:e.fullName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Email Address"}),o.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(E0,{size:16,className:"text-gray-400"}),e==null?void 0:e.email]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(bR,{size:20,className:"text-blue-600 dark:text-blue-400"}),"Security"]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Current Password"}),o.jsx("input",{type:"password",required:!0,value:c.currentPassword,onChange:g=>u({...c,currentPassword:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"New Password"}),o.jsx("input",{type:"password",required:!0,minLength:6,value:c.newPassword,onChange:g=>u({...c,newPassword:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Confirm New Password"}),o.jsx("input",{type:"password",required:!0,minLength:6,value:c.confirmPassword,onChange:g=>u({...c,confirmPassword:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"})]}),o.jsx("div",{className:"pt-2",children:o.jsxs("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 dark:bg-blue-600 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-blue-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 transition-colors",children:[o.jsx(td,{size:18}),r?"Updating...":"Update Password"]})})]})]}),o.jsx(K6e,{isOpen:i,onClose:()=>l(!1),onCapture:f})]})},X6e=()=>{var S,j,E;const{user:e}=ma(),[t,r]=k.useState([]),[n,a]=k.useState(null),[s,i]=k.useState([]),[l,c]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState([]),[m,p]=k.useState(!1),g=k.useRef(null);k.useEffect(()=>{v()},[]),k.useEffect(()=>{if(n&&n.id){y(n.id);const C=setInterval(()=>{y(n.id)},5e3);return()=>clearInterval(C)}},[n]),k.useEffect(()=>{x()},[s]);const x=()=>{var C;(C=g.current)==null||C.scrollIntoView({behavior:"smooth"})},v=async()=>{try{const C=await Ae.get("/communication/conversations");r(C.data)}catch(C){console.error("Failed to fetch conversations",C)}},y=async C=>{try{const I=await Ae.get(`/communication/conversations/${C}/messages`);i(I.data)}catch(I){console.error("Failed to fetch messages",I)}},b=async C=>{if(d(C),C.length<2){h([]);return}try{const I=await Ae.get(`/communication/users/search?query=${C}`);h(I.data)}catch(I){console.error("Failed to search users",I)}},N=async C=>{const I=t.find(T=>T.participants.some(P=>P.id===C.id));if(I)a(I),p(!1),d(""),h([]);else{const T={id:"",participants:[C],lastMessage:null,updatedAt:new Date().toISOString()};a(T),i([]),p(!1),d(""),h([])}},A=async C=>{if(C.preventDefault(),!(!l.trim()||!n))try{const I={content:l};n.id?I.conversationId=n.id:I.recipientId=n.participants[0].id;const T=await Ae.post("/communication/messages",I);if(i([...s,T.data]),c(""),await v(),!n.id){const H=(await Ae.get("/communication/conversations")).data.find(q=>q.participants.some(ae=>ae.id===n.participants[0].id));H&&a(H)}}catch(I){console.error("Failed to send message",I)}};return o.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)] md:h-[600px] bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"w-full md:w-1/3 border-b md:border-b-0 md:border-r border-gray-100 dark:border-slate-700 flex flex-col max-h-[40vh] md:max-h-none",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-white",children:"Messages"}),o.jsx("button",{onClick:()=>p(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-blue-600",children:o.jsx(fa,{size:20})})]}),m?o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(ei,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search users...",value:u,onChange:C=>b(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white",autoFocus:!0})]}),o.jsx("div",{className:"space-y-2",children:f.map(C=>o.jsxs("div",{onClick:()=>N(C),className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700 rounded-lg cursor-pointer",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-medium",children:C.fullName.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:C.fullName}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:C.role})]})]},C.id))}),o.jsx("button",{onClick:()=>p(!1),className:"mt-4 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Cancel"})]}):o.jsx("div",{className:"flex-1 overflow-y-auto",children:t.map(C=>{var P;const I=C.participants[0],T=(n==null?void 0:n.id)===C.id;return o.jsx("div",{onClick:()=>a(C),className:`p-4 border-b border-gray-50 dark:border-slate-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors ${T?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-600":""}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-slate-600 rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 font-medium",children:I==null?void 0:I.fullName.charAt(0)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("p",{className:"font-medium text-gray-800 dark:text-white truncate",children:I==null?void 0:I.fullName}),o.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:new Date(C.updatedAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:((P=C.lastMessage)==null?void 0:P.content)||"No messages yet"})]})]})},C.id)})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex items-center gap-3 bg-gray-50 dark:bg-slate-700",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 font-medium",children:(S=n.participants[0])==null?void 0:S.fullName.charAt(0)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:(j=n.participants[0])==null?void 0:j.fullName}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(E=n.participants[0])==null?void 0:E.role})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50/50 dark:bg-slate-900/50",children:[s.map(C=>{const I=C.senderId===(e==null?void 0:e.id),T=C.senderId!==n.participants[0].id,P=e?I:T;return o.jsx("div",{className:`flex ${P?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 ${P?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 text-gray-800 dark:text-white rounded-bl-none"}`,children:[o.jsx("p",{children:C.content}),o.jsx("p",{className:`text-[10px] mt-1 ${P?"text-blue-100":"text-gray-400"}`,children:new Date(C.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},C.id)}),o.jsx("div",{ref:g})]}),o.jsx("form",{onSubmit:A,className:"p-4 border-t border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:outline-none focus:border-blue-500 bg-white dark:bg-slate-700 dark:text-white"}),o.jsx("button",{type:"submit",disabled:!l.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-slate-600 transition-colors",children:o.jsx(Mu,{size:20})})]})})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-gray-500",children:[o.jsx(Wo,{size:48,className:"mb-4 opacity-20"}),o.jsx("p",{children:"Select a conversation to start messaging"})]})})]})},Z6e=["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT","STUDENT"],J6e=()=>{const{user:e}=ma(),[t,r]=k.useState("announcements"),[n,a]=k.useState(""),[s,i]=k.useState(""),[l,c]=k.useState([]),[u,d]=k.useState(!1),[f,h]=k.useState(!0),[m,p]=k.useState(!1),[g,x]=k.useState(null),v=["SUPER_ADMIN","BURSAR","SECRETARY","TEACHER"].includes((e==null?void 0:e.role)||""),y=["SUPER_ADMIN","BURSAR","SECRETARY","TEACHER","PARENT"].includes((e==null?void 0:e.role)||"");k.useEffect(()=>{!v&&y&&r("messages")},[v,y]);const b=A=>{c(S=>S.includes(A)?S.filter(j=>j!==A):[...S,A])},N=async A=>{var S,j;if(A.preventDefault(),!n||!s){x({type:"error",message:"Please fill in all fields"});return}p(!0),x(null);try{const E=await Ae.post("/communication/announcements",{subject:n,message:s,targetRoles:l.length>0?l:void 0,sendEmail:u,sendNotification:f});x({type:"success",message:E.data.message}),a(""),i(""),c([]),d(!1)}catch(E){console.error("Failed to send announcement",E),x({type:"error",message:((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Failed to send announcement"})}finally{p(!1)}};return!v&&!y?o.jsx("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-4xl mx-auto text-center text-gray-500 dark:text-gray-400",children:"You do not have permission to access this page."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Communication Hub"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage announcements and messages"})]}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[v&&o.jsx("button",{onClick:()=>r("announcements"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="announcements"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:"Announcements"}),y&&o.jsxs("button",{onClick:()=>r("messages"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${t==="messages"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[o.jsx(Wo,{size:18}),"Messages"]})]}),t==="messages"&&y?o.jsx(X6e,{}):v?o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50 dark:bg-slate-700",children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[o.jsx(Mu,{size:20,className:"text-blue-600"}),"New Announcement"]})}),o.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[g&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${g.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[g.type==="success"?o.jsx(da,{size:20}):o.jsx(gc,{size:20}),g.message]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Subject"}),o.jsx("input",{type:"text",value:n,onChange:A=>a(A.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all bg-white dark:bg-slate-700 dark:text-white",placeholder:"e.g. School Closure Notice"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Message"}),o.jsx("textarea",{rows:6,value:s,onChange:A=>i(A.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all bg-white dark:bg-slate-700 dark:text-white",placeholder:"Type your announcement here..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[o.jsx(en,{size:16}),"Target Audience (Leave empty for ALL users)"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Z6e.map(A=>o.jsx("button",{type:"button",onClick:()=>b(A),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors border ${l.includes(A)?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800":"bg-white dark:bg-slate-700 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:A.replace("_"," ")},A))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100 dark:border-slate-700",children:[o.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${f?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[o.jsx("input",{type:"checkbox",checked:f,onChange:A=>h(A.target.checked),className:"sr-only"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${f?"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-200 dark:bg-slate-600 text-gray-500 dark:text-gray-400"}`,children:o.jsx(dh,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"In-App Notification"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Show in dashboard bell icon"})]})]}),f&&o.jsx(da,{size:20,className:"ml-auto text-blue-600"})]}),o.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${u?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[o.jsx("input",{type:"checkbox",checked:u,onChange:A=>d(A.target.checked),className:"sr-only"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${u?"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-200 dark:bg-slate-600 text-gray-500 dark:text-gray-400"}`,children:o.jsx(E0,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Email Broadcast"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send to registered email addresses"})]})]}),u&&o.jsx(da,{size:20,className:"ml-auto text-blue-600"})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsxs("button",{type:"submit",disabled:m||!u&&!f,className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed transition-colors font-medium shadow-sm",children:[o.jsx(Mu,{size:18}),m?"Sending...":"Send Announcement"]})})]})]}):null]})},Q6e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState({});k.useEffect(()=>{i()},[]);const i=async()=>{try{const D=await Ae.get("/students/my-children");t(D.data)}catch(D){console.error("Error fetching children:",D)}finally{n(!1)}},l=D=>{s(X=>({...X,[D]:!X[D]}))},c=D=>D?D.map(X=>{var V;return{name:((V=X.term)==null?void 0:V.name)||"Term",average:X.totalScore||0}}):[],u=(D,X)=>{const V=new Et;V.setFontSize(18),V.text("Payment Receipt",105,20,{align:"center"}),V.setFontSize(12),V.text(`Student: ${D.firstName} ${D.lastName}`,20,40),V.text(`Amount: ZMW ${X.amount}`,20,50),V.text(`Date: ${new Date(X.paymentDate).toLocaleDateString()}`,20,60),V.text(`Method: ${X.method}`,20,70),V.text(`Reference: ${X.transactionId||X.id}`,20,80),V.save(`receipt_${X.id}.pdf`)},d=async D=>{var V;const X=e.find(ee=>ee.id===D);if(X)try{const K=(await Ae.get(`/payments/student/${D}`)).data;let ce=0;const xe=[];X.feeStructures.forEach(Se=>{xe.push({date:new Date(Se.createdAt),description:`Fee: ${Se.feeTemplate.name}`,debit:Number(Se.amountDue),credit:0,type:"DEBIT"})}),K.forEach(Se=>{xe.push({date:new Date(Se.paymentDate),description:`Payment: ${Se.method} ${Se.transactionId?`(${Se.transactionId})`:""}`,debit:0,credit:Number(Se.amount),type:"CREDIT"})}),xe.sort((Se,ue)=>Se.date.getTime()-ue.date.getTime());const G=xe.map(Se=>(ce+=Se.debit-Se.credit,[Se.date.toLocaleDateString(),Se.description,Se.debit>0?Se.debit.toLocaleString():"-",Se.credit>0?Se.credit.toLocaleString():"-",ce.toLocaleString()])),Ce=new Et;Ce.setFontSize(22),Ce.setTextColor(37,99,235),Ce.text("STATEMENT OF ACCOUNT",105,20,{align:"center"}),Ce.setFontSize(10),Ce.setTextColor(100),Ce.text(`Generated on: ${new Date().toLocaleString()}`,105,28,{align:"center"}),Ce.setFontSize(12),Ce.setTextColor(0),Ce.text(`Student Name: ${X.firstName} ${X.lastName}`,14,40),Ce.text(`Admission Number: ${X.admissionNumber}`,14,46),Ce.text(`Class: ${(V=X.class)==null?void 0:V.name}`,14,52),Ce.text("School Name",196,40,{align:"right"}),Ce.text("Accounts Department",196,46,{align:"right"}),fx(Ce,{startY:60,head:[["Date","Description","Debit (ZMW)","Credit (ZMW)","Balance (ZMW)"]],body:G,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{cellWidth:30},1:{cellWidth:"auto"},2:{cellWidth:30,halign:"right"},3:{cellWidth:30,halign:"right"},4:{cellWidth:35,halign:"right",fontStyle:"bold"}},foot:[["","Closing Balance","","",`ZMW ${ce.toLocaleString()}`]],showFoot:"lastPage",footStyles:{fillColor:[241,245,249],textColor:0,fontStyle:"bold",halign:"right"}});const Ve=Ce.lastAutoTable.finalY+10;Ce.setFontSize(10),Ce.setTextColor(100),Ce.text("This is a computer-generated document and does not require a signature.",105,Ve,{align:"center"}),Ce.save(`${X.firstName}_${X.lastName}_Statement.pdf`)}catch(ee){console.error("Failed to generate statement:",ee),alert("Failed to generate statement. Please try again.")}},[f,h]=k.useState(!1),[m,p]=k.useState(null),[g,x]=k.useState([]),[v,y]=k.useState(!1),[b,N]=k.useState("receipts"),[A,S]=k.useState([]),[j,E]=k.useState(!1),C=async D=>{E(!0);try{const X=await Ae.get("/payments/mobile-money",{params:{studentId:D}});S(X.data.data||[])}catch(X){console.error(X)}finally{E(!1)}},I=async D=>{p(D),h(!0),y(!0),N("receipts"),C(D.id);try{const X=await Ae.get(`/payments/student/${D.id}`);x(X.data)}catch(X){console.error(X),alert("Could not load full history.")}finally{y(!1)}},[T,P]=k.useState(!1),[H,q]=k.useState(null),[ae,R]=k.useState(""),[z,Y]=k.useState(""),[U,Q]=k.useState(""),[pe,F]=k.useState(!1),M=D=>{q(D),R(D.balance>0?D.balance.toString():""),Y(D.guardianPhone||""),Q(""),P(!0)},B=async D=>{var X,V;if(D.preventDefault(),!!H){F(!0);try{await Ae.post("/payments/mobile-money/initiate",{studentId:H.id,amount:parseFloat(ae),phone:z,operator:U,country:"zm",notes:`Parent payment for ${H.firstName}`}),P(!1),alert("Payment initiated successfully! Please check your phone to authorize the transaction.")}catch(ee){console.error("Payment Error:",ee),alert(((V=(X=ee.response)==null?void 0:X.data)==null?void 0:V.message)||"Failed to initiate payment. Please try again.")}finally{F(!1)}}};return r?o.jsx("div",{className:"p-6 dark:text-gray-400",children:"Loading..."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"My Children"}),o.jsxs("div",{className:"space-y-8",children:[e.map(D=>{var X,V,ee;return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-white",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white font-bold text-2xl border-2 border-white/30",children:D.firstName[0]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold",children:[D.firstName," ",D.lastName]}),o.jsxs("div",{className:"flex items-center space-x-3 text-blue-100 text-sm mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded",children:D.admissionNumber}),o.jsx("span",{children:""}),o.jsx("span",{children:(X=D.class)==null?void 0:X.name})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-3",children:[o.jsx("p",{className:"text-xs text-blue-100 uppercase font-semibold mb-1",children:"Outstanding Balance"}),o.jsxs("p",{className:`text-2xl font-bold ${D.balance>0?"text-red-200":"text-green-200"}`,children:["ZMW ",D.balance.toLocaleString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>M(D),className:"bg-green-500 hover:bg-green-600 text-white text-xs font-semibold py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors shadow-sm",children:[o.jsx(Do,{size:14}),"Pay Fees"]}),o.jsxs("button",{onClick:()=>d(D.id),className:"bg-white/10 hover:bg-white/20 text-white text-xs font-semibold py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors border border-white/20",children:[o.jsx(Qs,{size:14}),"Statement"]})]})]})]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center text-sm",children:[o.jsx(_l,{size:16,className:"mr-2 text-blue-500"}),"Today's Schedule"]}),o.jsx("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:new Date().toLocaleDateString("en-US",{weekday:"long"})})]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:D.todaysClasses&&D.todaysClasses.length>0?D.todaysClasses.map(K=>o.jsxs("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-slate-50 dark:hover:bg-slate-700 border border-transparent hover:border-slate-100 dark:hover:border-slate-600 transition-all",children:[o.jsxs("div",{className:"w-14 text-center bg-blue-50 dark:bg-blue-900/30 rounded p-1",children:[o.jsx("span",{className:"block text-xs font-bold text-blue-700 dark:text-blue-400",children:K.startTime}),o.jsx("span",{className:"block text-[10px] text-blue-400 dark:text-blue-500",children:K.endTime})]}),o.jsx("div",{className:"flex-1",children:o.jsx("span",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 truncate",children:K.subject.name})})]},K.id)):o.jsx("div",{className:"text-center py-6",children:o.jsx("p",{className:"text-xs text-slate-400",children:"No classes scheduled today."})})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center text-sm",children:[o.jsx(qQ,{size:16,className:"mr-2 text-purple-500"}),"Upcoming Tasks"]}),o.jsxs("span",{className:"text-[10px] bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 px-2 py-1 rounded-full font-medium",children:[((V=D.pendingAssessments)==null?void 0:V.length)||0," Pending"]})]}),o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:D.pendingAssessments&&D.pendingAssessments.length>0?D.pendingAssessments.map(K=>o.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-lg hover:shadow-sm transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded ${K.type==="QUIZ"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400":"bg-white dark:bg-slate-700 text-purple-700 dark:text-purple-400"}`,children:K.type}),o.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:new Date(K.date).toLocaleDateString()})]}),o.jsx("h5",{className:"text-sm font-medium text-slate-800 dark:text-white line-clamp-1",title:K.title,children:K.title}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1 mt-1",children:[o.jsx(ea,{size:10}),K.subject.name]})]},K.id)):o.jsx("div",{className:"text-center py-6",children:o.jsx("p",{className:"text-xs text-slate-400",children:"No upcoming tasks."})})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(ti,{className:"text-blue-600",size:20}),o.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Academic Performance"})]}),o.jsx("div",{className:"h-64 w-full",children:D.termResults&&D.termResults.length>0?o.jsx(gS,{width:"100%",height:"100%",children:o.jsxs(wAe,{data:c(D.termResults),children:[o.jsx(M_,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),o.jsx(z_,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10}),o.jsx(U_,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),o.jsx(HS,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),o.jsx(dV,{type:"monotone",dataKey:"average",stroke:"#2563eb",strokeWidth:3,dot:{fill:"#2563eb",strokeWidth:2,r:4,stroke:"#fff"},activeDot:{r:6,strokeWidth:0}})]})}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-700 rounded-lg border border-dashed border-slate-200 dark:border-slate-600",children:[o.jsx(ti,{size:32,className:"mb-2 opacity-50"}),o.jsx("p",{children:"No performance data available"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center",children:[o.jsx(ti,{size:16,className:"mr-2 text-blue-500"}),"Recent Results"]})}),o.jsx("div",{className:"space-y-3",children:D.assessmentResults&&D.assessmentResults.length>0?D.assessmentResults.slice(0,5).map(K=>o.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200 block text-sm",children:K.assessment.subject.name}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:K.assessment.title})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"text-right mr-3",children:[o.jsx("span",{className:"font-bold text-slate-800 dark:text-white block",children:Number(K.score)}),o.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Score"})]}),o.jsx("div",{className:`w-1.5 h-8 rounded-full ${Number(K.score)>=75?"bg-green-500":Number(K.score)>=50?"bg-yellow-500":"bg-red-500"}`})]})]},K.id)):o.jsx("div",{className:"text-center py-8 text-slate-400",children:o.jsx("p",{className:"text-sm",children:"No recent results"})})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-4 shadow-sm",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-200 flex items-center",children:[o.jsx(Os,{size:16,className:"mr-2 text-blue-500"}),"Report Cards"]})}),o.jsx("div",{className:"space-y-3",children:D.termReports&&D.termReports.length>0?D.termReports.map(K=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-100 dark:border-slate-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-white dark:bg-slate-600 rounded flex items-center justify-center text-blue-600 mr-3 shadow-sm",children:o.jsx(Os,{size:16})}),o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:K.term.name})]}),o.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-xs font-medium px-3 py-1.5 bg-white dark:bg-slate-600 border border-blue-100 dark:border-slate-500 rounded-md hover:bg-blue-50 dark:hover:bg-slate-500 transition-colors shadow-sm",children:"View"})]},K.id)):o.jsx("div",{className:"text-center py-8 text-slate-400",children:o.jsx("p",{className:"text-sm",children:"No report cards available"})})})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-b border-slate-100 dark:border-slate-600 flex justify-between items-center cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors",onClick:()=>l(D.id),children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Do,{size:18,className:"text-slate-600 dark:text-slate-300"}),o.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Fee Structure"})]}),a[D.id]?o.jsx(VQ,{size:18,className:"text-slate-400"}):o.jsx(D3,{size:18,className:"text-slate-400"})]}),a[D.id]&&o.jsx("div",{className:"p-4 space-y-3",children:D.feeStructures&&D.feeStructures.length>0?o.jsxs(o.Fragment,{children:[D.feeStructures.map(K=>o.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-slate-50 dark:border-slate-700 last:border-0",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:K.feeTemplate.name}),o.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:["ZMW ",Number(K.amountDue).toLocaleString()]})]},K.id)),o.jsxs("div",{className:"flex justify-between text-sm font-bold pt-3 mt-1 bg-slate-50 dark:bg-slate-700 -mx-4 -mb-4 p-4 border-t border-slate-100 dark:border-slate-600",children:[o.jsx("span",{className:"dark:text-white",children:"Total Fees"}),o.jsxs("span",{className:"text-blue-700 dark:text-blue-400",children:["ZMW ",(ee=D.feeStructures)==null?void 0:ee.reduce((K,ce)=>K+Number(ce.amountDue),0).toLocaleString()]})]})]}):o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center py-2",children:"No fee structure assigned"})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Do,{size:18,className:"text-green-600"}),o.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Recent Payments"})]}),o.jsx("div",{className:"space-y-3",children:D.payments.length>0?D.payments.slice(0,3).map((K,ce)=>o.jsxs("div",{className:"flex justify-between items-center text-sm p-2 rounded hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-xs block mb-0.5",children:new Date(K.paymentDate).toLocaleDateString()}),o.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(K.amount).toLocaleString()]})]}),o.jsx("button",{onClick:()=>u(D,K),className:"text-slate-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",title:"Download Receipt",children:o.jsx(Qs,{size:18})})]},ce)):o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center py-4",children:"No payment records found"})}),D.payments.length>0&&o.jsx("button",{onClick:()=>I(D),className:"w-full mt-2 text-xs text-blue-600 font-medium hover:underline py-2",children:"View All Payments history"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Va,{size:18,className:"text-orange-500"}),o.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:"Recent Attendance"})]}),o.jsx("div",{className:"space-y-3",children:D.attendance.length>0?D.attendance.slice(0,5).map((K,ce)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:new Date(K.date).toLocaleDateString()}),o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold tracking-wide ${K.status==="PRESENT"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":K.status==="ABSENT"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:K.status})]},ce)):o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center py-4",children:"No attendance records found"})})]})]})]})]},D.id)}),e.length===0&&o.jsxs("div",{className:"col-span-full text-center py-16 bg-white dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-300 dark:border-slate-600",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:o.jsx(_i,{className:"text-slate-400",size:32})}),o.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white",children:"No children linked"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 max-w-md mx-auto",children:"Contact the school administration to link your account to your children's profiles."})]})]}),f&&m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-3xl w-full overflow-hidden flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-100 dark:border-slate-700 p-6 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Payment History"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[m.firstName," ",m.lastName]})]}),o.jsx("button",{onClick:()=>h(!1),className:"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 p-2 rounded-full transition-colors",children:o.jsx(ra,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),o.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>N("receipts"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all ${b==="receipts"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Official Receipts"}),o.jsx("button",{onClick:()=>N("transactions"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all ${b==="transactions"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Mobile Money Transactions"})]})]}),o.jsx("div",{className:"p-6 overflow-y-auto flex-1 bg-slate-50/50 dark:bg-slate-900/50",children:b==="receipts"?v?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"Loading history..."}):g.length>0?o.jsx("div",{className:"space-y-4",children:g.map(D=>{var X;return o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-full ${D.method==="MOBILE_MONEY"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"}`,children:o.jsx(Do,{size:20})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(D.amount).toLocaleString()]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(D.createdAt||D.paymentDate).toLocaleDateString(),"  ",new Date(D.createdAt||D.paymentDate).toLocaleTimeString()]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wide text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:(X=D.method)==null?void 0:X.replace("_"," ")}),o.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:D.transactionId||"---"})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"inline-block px-2 py-1 rounded text-[10px] font-bold uppercase mb-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:"COMPLETED"}),o.jsxs("button",{onClick:()=>u(m,D),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800 font-medium ml-auto mt-2",children:[o.jsx(Qs,{size:14})," Receipt"]})]})]},D.id)})}):o.jsx("div",{className:"text-center py-16 text-slate-400 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-600",children:o.jsx("p",{children:"No successful payments found."})}):j?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"Loading transactions..."}):A.length>0?o.jsx("div",{className:"space-y-4",children:A.map(D=>{var X;return o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-full ${D.status==="SUCCESSFUL"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":D.status==="FAILED"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400"}`,children:o.jsx(Do,{size:20})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-slate-800 dark:text-white",children:["ZMW ",Number(D.amount).toLocaleString()]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(D.initiatedAt).toLocaleDateString(),"  ",new Date(D.initiatedAt).toLocaleTimeString()]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wide text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:D.operator}),o.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:D.reference})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`inline-block px-2 py-1 rounded text-[10px] font-bold uppercase mb-2 ${D.status==="SUCCESSFUL"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":D.status==="FAILED"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:(X=D.status)==null?void 0:X.replace("_"," ")}),D.reasonForFailure&&o.jsx("p",{className:"text-[10px] text-red-500 max-w-[120px] truncate",title:D.reasonForFailure,children:D.reasonForFailure})]})]},D.id)})}):o.jsx("div",{className:"text-center py-16 text-slate-400 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-600",children:o.jsx("p",{children:"No mobile money history found."})})}),o.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 text-center",children:o.jsx("button",{onClick:()=>h(!1),className:"text-blue-600 font-medium text-sm hover:underline",children:"Close History"})})]})}),T&&H&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 text-white flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:"Make Payment"}),o.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["For ",H.firstName," ",H.lastName]})]}),o.jsx("button",{onClick:()=>P(!1),className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1 transition-colors",children:o.jsx(ra,{size:20})})]}),o.jsxs("form",{onSubmit:B,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fee Amount (ZMW)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:"ZMW"}),o.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",value:ae,onChange:D=>R(D.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-bold text-lg text-slate-800 dark:text-white",placeholder:"0.00"})]})]}),Number(ae)>0&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Subtotal"}),o.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:["ZMW ",Number(ae).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processing Fee (2.5%)"}),o.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:["ZMW ",(Number(ae)*.025).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex justify-between text-base pt-2 border-t border-blue-200 dark:border-blue-700 mt-2",children:[o.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:"Total Bill"}),o.jsxs("span",{className:"font-bold text-blue-700 dark:text-blue-400",children:["ZMW ",(Number(ae)*1.025).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mobile Number"}),o.jsx("input",{type:"tel",required:!0,value:z,onChange:D=>Y(D.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium dark:text-white",placeholder:"097xxxxxxx"}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"The number that will authorize the payment"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Network Operator"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:`
                    relative flex items-center justify-center p-4 rounded-xl border-2 cursor-pointer transition-all
                    ${U==="airtel"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}
                  `,children:[o.jsx("input",{type:"radio",name:"operator",value:"airtel",className:"sr-only",checked:U==="airtel",onChange:D=>Q(D.target.value),required:!0}),o.jsx("span",{className:"font-bold dark:text-white",children:"Airtel"})]}),o.jsxs("label",{className:`
                    relative flex items-center justify-center p-4 rounded-xl border-2 cursor-pointer transition-all
                    ${U==="mtn"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}
                  `,children:[o.jsx("input",{type:"radio",name:"operator",value:"mtn",className:"sr-only",checked:U==="mtn",onChange:D=>Q(D.target.value),required:!0}),o.jsx("span",{className:"font-bold dark:text-white",children:"MTN"})]})]})]}),o.jsx("button",{type:"submit",disabled:pe,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-blue-200 disabled:opacity-70 disabled:cursor-not-allowed mt-4 flex items-center justify-center",children:pe?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-3"}),"Processing..."]}):"Pay Now"})]})]})})]})},e_e=()=>{var d;const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(!0);k.useEffect(()=>{i()},[]);const i=async()=>{try{const f=await Ae.get("/students/my-children");t(f.data),f.data.length>0&&n(f.data[0].id)}catch(f){console.error("Error fetching children:",f)}finally{s(!1)}},l=e.find(f=>f.id===r),c=((d=l==null?void 0:l.termResults)==null?void 0:d.reduce((f,h)=>{const m=h.term.id;return f[m]||(f[m]={termName:h.term.name,startDate:h.term.startDate,endDate:h.term.endDate,results:[]}),f[m].results.push(h),f},{}))||{},u=f=>{var b;if(!l)return;const h=c[f];if(!h)return;const m=new Et;m.setFillColor(30,41,59),m.rect(0,0,210,40,"F"),m.setTextColor(255,255,255),m.setFontSize(22),m.setFont("helvetica","bold"),m.text("ACADEMIC REPORT CARD",105,20,{align:"center"}),m.setFontSize(12),m.setFont("helvetica","normal"),m.text(h.termName,105,30,{align:"center"}),m.setTextColor(0,0,0),m.setFontSize(11),m.setFont("helvetica","bold"),m.text("Student Name:",15,55),m.setFont("helvetica","normal"),m.text(`${l.firstName} ${l.lastName}`,50,55),m.setFont("helvetica","bold"),m.text("Admission No:",15,62),m.setFont("helvetica","normal"),m.text(l.admissionNumber,50,62),m.setFont("helvetica","bold"),m.text("Class:",140,55),m.setFont("helvetica","normal"),m.text(((b=l.class)==null?void 0:b.name)||"N/A",160,55);const p=h.results.map(N=>[N.subject.name,N.subject.code,Number(N.totalScore),N.grade||"-",N.remarks||"-"]);fx(m,{startY:75,head:[["Subject","Code","Score (%)","Grade","Remarks"]],body:p,theme:"grid",headStyles:{fillColor:[37,99,235]}});const g=m.lastAutoTable.finalY+20,x=h.results.reduce((N,A)=>N+Number(A.totalScore),0),v=Math.round(x/h.results.length);m.setDrawColor(200,200,200),m.setFillColor(248,250,252),m.roundedRect(15,g,180,25,2,2,"FD"),m.setFontSize(10),m.text("Overall Average:",25,g+10),m.setFontSize(14),m.setFont("helvetica","bold"),m.text(`${v}%`,25,g+18),m.setFontSize(10),m.setFont("helvetica","normal"),m.text("Performance Summary:",80,g+10),m.setFontSize(11),m.setFont("helvetica","bold");const y=v>=75?"Excellent":v>=60?"Good":v>=50?"Satisfactory":"Needs Improvement";m.text(y,80,g+18),m.setFontSize(8),m.setTextColor(150,150,150),m.text("This is a computer-generated report.",105,280,{align:"center"}),m.save(`${l.firstName}_${h.termName}_Report.pdf`)};return a?o.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading academic data..."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:[o.jsx(F3,{className:"text-blue-600",size:32}),"Academic Reports"]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"View and download term performance reports for your children."})]}),e.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex space-x-2 mb-8 overflow-x-auto pb-2 border-b border-gray-200 dark:border-slate-700",children:e.map(f=>o.jsxs("button",{onClick:()=>n(f.id),className:`flex items-center space-x-2 px-6 py-3 rounded-t-lg text-sm font-medium transition-colors whitespace-nowrap border-b-2 ${r===f.id?"border-blue-600 text-blue-600 bg-blue-50/50 dark:bg-blue-900/30":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[o.jsx(_i,{size:18}),o.jsx("span",{children:f.firstName})]},f.id))}),Object.keys(c).length>0?o.jsx("div",{className:"space-y-8",children:Object.keys(c).sort((f,h)=>h.localeCompare(f)).map(f=>{const h=c[f],m=h.results.reduce((g,x)=>g+Number(x.totalScore),0),p=Math.round(m/h.results.length);return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 px-6 py-4 border-b border-gray-200 dark:border-slate-600 flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:h.termName}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(h.startDate).getFullYear(),"  Average: ",o.jsxs("span",{className:"font-bold text-blue-600",children:[p,"%"]})]})]}),o.jsxs("button",{onClick:()=>u(f),className:"flex items-center gap-2 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 hover:bg-gray-50 dark:hover:bg-slate-500 text-gray-700 dark:text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm",children:[o.jsx(Qs,{size:16}),"Download Report PDF"]})]}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700",children:[o.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Subject"}),o.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Score"}),o.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Grade"}),o.jsx("th",{className:"pb-3 px-4 font-semibold text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider",children:"Remarks"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:h.results.map(g=>{var x,v,y;return o.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ea,{size:14,className:"text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:g.subject.name})]})}),o.jsxs("td",{className:"py-3 px-4 font-semibold text-gray-900 dark:text-white",children:[Number(g.totalScore),"%"]}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${(x=g.grade)!=null&&x.startsWith("A")||g.grade==="D1"||g.grade==="D2"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":(v=g.grade)!=null&&v.startsWith("B")||(y=g.grade)!=null&&y.startsWith("C")?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:g.grade||"-"})}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:g.remarks||"-"})]},g.id)})})]})})})]},f)})}):o.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-800 rounded-xl border-2 border-dashed border-gray-200 dark:border-slate-600",children:[o.jsx(Os,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No Academic Records"}),o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["No term reports found for ",l==null?void 0:l.firstName,"."]})]})]}):o.jsx("div",{className:"text-center py-20",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No children linked to your account."})})]})},X_=k.createContext({});function Z_(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const J_=typeof window<"u",tq=J_?k.useLayoutEffect:k.useEffect,$w=k.createContext(null);function Q_(e,t){e.indexOf(t)===-1&&e.push(t)}function eE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const jc=(e,t,r)=>r>t?t:r<e?e:r;let tE=()=>{};const Ac={},rq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nq(e){return typeof e=="object"&&e!==null}const aq=e=>/^0[^.\s]+$/u.test(e);function rE(e){let t;return()=>(t===void 0&&(t=e()),t)}const oo=e=>e,t_e=(e,t)=>r=>t(e(r)),zx=(...e)=>e.reduce(t_e),Ug=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class nE{constructor(){this.subscriptions=[]}add(t){return Q_(this.subscriptions,t),()=>eE(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jl=e=>e*1e3,ao=e=>e/1e3;function sq(e,t){return t?e*(1e3/t):0}const iq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,r_e=1e-7,n_e=12;function a_e(e,t,r,n,a){let s,i,l=0;do i=t+(r-t)/2,s=iq(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>r_e&&++l<n_e);return i}function Ux(e,t,r,n){if(e===t&&r===n)return oo;const a=s=>a_e(s,0,1,e,r);return s=>s===0||s===1?s:iq(a(s),t,n)}const oq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lq=e=>t=>1-e(1-t),cq=Ux(.33,1.53,.69,.99),aE=lq(cq),uq=oq(aE),dq=e=>(e*=2)<1?.5*aE(e):.5*(2-Math.pow(2,-10*(e-1))),sE=e=>1-Math.sin(Math.acos(e)),fq=lq(sE),hq=oq(sE),s_e=Ux(.42,0,1,1),i_e=Ux(0,0,.58,1),mq=Ux(.42,0,.58,1),o_e=e=>Array.isArray(e)&&typeof e[0]!="number",pq=e=>Array.isArray(e)&&typeof e[0]=="number",l_e={linear:oo,easeIn:s_e,easeInOut:mq,easeOut:i_e,circIn:sE,circInOut:hq,circOut:fq,backIn:aE,backInOut:uq,backOut:cq,anticipate:dq},c_e=e=>typeof e=="string",iL=e=>{if(pq(e)){tE(e.length===4);const[t,r,n,a]=e;return Ux(t,r,n,a)}else if(c_e(e))return l_e[e];return e},Tv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function u_e(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){i.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const p=h&&a?r:n;return f&&i.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(l=d,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,s&&(s=!1,u.process(d))}};return u}const d_e=40;function gq(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=Tv.reduce((b,N)=>(b[N]=u_e(s),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=i,g=()=>{const b=Ac.useManualTiming?a.timestamp:performance.now();r=!1,Ac.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,d_e),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),m.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},x=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:Tv.reduce((b,N)=>{const A=i[N];return b[N]=(S,j=!1,E=!1)=>(r||x(),A.schedule(S,j,E)),b},{}),cancel:b=>{for(let N=0;N<Tv.length;N++)i[Tv[N]].cancel(b)},state:a,steps:i}}const{schedule:rn,cancel:Yu,state:Ba,steps:cN}=gq(typeof requestAnimationFrame<"u"?requestAnimationFrame:oo,!0);let ry;function f_e(){ry=void 0}const Gs={now:()=>(ry===void 0&&Gs.set(Ba.isProcessing||Ac.useManualTiming?Ba.timestamp:performance.now()),ry),set:e=>{ry=e,queueMicrotask(f_e)}},xq=e=>t=>typeof t=="string"&&t.startsWith(e),iE=xq("--"),h_e=xq("var(--"),oE=e=>h_e(e)?m_e.test(e.split("/*")[0].trim()):!1,m_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,em={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$g={...em,transform:e=>jc(0,1,e)},Pv={...em,default:1},Lp=e=>Math.round(e*1e5)/1e5,lE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function p_e(e){return e==null}const g_e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cE=(e,t)=>r=>!!(typeof r=="string"&&g_e.test(r)&&r.startsWith(e)||t&&!p_e(r)&&Object.prototype.hasOwnProperty.call(r,t)),vq=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,l]=n.match(lE);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},x_e=e=>jc(0,255,e),uN={...em,transform:e=>Math.round(x_e(e))},zd={test:cE("rgb","red"),parse:vq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+uN.transform(e)+", "+uN.transform(t)+", "+uN.transform(r)+", "+Lp($g.transform(n))+")"};function v_e(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const sj={test:cE("#"),parse:v_e,transform:zd.transform},$x=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),au=$x("deg"),Al=$x("%"),zt=$x("px"),y_e=$x("vh"),b_e=$x("vw"),oL={...Al,parse:e=>Al.parse(e)/100,transform:e=>Al.transform(e*100)},Bf={test:cE("hsl","hue"),parse:vq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Al.transform(Lp(t))+", "+Al.transform(Lp(r))+", "+Lp($g.transform(n))+")"},Yn={test:e=>zd.test(e)||sj.test(e)||Bf.test(e),parse:e=>zd.test(e)?zd.parse(e):Bf.test(e)?Bf.parse(e):sj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zd.transform(e):Bf.transform(e),getAnimatableNone:e=>{const t=Yn.parse(e);return t.alpha=0,Yn.transform(t)}},w_e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k_e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lE))==null?void 0:t.length)||0)+(((r=e.match(w_e))==null?void 0:r.length)||0)>0}const yq="number",bq="color",N_e="var",S_e="var(",lL="${}",j_e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(j_e,c=>(Yn.test(c)?(n.color.push(s),a.push(bq),r.push(Yn.parse(c))):c.startsWith(S_e)?(n.var.push(s),a.push(N_e),r.push(c)):(n.number.push(s),a.push(yq),r.push(parseFloat(c))),++s,lL)).split(lL);return{values:r,split:l,indexes:n,types:a}}function wq(e){return Wg(e).values}function kq(e){const{split:t,types:r}=Wg(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const l=r[i];l===yq?s+=Lp(a[i]):l===bq?s+=Yn.transform(a[i]):s+=a[i]}return s}}const A_e=e=>typeof e=="number"?0:Yn.test(e)?Yn.getAnimatableNone(e):e;function __e(e){const t=wq(e);return kq(e)(t.map(A_e))}const Xu={test:k_e,parse:wq,createTransformer:kq,getAnimatableNone:__e};function dN(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function E_e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=dN(c,l,e+1/3),s=dN(c,l,e),i=dN(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function Wb(e,t){return r=>r>0?t:e}const ln=(e,t,r)=>e+(t-e)*r,fN=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},C_e=[sj,zd,Bf],T_e=e=>C_e.find(t=>t.test(e));function cL(e){const t=T_e(e);if(!t)return!1;let r=t.parse(e);return t===Bf&&(r=E_e(r)),r}const uL=(e,t)=>{const r=cL(e),n=cL(t);if(!r||!n)return Wb(e,t);const a={...r};return s=>(a.red=fN(r.red,n.red,s),a.green=fN(r.green,n.green,s),a.blue=fN(r.blue,n.blue,s),a.alpha=ln(r.alpha,n.alpha,s),zd.transform(a))},ij=new Set(["none","hidden"]);function P_e(e,t){return ij.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function O_e(e,t){return r=>ln(e,t,r)}function uE(e){return typeof e=="number"?O_e:typeof e=="string"?oE(e)?Wb:Yn.test(e)?uL:D_e:Array.isArray(e)?Nq:typeof e=="object"?Yn.test(e)?uL:F_e:Wb}function Nq(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>uE(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function F_e(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=uE(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function L_e(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],l=e.values[i]??0;r[a]=l,n[s]++}return r}const D_e=(e,t)=>{const r=Xu.createTransformer(t),n=Wg(e),a=Wg(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ij.has(e)&&!a.values.length||ij.has(t)&&!n.values.length?P_e(e,t):zx(Nq(L_e(n,a),a.values),r):Wb(e,t)};function Sq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ln(e,t,r):uE(e)(e,t)}const I_e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>rn.update(t,r),stop:()=>Yu(t),now:()=>Ba.isProcessing?Ba.timestamp:Gs.now()}},jq=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Hb=2e4;function dE(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Hb;)t+=r,n=e.next(t);return t>=Hb?1/0:t}function M_e(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(dE(n),Hb);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:ao(a)}}const R_e=5;function Aq(e,t,r){const n=Math.max(t-R_e,0);return sq(r-e(n),t-n)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hN=.001;function B_e({duration:e=yn.duration,bounce:t=yn.bounce,velocity:r=yn.velocity,mass:n=yn.mass}){let a,s,i=1-t;i=jc(yn.minDamping,yn.maxDamping,i),e=jc(yn.minDuration,yn.maxDuration,ao(e)),i<1?(a=u=>{const d=u*i,f=d*e,h=d-r,m=oj(u,i),p=Math.exp(-f);return hN-h/m*p},s=u=>{const f=u*i*e,h=f*r+r,m=Math.pow(i,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=oj(Math.pow(u,2),i);return(-a(u)+hN>0?-1:1)*((h-m)*p)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-hN+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=U_e(a,s,l);if(e=jl(e),isNaN(c))return{stiffness:yn.stiffness,damping:yn.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const z_e=12;function U_e(e,t,r){let n=r;for(let a=1;a<z_e;a++)n=n-e(n)/t(n);return n}function oj(e,t){return e*Math.sqrt(1-t*t)}const $_e=["duration","bounce"],W_e=["stiffness","damping","mass"];function dL(e,t){return t.some(r=>e[r]!==void 0)}function H_e(e){let t={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...e};if(!dL(e,W_e)&&dL(e,$_e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*jc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:yn.mass,stiffness:a,damping:s}}else{const r=B_e(e);t={...t,...r,mass:yn.mass},t.isResolvedFromDuration=!0}return t}function Vb(e=yn.visualDuration,t=yn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=H_e({...r,velocity:-ao(r.velocity||0)}),p=h||0,g=u/(2*Math.sqrt(c*d)),x=i-s,v=ao(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?yn.restSpeed.granular:yn.restSpeed.default),a||(a=y?yn.restDelta.granular:yn.restDelta.default);let b;if(g<1){const A=oj(v,g);b=S=>{const j=Math.exp(-g*v*S);return i-j*((p+g*v*x)/A*Math.sin(A*S)+x*Math.cos(A*S))}}else if(g===1)b=A=>i-Math.exp(-v*A)*(x+(p+v*x)*A);else{const A=v*Math.sqrt(g*g-1);b=S=>{const j=Math.exp(-g*v*S),E=Math.min(A*S,300);return i-j*((p+g*v*x)*Math.sinh(E)+A*x*Math.cosh(E))/A}}const N={calculatedDuration:m&&f||null,next:A=>{const S=b(A);if(m)l.done=A>=f;else{let j=A===0?p:0;g<1&&(j=A===0?jl(p):Aq(b,A,S));const E=Math.abs(j)<=n,C=Math.abs(i-S)<=a;l.done=E&&C}return l.value=l.done?i:S,l},toString:()=>{const A=Math.min(dE(N),Hb),S=jq(j=>N.next(A*j).value,A,30);return A+"ms "+S},toTransition:()=>{}};return N}Vb.applyToOptions=e=>{const t=M_e(e,100,Vb);return e.ease=t.ease,e.duration=jl(t.duration),e.type="keyframes",e};function lj({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,p=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=r*t;const x=f+g,v=i===void 0?x:i(x);v!==x&&(g=v-f);const y=E=>-g*Math.exp(-E/n),b=E=>v+y(E),N=E=>{const C=y(E),I=b(E);h.done=Math.abs(C)<=u,h.value=h.done?v:I};let A,S;const j=E=>{m(h.value)&&(A=E,S=Vb({keyframes:[h.value,p(h.value)],velocity:Aq(b,E,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:E=>{let C=!1;return!S&&A===void 0&&(C=!0,N(E),j(E)),A!==void 0&&E>=A?S.next(E-A):(!C&&N(E),h)}}}function V_e(e,t,r){const n=[],a=r||Ac.mix||Sq,s=e.length-1;for(let i=0;i<s;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||oo:t;l=zx(c,l)}n.push(l)}return n}function q_e(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(tE(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=V_e(t,n,a),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ug(e[f],e[f+1],d);return l[f](h)};return r?d=>u(jc(e[0],e[s-1],d)):u}function G_e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Ug(0,t,n);e.push(ln(r,1,a))}}function K_e(e){const t=[0];return G_e(t,e.length-1),t}function Y_e(e,t){return e.map(r=>r*t)}function X_e(e,t){return e.map(()=>t||mq).splice(0,e.length-1)}function Dp({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=o_e(n)?n.map(iL):iL(n),s={done:!1,value:t[0]},i=Y_e(r&&r.length===t.length?r:K_e(t),e),l=q_e(i,t,{ease:Array.isArray(a)?a:X_e(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Z_e=e=>e!==null;function fE(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(Z_e),l=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const J_e={decay:lj,inertia:lj,tween:Dp,keyframes:Dp,spring:Vb};function _q(e){typeof e.type=="string"&&(e.type=J_e[e.type])}class hE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Q_e=e=>e/100;class mE extends hE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Gs.now()&&this.tick(Gs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_q(t);const{type:r=Dp,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:l}=t;const c=r||Dp;c!==Dp&&typeof l[0]!="number"&&(this.mixKeyframes=zx(Q_e,Sq(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=dE(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,N=n;if(f){const E=Math.min(this.currentTime,a)/l;let C=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(I=1-I,m&&(I-=m/l)):h==="mirror"&&(N=i)),b=jc(0,1,I)*l}const A=y?{done:!1,value:d[0]}:N.next(b);s&&(A.value=s(A.value));let{done:S}=A;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return j&&p!==lj&&(A.value=fE(d,this.options,x,this.speed)),g&&g(A.value),j&&this.finish(),A}then(t,r){return this.finished.then(t,r)}get duration(){return ao(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ao(t)}get time(){return ao(this.currentTime)}set time(t){var r;t=jl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ao(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=I_e,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function eEe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ud=e=>e*180/Math.PI,cj=e=>{const t=Ud(Math.atan2(e[1],e[0]));return uj(t)},tEe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cj,rotateZ:cj,skewX:e=>Ud(Math.atan(e[1])),skewY:e=>Ud(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},uj=e=>(e=e%360,e<0&&(e+=360),e),fL=cj,hL=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mL=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rEe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hL,scaleY:mL,scale:e=>(hL(e)+mL(e))/2,rotateX:e=>uj(Ud(Math.atan2(e[6],e[5]))),rotateY:e=>uj(Ud(Math.atan2(-e[2],e[0]))),rotateZ:fL,rotate:fL,skewX:e=>Ud(Math.atan(e[4])),skewY:e=>Ud(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dj(e){return e.includes("scale")?1:0}function fj(e,t){if(!e||e==="none")return dj(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=rEe,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=tEe,a=l}if(!a)return dj(t);const s=n[t],i=a[1].split(",").map(aEe);return typeof s=="function"?s(i):i[s]}const nEe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return fj(r,t)};function aEe(e){return parseFloat(e.trim())}const tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rm=new Set(tm),pL=e=>e===em||e===zt,sEe=new Set(["x","y","z"]),iEe=tm.filter(e=>!sEe.has(e));function oEe(e){const t=[];return iEe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const a0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>fj(t,"x"),y:(e,{transform:t})=>fj(t,"y")};a0.translateX=a0.x;a0.translateY=a0.y;const s0=new Set;let hj=!1,mj=!1,pj=!1;function Eq(){if(mj){const e=Array.from(s0).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=oEe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var l;(l=n.getValue(s))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}mj=!1,hj=!1,s0.forEach(e=>e.complete(pj)),s0.clear()}function Cq(){s0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mj=!0)})}function lEe(){pj=!0,Cq(),Eq(),pj=!1}class pE{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(s0.add(this),hj||(hj=!0,rn.read(Cq),rn.resolveKeyframes(Eq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}eEe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),s0.delete(this)}cancel(){this.state==="scheduled"&&(s0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cEe=e=>e.startsWith("--");function uEe(e,t,r){cEe(t)?e.style.setProperty(t,r):e.style[t]=r}const dEe=rE(()=>window.ScrollTimeline!==void 0),fEe={};function hEe(e,t){const r=rE(e);return()=>fEe[t]??r()}const Tq=hEe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,gL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lp([0,.65,.55,1]),circOut:lp([.55,0,1,.45]),backIn:lp([.31,.01,.66,-.59]),backOut:lp([.33,1.53,.69,.99])};function Pq(e,t){if(e)return typeof e=="function"?Tq()?jq(e,t):"ease-out":pq(e)?lp(e):Array.isArray(e)?e.map(r=>Pq(r,t)||gL.easeOut):gL[e]}function mEe(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Pq(l,a);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Oq(e){return typeof e=="function"&&"applyToOptions"in e}function pEe({type:e,...t}){return Oq(e)&&Tq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gEe extends hE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,tE(typeof t.type!="string");const u=pEe(t);this.animation=mEe(r,n,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=fE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):uEe(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ao(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ao(t)}get time(){return ao(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=jl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&dEe()?(this.animation.timeline=t,oo):r(this)}}const Fq={anticipate:dq,backInOut:uq,circInOut:hq};function xEe(e){return e in Fq}function vEe(e){typeof e.ease=="string"&&xEe(e.ease)&&(e.ease=Fq[e.ease])}const xL=10;class yEe extends gEe{constructor(t){vEe(t),_q(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new mE({...i,autoplay:!1}),c=jl(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-xL).value,l.sample(c).value,xL),l.stop()}}const vL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xu.test(e)||e==="0")&&!e.startsWith("url("));function bEe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function wEe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=vL(a,t),l=vL(s,t);return!i||!l?!1:bEe(e)||(r==="spring"||Oq(r))&&n}function gj(e){e.duration=0,e.type="keyframes"}const kEe=new Set(["opacity","clipPath","filter","transform"]),NEe=rE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SEe(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return NEe()&&r&&kEe.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const jEe=40;class AEe extends hE{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var g,x;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Gs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||pE;this.keyframeResolver=new m(l,(g,x,v)=>this.onKeyframesResolved(g,x,h,!v),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Gs.now(),wEe(t,s,i,l)||((Ac.instantAnimations||!c)&&(d==null||d(fE(t,n,r))),t[0]=t[t.length-1],gj(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>jEe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&SEe(h)?new yEe({...h,element:h.motionValue.owner.current}):new mE(h);m.finished.then(()=>this.notifyFinished()).catch(oo),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),lEe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _Ee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EEe(e){const t=_Ee.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Lq(e,t,r=1){const[n,a]=EEe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return rq(i)?parseFloat(i):i}return oE(a)?Lq(a,t,r+1):a}function gE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Dq=new Set(["width","height","top","left","right","bottom",...tm]),CEe={test:e=>e==="auto",parse:e=>e},Iq=e=>t=>t.test(e),Mq=[em,zt,Al,au,b_e,y_e,CEe],yL=e=>Mq.find(Iq(e));function TEe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aq(e):!0}const PEe=new Set(["brightness","contrast","saturate","opacity"]);function OEe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(lE)||[];if(!n)return e;const a=r.replace(n,"");let s=PEe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const FEe=/\b([a-z-]*)\(.*?\)/gu,xj={...Xu,getAnimatableNone:e=>{const t=e.match(FEe);return t?t.map(OEe).join(" "):e}},bL={...em,transform:Math.round},LEe={rotate:au,rotateX:au,rotateY:au,rotateZ:au,scale:Pv,scaleX:Pv,scaleY:Pv,scaleZ:Pv,skew:au,skewX:au,skewY:au,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:$g,originX:oL,originY:oL,originZ:zt},xE={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...LEe,zIndex:bL,fillOpacity:$g,strokeOpacity:$g,numOctaves:bL},DEe={...xE,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:xj,WebkitFilter:xj},Rq=e=>DEe[e];function Bq(e,t){let r=Rq(e);return r!==xj&&(r=Xu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const IEe=new Set(["auto","none","0"]);function MEe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!IEe.has(s)&&Wg(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=Bq(r,a)}class REe extends pE{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),oE(u))){const d=Lq(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Dq.has(n)||t.length!==2)return;const[a,s]=t,i=yL(a),l=yL(s);if(i!==l)if(pL(i)&&pL(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else a0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||TEe(t[a]))&&n.push(a);n.length&&MEe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=a0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=a0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function BEe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const zq=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Uq(e){return nq(e)&&"offsetHeight"in e}const wL=30,zEe=e=>!isNaN(parseFloat(e));class UEe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Gs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zEe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new nE);const n=this.events[t].add(r);return t==="change"?()=>{n(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,wL);return sq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ch(e,t){return new UEe(e,t)}const{schedule:vE}=gq(queueMicrotask,!1),To={x:!1,y:!1};function $q(){return To.x||To.y}function $Ee(e){return e==="x"||e==="y"?To[e]?null:(To[e]=!0,()=>{To[e]=!1}):To.x||To.y?null:(To.x=To.y=!0,()=>{To.x=To.y=!1})}function Wq(e,t){const r=BEe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function kL(e){return!(e.pointerType==="touch"||$q())}function WEe(e,t,r={}){const[n,a,s]=Wq(e,r),i=l=>{if(!kL(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{kL(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",i,a)}),s}const Hq=(e,t)=>t?e===t?!0:Hq(e,t.parentElement):!1,yE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,HEe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VEe(e){return HEe.has(e.tagName)||e.tabIndex!==-1}const ny=new WeakSet;function NL(e){return t=>{t.key==="Enter"&&e(t)}}function mN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qEe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=NL(()=>{if(ny.has(r))return;mN(r,"down");const a=NL(()=>{mN(r,"up")}),s=()=>mN(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function SL(e){return yE(e)&&!$q()}function GEe(e,t,r={}){const[n,a,s]=Wq(e,r),i=l=>{const c=l.currentTarget;if(!SL(l))return;ny.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ny.has(c)&&ny.delete(c),SL(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||Hq(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),Uq(l)&&(l.addEventListener("focus",u=>qEe(u,a)),!VEe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function Vq(e){return nq(e)&&"ownerSVGElement"in e}function KEe(e){return Vq(e)&&e.tagName==="svg"}const ds=e=>!!(e&&e.getVelocity),YEe=[...Mq,Yn,Xu],XEe=e=>YEe.find(Iq(e)),bE=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ZEe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=jL(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():jL(e[a],null)}}}}function JEe(...e){return k.useCallback(ZEe(...e),e)}class QEe extends k.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Uq(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eCe({children:e,isPresent:t,anchorX:r,root:n}){const a=k.useId(),s=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(bE),c=JEe(s,e==null?void 0:e.ref);return k.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=i.current;if(t||!s.current||!u||!d)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),o.jsx(QEe,{isPresent:t,childRef:s,sizeRef:i,children:k.cloneElement(e,{ref:c})})}const tCe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:l,root:c})=>{const u=Z_(rCe),d=k.useId();let f=!0,h=k.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),k.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),k.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=o.jsx(eCe,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx($w.Provider,{value:h,children:e})};function rCe(){return new Map}function qq(e=!0){const t=k.useContext($w);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=k.useId();k.useEffect(()=>{if(e)return a(s)},[e]);const i=k.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const Ov=e=>e.key||"";function AL(e){const t=[];return k.Children.forEach(e,r=>{k.isValidElement(r)&&t.push(r)}),t}const nCe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=qq(i),f=k.useMemo(()=>AL(e),[e]),h=i&&!u?[]:f.map(Ov),m=k.useRef(!0),p=k.useRef(f),g=Z_(()=>new Map),[x,v]=k.useState(f),[y,b]=k.useState(f);tq(()=>{m.current=!1,p.current=f;for(let S=0;S<y.length;S++){const j=Ov(y[S]);h.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[y,h.length,h.join("-")]);const N=[];if(f!==x){let S=[...f];for(let j=0;j<y.length;j++){const E=y[j],C=Ov(E);h.includes(C)||(S.splice(j,0,E),N.push(E))}return s==="wait"&&N.length&&(S=N),b(AL(S)),v(f),null}const{forceRender:A}=k.useContext(X_);return o.jsx(o.Fragment,{children:y.map(S=>{const j=Ov(S),E=i&&!u?!1:f===y||h.includes(j),C=()=>{if(g.has(j))g.set(j,!0);else return;let I=!0;g.forEach(T=>{T||(I=!1)}),I&&(A==null||A(),b(p.current),i&&(d==null||d()),n&&n())};return o.jsx(tCe,{isPresent:E,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:E?void 0:C,anchorX:l,children:S},j)})})},Gq=k.createContext({strict:!1}),_L={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Th={};for(const e in _L)Th[e]={isEnabled:t=>_L[e].some(r=>!!t[r])};function aCe(e){for(const t in e)Th[t]={...Th[t],...e[t]}}const sCe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sCe.has(e)}let Kq=e=>!qb(e);function iCe(e){typeof e=="function"&&(Kq=t=>t.startsWith("on")?!qb(t):e(t))}try{iCe(require("@emotion/is-prop-valid").default)}catch{}function oCe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Kq(a)||r===!0&&qb(a)||!t&&!qb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Ww=k.createContext({});function Hw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hg(e){return typeof e=="string"||Array.isArray(e)}const wE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kE=["initial",...wE];function Vw(e){return Hw(e.animate)||kE.some(t=>Hg(e[t]))}function Yq(e){return!!(Vw(e)||e.variants)}function lCe(e,t){if(Vw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Hg(r)?r:void 0,animate:Hg(n)?n:void 0}}return e.inherit!==!1?t:{}}function cCe(e){const{initial:t,animate:r}=lCe(e,k.useContext(Ww));return k.useMemo(()=>({initial:t,animate:r}),[EL(t),EL(r)])}function EL(e){return Array.isArray(e)?e.join(" "):e}const Vg={};function uCe(e){for(const t in e)Vg[t]=e[t],iE(t)&&(Vg[t].isCSSVariable=!0)}function Xq(e,{layout:t,layoutId:r}){return rm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Vg[e]||e==="opacity")}const dCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fCe=tm.length;function hCe(e,t,r){let n="",a=!0;for(let s=0;s<fCe;s++){const i=tm[s],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=zq(l,xE[i]);if(!c){a=!1;const d=dCe[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function NE(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(rm.has(c)){i=!0;continue}else if(iE(c)){a[c]=u;continue}else{const d=zq(u,xE[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=hCe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const SE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zq(e,t,r){for(const n in t)!ds(t[n])&&!Xq(n,r)&&(e[n]=t[n])}function mCe({transformTemplate:e},t){return k.useMemo(()=>{const r=SE();return NE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function pCe(e,t){const r=e.style||{},n={};return Zq(n,r,e),Object.assign(n,mCe(e,t)),n}function gCe(e,t){const r={},n=pCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const xCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vCe={offset:"strokeDashoffset",array:"strokeDasharray"};function yCe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?xCe:vCe;e[s.offset]=zt.transform(-n);const i=zt.transform(t),l=zt.transform(r);e[s.array]=`${i} ${l}`}function Jq(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...l},c,u,d){if(NE(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&yCe(f,a,s,i,!1)}const Qq=()=>({...SE(),attrs:{}}),eG=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bCe(e,t,r,n){const a=k.useMemo(()=>{const s=Qq();return Jq(s,t,eG(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Zq(s,e.style,e),a.style={...s,...a.style}}return a}const wCe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jE(e){return typeof e!="string"||e.includes("-")?!1:!!(wCe.indexOf(e)>-1||/[A-Z]/u.test(e))}function kCe(e,t,r,{latestValues:n},a,s=!1){const l=(jE(e)?bCe:gCe)(t,n,a,e),c=oCe(t,typeof e=="string",s),u=e!==k.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=k.useMemo(()=>ds(d)?d.get():d,[d]);return k.createElement(e,{...u,children:f})}function CL(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function AE(e,t,r,n){if(typeof t=="function"){const[a,s]=CL(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=CL(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function ay(e){return ds(e)?e.get():e}function NCe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:SCe(r,n,a,e),renderState:t()}}function SCe(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=ay(s[h]);let{initial:i,animate:l}=e;const c=Vw(e),u=Yq(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!Hw(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=AE(e,h[m]);if(p){const{transitionEnd:g,transition:x,...v}=p;for(const y in v){let b=v[y];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(a[y]=b)}for(const y in g)a[y]=g[y]}}}return a}const tG=e=>(t,r)=>{const n=k.useContext(Ww),a=k.useContext($w),s=()=>NCe(e,t,n,a);return r?s():Z_(s)};function _E(e,t,r){var s;const{style:n}=e,a={};for(const i in n)(ds(n[i])||t.style&&ds(t.style[i])||Xq(i,e)||((s=r==null?void 0:r.getValue(i))==null?void 0:s.liveStyle)!==void 0)&&(a[i]=n[i]);return a}const jCe=tG({scrapeMotionValuesFromProps:_E,createRenderState:SE});function rG(e,t,r){const n=_E(e,t,r);for(const a in e)if(ds(e[a])||ds(t[a])){const s=tm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}const ACe=tG({scrapeMotionValuesFromProps:rG,createRenderState:Qq}),_Ce=Symbol.for("motionComponentSymbol");function zf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ECe(e,t,r){return k.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):zf(r)&&(r.current=n))},[t])}const EE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CCe="framerAppearId",nG="data-"+EE(CCe),aG=k.createContext({});function TCe(e,t,r,n,a){var g,x;const{visualElement:s}=k.useContext(Ww),i=k.useContext(Gq),l=k.useContext($w),c=k.useContext(bE).reducedMotion,u=k.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=k.useContext(aG);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&PCe(u.current,r,a,f);const h=k.useRef(!1);k.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[nG],p=k.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return tq(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function PCe(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:sG(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||l&&zf(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function sG(e){if(e)return e.options.allowProjection!==!1?e.projection:sG(e.parent)}function pN(e,{forwardMotionProps:t=!1}={},r,n){r&&aCe(r);const a=jE(e)?ACe:jCe;function s(l,c){let u;const d={...k.useContext(bE),...l,layoutId:OCe(l)},{isStatic:f}=d,h=cCe(l),m=a(l,f);if(!f&&J_){FCe();const p=LCe(d);u=p.MeasureLayout,h.visualElement=TCe(e,m,d,n,p.ProjectionNode)}return o.jsxs(Ww.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,kCe(e,l,ECe(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=k.forwardRef(s);return i[_Ce]=e,i}function OCe({layoutId:e}){const t=k.useContext(X_).id;return t&&e!==void 0?t+"-"+e:e}function FCe(e,t){k.useContext(Gq).strict}function LCe(e){const{drag:t,layout:r}=Th;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function DCe(e,t){if(typeof Proxy>"u")return pN;const r=new Map,n=(s,i)=>pN(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,pN(i,void 0,e,t)),r.get(i))})}function iG({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ICe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MCe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function gN(e){return e===void 0||e===1}function vj({scale:e,scaleX:t,scaleY:r}){return!gN(e)||!gN(t)||!gN(r)}function Ed(e){return vj(e)||oG(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oG(e){return TL(e.x)||TL(e.y)}function TL(e){return e&&e!=="0%"}function Gb(e,t,r){const n=e-r,a=t*n;return r+a}function PL(e,t,r,n,a){return a!==void 0&&(e=Gb(e,a,n)),Gb(e,r,n)+t}function yj(e,t=0,r=1,n,a){e.min=PL(e.min,t,r,n,a),e.max=PL(e.max,t,r,n,a)}function lG(e,{x:t,y:r}){yj(e.x,t.translate,t.scale,t.originPoint),yj(e.y,r.translate,r.scale,r.originPoint)}const OL=.999999999999,FL=1.0000000000001;function RCe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let l=0;l<a;l++){s=r[l],i=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$f(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,lG(e,i)),n&&Ed(s.latestValues)&&$f(e,s.latestValues))}t.x<FL&&t.x>OL&&(t.x=1),t.y<FL&&t.y>OL&&(t.y=1)}function Uf(e,t){e.min=e.min+t,e.max=e.max+t}function LL(e,t,r,n,a=.5){const s=ln(e.min,e.max,a);yj(e,t,r,s,n)}function $f(e,t){LL(e.x,t.x,t.scaleX,t.scale,t.originX),LL(e.y,t.y,t.scaleY,t.scale,t.originY)}function cG(e,t){return iG(MCe(e.getBoundingClientRect(),t))}function BCe(e,t,r){const n=cG(e,r),{scroll:a}=t;return a&&(Uf(n.x,a.offset.x),Uf(n.y,a.offset.y)),n}const DL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wf=()=>({x:DL(),y:DL()}),IL=()=>({min:0,max:0}),On=()=>({x:IL(),y:IL()}),bj={current:null},uG={current:!1};function zCe(){if(uG.current=!0,!!J_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bj.current=e.matches;e.addEventListener("change",t),t()}else bj.current=!1}const UCe=new WeakMap;function $Ce(e,t,r){for(const n in t){const a=t[n],s=r[n];if(ds(a))e.addValue(n,a);else if(ds(s))e.addValue(n,Ch(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,Ch(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const ML=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WCe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,rn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Vw(r),this.isVariantNode=Yq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&ds(m)&&m.set(c[h])}}mount(t){var r;this.current=t,UCe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),uG.current||zCe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bj.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Yu(this.notifyUpdate),Yu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=rm.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&rn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Th){const r=Th[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):On()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ML.length;n++){const a=ML[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=$Ce(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ch(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(rq(n)||aq(n))?n=parseFloat(n):!XEe(n)&&Xu.test(r)&&(n=Bq(t,r)),this.setBaseTarget(t,ds(n)?n.get():n)),ds(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=AE(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ds(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new nE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){vE.render(this.render)}}class dG extends WCe{constructor(){super(...arguments),this.KeyframeResolver=REe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ds(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function fG(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function HCe(e){return window.getComputedStyle(e)}class VCe extends dG{constructor(){super(...arguments),this.type="html",this.renderInstance=fG}readValueFromInstance(t,r){var n;if(rm.has(r))return(n=this.projection)!=null&&n.isProjecting?dj(r):nEe(t,r);{const a=HCe(t),s=(iE(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return cG(t,r)}build(t,r,n){NE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return _E(t,r,n)}}const hG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qCe(e,t,r,n){fG(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(hG.has(a)?a:EE(a),t.attrs[a])}class GCe extends dG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=On}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(rm.has(r)){const n=Rq(r);return n&&n.default||0}return r=hG.has(r)?r:EE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return rG(t,r,n)}build(t,r,n){Jq(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){qCe(t,r,n,a)}mount(t){this.isSVGTag=eG(t.tagName),super.mount(t)}}const KCe=(e,t)=>jE(e)?new GCe(t):new VCe(t,{allowProjection:e!==k.Fragment});function rh(e,t,r){const n=e.getProps();return AE(n,t,r!==void 0?r:n.custom,e)}const wj=e=>Array.isArray(e);function YCe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ch(r))}function XCe(e){return wj(e)?e[e.length-1]||0:e}function ZCe(e,t){const r=rh(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const l=XCe(s[i]);YCe(e,i,l)}}function JCe(e){return!!(ds(e)&&e.add)}function kj(e,t){const r=e.getValue("willChange");if(JCe(r))return r.add(t);if(!r&&Ac.WillChange){const n=new Ac.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function mG(e){return e.props[nG]}const QCe=e=>e!==null;function eTe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(QCe),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}const tTe={type:"spring",stiffness:500,damping:25,restSpeed:10},rTe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nTe={type:"keyframes",duration:.8},aTe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sTe=(e,{keyframes:t})=>t.length>2?nTe:rm.has(e)?e.startsWith("scale")?rTe(t[1]):tTe:aTe;function iTe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const CE=(e,t,r,n={},a,s)=>i=>{const l=gE(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-jl(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};iTe(l)||Object.assign(d,sTe(e,d)),d.duration&&(d.duration=jl(d.duration)),d.repeatDelay&&(d.repeatDelay=jl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(gj(d),d.delay===0&&(f=!0)),(Ac.instantAnimations||Ac.skipAnimations)&&(f=!0,gj(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=eTe(d.keyframes,l);if(h!==void 0){rn.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new mE(d):new AEe(d)};function oTe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function pG(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(s=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&oTe(u,d))continue;const m={delay:r,...gE(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=mG(e);if(v){const y=window.MotionHandoffAnimation(v,d,rn);y!==null&&(m.startTime=y,g=!0)}}kj(e,d),f.start(CE(d,f,h,e.shouldReduceMotion&&Dq.has(d)?{type:!1}:m,e,g));const x=f.animation;x&&c.push(x)}return i&&Promise.all(c).then(()=>{rn.update(()=>{i&&ZCe(e,i)})}),c}function gG(e,t,r,n=0,a=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:l-s*n}function Nj(e,t,r={}){var c;const n=rh(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(pG(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return lTe(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[s,i]:[i,s];return u().then(()=>d())}else return Promise.all([s(),i(r.delay)])}function lTe(e,t,r=0,n=0,a=0,s=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Nj(c,t,{...i,delay:r+(typeof n=="function"?0:n)+gG(e.variantChildren,c,n,a,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function cTe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>Nj(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=Nj(e,t,r);else{const a=typeof t=="function"?rh(e,t,r.custom):t;n=Promise.all(pG(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function xG(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const uTe=kE.length;function vG(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?vG(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uTe;r++){const n=kE[r],a=e.props[n];(Hg(a)||a===!1)&&(t[n]=a)}return t}const dTe=[...wE].reverse(),fTe=wE.length;function hTe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>cTe(e,r,n)))}function mTe(e){let t=hTe(e),r=RL(),n=!0;const a=c=>(u,d)=>{var h;const f=rh(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...g}=f;u={...u,...g,...p}}return u};function s(c){t=c(e)}function i(c){const{props:u}=e,d=vG(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let x=0;x<fTe;x++){const v=dTe[x],y=r[v],b=u[v]!==void 0?u[v]:d[v],N=Hg(b),A=v===c?y.isActive:null;A===!1&&(p=x);let S=b===d[v]&&b!==u[v]&&N;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&A===null||!b&&!y.prevProp||Hw(b)||typeof b=="boolean")continue;const j=pTe(y.prevProp,b);let E=j||v===c&&y.isActive&&!S&&N||x>p&&N,C=!1;const I=Array.isArray(b)?b:[b];let T=I.reduce(a(v),{});A===!1&&(T={});const{prevResolvedValues:P={}}=y,H={...P,...T},q=z=>{E=!0,h.has(z)&&(C=!0,h.delete(z)),y.needsAnimating[z]=!0;const Y=e.getValue(z);Y&&(Y.liveStyle=!1)};for(const z in H){const Y=T[z],U=P[z];if(m.hasOwnProperty(z))continue;let Q=!1;wj(Y)&&wj(U)?Q=!xG(Y,U):Q=Y!==U,Q?Y!=null?q(z):h.add(z):Y!==void 0&&h.has(z)?q(z):y.protectedKeys[z]=!0}y.prevProp=b,y.prevResolvedValues=T,y.isActive&&(m={...m,...T}),n&&e.blockInitialAnimation&&(E=!1);const ae=S&&j;E&&(!ae||C)&&f.push(...I.map(z=>{const Y={type:v};if(typeof z=="string"&&n&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,Q=rh(U,z);if(U.enteringChildren&&Q){const{delayChildren:pe}=Q.transition||{};Y.delay=gG(U.enteringChildren,e,pe)}}return{animation:z,options:Y}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const v=rh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(x.transition=v.transition)}h.forEach(v=>{const y=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),x[v]=y??null}),f.push({animation:x})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=RL()}}}function pTe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xG(t,e):!1}function wd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RL(){return{animate:wd(!0),whileInView:wd(),whileHover:wd(),whileTap:wd(),whileDrag:wd(),whileFocus:wd(),exit:wd()}}class cd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gTe extends cd{constructor(t){super(t),t.animationState||(t.animationState=mTe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let xTe=0;class vTe extends cd{constructor(){super(...arguments),this.id=xTe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const yTe={animation:{Feature:gTe},exit:{Feature:vTe}};function qg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Wx(e){return{point:{x:e.pageX,y:e.pageY}}}const bTe=e=>t=>yE(t)&&e(t,Wx(t));function Ip(e,t,r,n){return qg(e,t,bTe(r),n)}const yG=1e-4,wTe=1-yG,kTe=1+yG,bG=.01,NTe=0-bG,STe=0+bG;function Cs(e){return e.max-e.min}function jTe(e,t,r){return Math.abs(e-t)<=r}function BL(e,t,r,n=.5){e.origin=n,e.originPoint=ln(t.min,t.max,e.origin),e.scale=Cs(r)/Cs(t),e.translate=ln(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wTe&&e.scale<=kTe||isNaN(e.scale))&&(e.scale=1),(e.translate>=NTe&&e.translate<=STe||isNaN(e.translate))&&(e.translate=0)}function Mp(e,t,r,n){BL(e.x,t.x,r.x,n?n.originX:void 0),BL(e.y,t.y,r.y,n?n.originY:void 0)}function zL(e,t,r){e.min=r.min+t.min,e.max=e.min+Cs(t)}function ATe(e,t,r){zL(e.x,t.x,r.x),zL(e.y,t.y,r.y)}function UL(e,t,r){e.min=t.min-r.min,e.max=e.min+Cs(t)}function Rp(e,t,r){UL(e.x,t.x,r.x),UL(e.y,t.y,r.y)}function Zi(e){return[e("x"),e("y")]}const wG=({current:e})=>e?e.ownerDocument.defaultView:null,$L=(e,t)=>Math.abs(e-t);function _Te(e,t){const r=$L(e.x,t.x),n=$L(e.y,t.y);return Math.sqrt(r**2+n**2)}class kG{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=vN(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=_Te(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=h,{timestamp:x}=Ba;this.history.push({...g,timestamp:x});const{onStart:v,onMove:y}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xN(m,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=vN(h.type==="pointercancel"?this.lastMoveEventInfo:xN(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),g&&g(h,v)},!yE(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=Wx(t),c=xN(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ba;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,vN(c,this.history)),this.removeListeners=zx(Ip(this.contextWindow,"pointermove",this.handlePointerMove),Ip(this.contextWindow,"pointerup",this.handlePointerUp),Ip(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Yu(this.updatePoint)}}function xN(e,t){return t?{point:t(e.point)}:e}function WL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vN({point:e},t){return{point:e,delta:WL(e,NG(t)),offset:WL(e,ETe(t)),velocity:CTe(t,.1)}}function ETe(e){return e[0]}function NG(e){return e[e.length-1]}function CTe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=NG(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>jl(t)));)r--;if(!n)return{x:0,y:0};const s=ao(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function TTe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ln(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ln(r,e,n.max):Math.min(e,r)),e}function HL(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function PTe(e,{top:t,left:r,bottom:n,right:a}){return{x:HL(e.x,r,a),y:HL(e.y,t,n)}}function VL(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function OTe(e,t){return{x:VL(e.x,t.x),y:VL(e.y,t.y)}}function FTe(e,t){let r=.5;const n=Cs(e),a=Cs(t);return a>n?r=Ug(t.min,t.max-n,e.min):n>a&&(r=Ug(e.min,e.max-a,t.min)),jc(0,1,r)}function LTe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Sj=.35;function DTe(e=Sj){return e===!1?e=0:e===!0&&(e=Sj),{x:qL(e,"left","right"),y:qL(e,"top","bottom")}}function qL(e,t,r){return{min:GL(e,t),max:GL(e,r)}}function GL(e,t){return typeof e=="number"?e:e[t]||0}const ITe=new WeakMap;class MTe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=On(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Wx(f).point)},i=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$Ee(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Al.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[v];N&&(y=Cs(N)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&rn.postRender(()=>g(f,h)),kj(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=RTe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Zi(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kG(t,{onSessionStart:s,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:wG(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&rn.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Fv(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=TTe(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&zf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=PTe(n.layoutBox,t):this.constraints=!1,this.elastic=DTe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Zi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=LTe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!zf(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=BCe(n,a.root,this.visualElement.getTransformPagePoint());let i=OTe(a.layout.layoutBox,s);if(r){const l=r(ICe(i));this.hasMutatedConstraints=!!l,l&&(i=iG(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Zi(d=>{if(!Fv(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return kj(this.visualElement,t),n.start(CE(t,n,0,r,this.visualElement,!1))}stopAnimation(){Zi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zi(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Zi(r=>{const{drag:n}=this.getProps();if(!Fv(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[r];s.set(t[r]-ln(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!zf(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zi(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();a[i]=FTe({min:c,max:c},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zi(i=>{if(!Fv(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(ln(c,u,a[i]))})}addListeners(){if(!this.visualElement.current)return;ITe.set(this.visualElement,this);const t=this.visualElement.current,r=Ip(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();zf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),rn.read(n);const i=qg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=Sj,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:l}}}function Fv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function RTe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class BTe extends cd{constructor(t){super(t),this.removeGroupControls=oo,this.removeListeners=oo,this.controls=new MTe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oo}unmount(){this.removeGroupControls(),this.removeListeners()}}const KL=e=>(t,r)=>{e&&rn.postRender(()=>e(t,r))};class zTe extends cd{constructor(){super(...arguments),this.removePointerDownListener=oo}onPointerDown(t){this.session=new kG(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wG(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:KL(t),onStart:KL(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&rn.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=Ip(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(zt.test(e))e=parseFloat(e);else return e;const r=YL(e,t.target.x),n=YL(e,t.target.y);return`${r}% ${n}%`}},UTe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Xu.parse(e);if(a.length>5)return n;const s=Xu.createTransformer(e),i=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const u=ln(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=u),typeof a[3+i]=="number"&&(a[3+i]/=u),s(a)}};let yN=!1;class $Te extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;uCe(WTe),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),yN&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,yN=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||rn.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;yN=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SG(e){const[t,r]=qq(),n=k.useContext(X_);return o.jsx($Te,{...e,layoutGroup:n,switchLayoutGroup:k.useContext(aG),isPresent:t,safeToRemove:r})}const WTe={borderRadius:{...Jm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jm,borderTopRightRadius:Jm,borderBottomLeftRadius:Jm,borderBottomRightRadius:Jm,boxShadow:UTe};function HTe(e,t,r){const n=ds(e)?e:Ch(e);return n.start(CE("",n,t,r)),n.animation}const VTe=(e,t)=>e.depth-t.depth;class qTe{constructor(){this.children=[],this.isDirty=!1}add(t){Q_(this.children,t),this.isDirty=!0}remove(t){eE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VTe),this.isDirty=!1,this.children.forEach(t)}}function GTe(e,t){const r=Gs.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Yu(n),e(s-t))};return rn.setup(n,!0),()=>Yu(n)}const jG=["TopLeft","TopRight","BottomLeft","BottomRight"],KTe=jG.length,XL=e=>typeof e=="string"?parseFloat(e):e,ZL=e=>typeof e=="number"||zt.test(e);function YTe(e,t,r,n,a,s){a?(e.opacity=ln(0,r.opacity??1,XTe(n)),e.opacityExit=ln(t.opacity??1,0,ZTe(n))):s&&(e.opacity=ln(t.opacity??1,r.opacity??1,n));for(let i=0;i<KTe;i++){const l=`border${jG[i]}Radius`;let c=JL(t,l),u=JL(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ZL(c)===ZL(u)?(e[l]=Math.max(ln(XL(c),XL(u),n),0),(Al.test(u)||Al.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=ln(t.rotate||0,r.rotate||0,n))}function JL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const XTe=AG(0,.5,fq),ZTe=AG(.5,.95,oo);function AG(e,t,r){return n=>n<e?0:n>t?1:r(Ug(e,t,n))}function QL(e,t){e.min=t.min,e.max=t.max}function Vi(e,t){QL(e.x,t.x),QL(e.y,t.y)}function eD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tD(e,t,r,n,a){return e-=t,e=Gb(e,1/r,n),a!==void 0&&(e=Gb(e,1/a,n)),e}function JTe(e,t=0,r=1,n=.5,a,s=e,i=e){if(Al.test(t)&&(t=parseFloat(t),t=ln(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ln(s.min,s.max,n);e===s&&(l-=t),e.min=tD(e.min,t,r,l,a),e.max=tD(e.max,t,r,l,a)}function rD(e,t,[r,n,a],s,i){JTe(e,t[r],t[n],t[a],t.scale,s,i)}const QTe=["x","scaleX","originX"],ePe=["y","scaleY","originY"];function nD(e,t,r,n){rD(e.x,t,QTe,r?r.x:void 0,n?n.x:void 0),rD(e.y,t,ePe,r?r.y:void 0,n?n.y:void 0)}function aD(e){return e.translate===0&&e.scale===1}function _G(e){return aD(e.x)&&aD(e.y)}function sD(e,t){return e.min===t.min&&e.max===t.max}function tPe(e,t){return sD(e.x,t.x)&&sD(e.y,t.y)}function iD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function EG(e,t){return iD(e.x,t.x)&&iD(e.y,t.y)}function oD(e){return Cs(e.x)/Cs(e.y)}function lD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rPe{constructor(){this.members=[]}add(t){Q_(this.members,t),t.scheduleRender()}remove(t){if(eE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nPe(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const bN=["","X","Y","Z"],aPe=1e3;let sPe=0;function wN(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function CG(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=mG(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",rn,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&CG(n)}function TG({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=sPe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lPe),this.nodes.forEach(fPe),this.nodes.forEach(hPe),this.nodes.forEach(cPe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qTe)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new nE),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=Vq(i)&&!KEe(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;rn.read(()=>{f=window.innerWidth}),e(i,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=GTe(h,250),sy.hasAnimatedSinceResize&&(sy.hasAnimatedSinceResize=!1,this.nodes.forEach(dD)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||vPe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!EG(this.targetLayout,m),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...gE(p,"layout"),onPlay:g,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,y)}else f||dD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mPe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dPe),this.nodes.forEach(iPe),this.nodes.forEach(oPe)):this.nodes.forEach(uD),this.clearAllSnapshots();const l=Gs.now();Ba.delta=jc(0,1e3/60,l-Ba.timestamp),Ba.timestamp=l,Ba.isProcessing=!0,cN.update.process(Ba),cN.preRender.process(Ba),cN.render.process(Ba),Ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uPe),this.sharedNodes.forEach(pPe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cs(this.snapshot.measuredBox.x)&&!Cs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=On(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_G(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Ed(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),yPe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return On();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(bPe))){const{scroll:d}=this.root;d&&(Uf(l.x,d.offset.x),Uf(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=On();if(Vi(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Vi(l,i),Uf(l.x,f.offset.x),Uf(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=On();Vi(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$f(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ed(d.latestValues)&&$f(c,d.latestValues)}return Ed(this.latestValues)&&$f(c,this.latestValues),c}removeTransform(i){const l=On();Vi(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ed(u.latestValues))continue;vj(u.latestValues)&&u.updateSnapshot();const d=On(),f=u.measurePageBox();Vi(d,f),nD(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ed(this.latestValues)&&nD(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ba.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),Rp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=On(),this.targetWithTransforms=On()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ATe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vi(this.target,this.layout.layoutBox),lG(this.target,this.targetDelta)):Vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=On(),this.relativeTargetOrigin=On(),Rp(this.relativeTargetOrigin,this.target,m.target),Vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vj(this.parent.latestValues)||oG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ba.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Vi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;RCe(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=On());const{target:m}=i;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eD(this.prevProjectionDelta.x,this.projectionDelta.x),eD(this.prevProjectionDelta.y,this.projectionDelta.y)),Mp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!lD(this.projectionDelta.x,this.prevProjectionDelta.x)||!lD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wf(),this.projectionDelta=Wf(),this.projectionDeltaWithTransform=Wf()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=On(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,x=this.getStack(),v=!x||x.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(xPe));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const A=N/1e3;fD(f.x,i.x,A),fD(f.y,i.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gPe(this.relativeTarget,this.relativeTargetOrigin,h,A),b&&tPe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=On()),Vi(b,this.relativeTarget)),g&&(this.animationValues=d,YTe(d,u,this.latestValues,A,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Yu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{sy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ch(0)),this.currentAnimation=HTe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aPe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&PG(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||On();const f=Cs(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Cs(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Vi(l,c),$f(l,d),Mp(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new rPe),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&wN("z",i,u,this.animationValues);for(let d=0;d<bN.length;d++)wN(`rotate${bN[d]}`,i,u,this.animationValues),wN(`skew${bN[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=ay(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=ay(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ed(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=nPe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),i.transform=f;const{x:h,y:m}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Vg){if(d[p]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:v}=Vg[p],y=f==="none"?d[p]:g(d[p],u);if(x){const b=x.length;for(let N=0;N<b;N++)i[x[N]]=y}else v?this.options.visualElement.renderState.vars[p]=y:i[p]=y}this.options.layoutId&&(i.pointerEvents=u===this?ay(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(cD),this.root.sharedNodes.clear()}}}function iPe(e){e.updateLayout()}function oPe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Zi(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],m=Cs(h);h.min=n[f].min,h.max=h.min+m}):PG(s,t.layoutBox,n)&&Zi(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],m=Cs(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Wf();Mp(l,n,t.layoutBox);const c=Wf();i?Mp(c,e.applyTransform(a,!0),t.measuredBox):Mp(c,n,t.layoutBox);const u=!_G(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=On();Rp(p,t.layoutBox,h.layoutBox);const g=On();Rp(g,n,m.layoutBox),EG(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lPe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cPe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uPe(e){e.clearSnapshot()}function cD(e){e.clearMeasurements()}function uD(e){e.isLayoutDirty=!1}function dPe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fPe(e){e.resolveTargetDelta()}function hPe(e){e.calcProjection()}function mPe(e){e.resetSkewAndRotation()}function pPe(e){e.removeLeadSnapshot()}function fD(e,t,r){e.translate=ln(t.translate,0,r),e.scale=ln(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function hD(e,t,r,n){e.min=ln(t.min,r.min,n),e.max=ln(t.max,r.max,n)}function gPe(e,t,r,n){hD(e.x,t.x,r.x,n),hD(e.y,t.y,r.y,n)}function xPe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vPe={duration:.45,ease:[.4,0,.1,1]},mD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pD=mD("applewebkit/")&&!mD("chrome/")?Math.round:oo;function gD(e){e.min=pD(e.min),e.max=pD(e.max)}function yPe(e){gD(e.x),gD(e.y)}function PG(e,t,r){return e==="position"||e==="preserve-aspect"&&!jTe(oD(t),oD(r),.2)}function bPe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const wPe=TG({attachResizeListener:(e,t)=>qg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kN={current:void 0},OG=TG({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kN.current){const e=new wPe({});e.mount(window),e.setOptions({layoutScroll:!0}),kN.current=e}return kN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kPe={pan:{Feature:zTe},drag:{Feature:BTe,ProjectionNode:OG,MeasureLayout:SG}};function xD(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&rn.postRender(()=>s(t,Wx(t)))}class NPe extends cd{mount(){const{current:t}=this.node;t&&(this.unmount=WEe(t,(r,n)=>(xD(this.node,n,"Start"),a=>xD(this.node,a,"End"))))}unmount(){}}class SPe extends cd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zx(qg(this.node.current,"focus",()=>this.onFocus()),qg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vD(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&rn.postRender(()=>s(t,Wx(t)))}class jPe extends cd{mount(){const{current:t}=this.node;t&&(this.unmount=GEe(t,(r,n)=>(vD(this.node,n,"Start"),(a,{success:s})=>vD(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jj=new WeakMap,NN=new WeakMap,APe=e=>{const t=jj.get(e.target);t&&t(e)},_Pe=e=>{e.forEach(APe)};function EPe({root:e,...t}){const r=e||document;NN.has(r)||NN.set(r,{});const n=NN.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(_Pe,{root:e,...t})),n[a]}function CPe(e,t,r){const n=EPe(t);return jj.set(e,r),n.observe(e),()=>{jj.delete(e),n.unobserve(e)}}const TPe={some:0,all:1};class PPe extends cd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:TPe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return CPe(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(OPe(t,r))&&this.startObserver()}unmount(){}}function OPe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const FPe={inView:{Feature:PPe},tap:{Feature:jPe},focus:{Feature:SPe},hover:{Feature:NPe}},LPe={layout:{ProjectionNode:OG,MeasureLayout:SG}},DPe={...yTe,...FPe,...kPe,...LPe},IPe=DCe(DPe,KCe),MPe=({isOpen:e=!1,onClose:t})=>{const r=Cc(),{logout:n,user:a}=ma(),{settings:s}=O3(),l=[{icon:Xv,label:"Dashboard",path:"/",roles:["SUPER_ADMIN","BRANCH_MANAGER","BURSAR","TEACHER","SECRETARY"]},{icon:Ai,label:"My Children",path:"/my-children",roles:["PARENT"]},{icon:en,label:"Students",path:"/students",roles:["SUPER_ADMIN","BRANCH_MANAGER","BURSAR","TEACHER","SECRETARY"]},{icon:ea,label:"Academics",path:"/academics",roles:["SUPER_ADMIN","BRANCH_MANAGER","TEACHER"]},{icon:Do,label:"Finance",path:"/finance",roles:["SUPER_ADMIN","BRANCH_MANAGER","BURSAR"]},{icon:en,label:"Attendance",path:"/academics/attendance",roles:["SUPER_ADMIN","BRANCH_MANAGER","TEACHER","BURSAR","SECRETARY"]},{icon:ti,label:"Gradebook",path:"/academics/gradebook",roles:["SUPER_ADMIN","BRANCH_MANAGER","TEACHER","BURSAR","SECRETARY"]},{icon:pee,label:"Users",path:"/users",roles:["SUPER_ADMIN"]},{icon:A4,label:"Branches",path:"/branches",roles:["SUPER_ADMIN","BRANCH_MANAGER"]},{icon:Wo,label:"Communication",path:"/communication",roles:["SUPER_ADMIN","BRANCH_MANAGER","BURSAR","TEACHER","SECRETARY","PARENT"]},{icon:dee,label:"Settings",path:"/settings",roles:["SUPER_ADMIN"]},{icon:WQ,label:"Timetable",path:"/academics/timetable",roles:["PARENT","STUDENT"]},{icon:ea,label:"Assignments",path:"/student/assessments",roles:["PARENT","STUDENT"]},{icon:F3,label:"Academic Reports",path:"/academics/reports",roles:["PARENT","STUDENT"]}].filter(c=>a&&c.roles.includes(a.role));return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t}),o.jsxs("div",{className:`
        h-screen w-64 bg-slate-900 text-white flex flex-col fixed left-0 top-0 z-50 transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        md:translate-x-0
      `,children:[o.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-blue-400",style:{color:"var(--primary-color)"},children:s.schoolName}),o.jsx("p",{className:"text-xs text-slate-400",children:"School Management"})]}),o.jsx("button",{onClick:t,className:"md:hidden text-slate-400 hover:text-white",children:o.jsx(ra,{size:24})})]}),o.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:l.map(c=>{const u=r.pathname===c.path;return o.jsxs(xu,{to:c.path,onClick:t,className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${u?"bg-primary text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[o.jsx(c.icon,{size:20}),o.jsx("span",{className:"font-medium",children:c.label})]},c.label)})}),o.jsx("div",{className:"p-4 border-t border-slate-800",children:o.jsxs("button",{onClick:n,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-slate-800 rounded-lg transition-colors",children:[o.jsx(eee,{size:20}),o.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})]})},RPe="BB7DzC7jdgpf0PtthMK1CCHNPTuNa9Roecz5Ajx3hYLZ3rTRl8NtlxlkfJ5zDSTauJY7rnZemuYQLo4yevp5qns";function BPe(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length);for(let s=0;s<n.length;++s)a[s]=n.charCodeAt(s);return a}async function zPe(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push notifications not supported"),!1;try{const e=await navigator.serviceWorker.ready;if(await e.pushManager.getSubscription())return console.log("Already subscribed to push notifications"),!0;const r=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BPe(RPe)});return await Ae.post("/communication/push/subscribe",r),console.log("Subscribed to push notifications"),!0}catch(e){return console.error("Failed to subscribe to push notifications",e),!1}}const UPe=()=>{var y,b,N,A;const{user:e}=ma(),[t,r]=k.useState([]),[n,a]=k.useState(!1),[s,i]=k.useState(0),[l,c]=k.useState(!1),[u,d]=k.useState(""),f=k.useRef(null),h=k.useRef(null);k.useEffect(()=>{m();const S=setInterval(m,6e4);return()=>clearInterval(S)},[]),k.useEffect(()=>{const S=j=>{f.current&&!f.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),k.useEffect(()=>{l&&h.current&&h.current.focus()},[l]);const m=async()=>{try{const S=await Ae.get("/communication/notifications");r(S.data),i(S.data.filter(j=>!j.isRead).length)}catch(S){console.error("Failed to fetch notifications",S)}},p=async S=>{try{await Ae.patch(`/communication/notifications/${S}/read`),r(j=>j.map(E=>E.id===S?{...E,isRead:!0}:E)),i(j=>Math.max(0,j-1))}catch(j){console.error("Failed to mark notification as read",j)}},g=async()=>{try{await Ae.patch("/communication/notifications/read-all"),r(S=>S.map(j=>({...j,isRead:!0}))),i(0)}catch(S){console.error("Failed to mark all as read",S)}},x=async()=>{try{const S=await zPe();alert(S?"Push notifications enabled!":"Failed to enable push notifications. Please check your browser settings.")}catch(S){console.error("Error enabling push notifications:",S),alert("An error occurred while enabling push notifications.")}},v=()=>{const S=new Date().getHours();return S<12?"Good morning":S<17?"Good afternoon":"Good evening"};return o.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-slate-700/50 fixed top-0 right-0 left-0 md:left-64 z-40 transition-all duration-300",style:{paddingTop:"env(safe-area-inset-top)"},children:o.jsxs("div",{className:"h-16 px-4 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"md:hidden flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center text-white font-bold text-lg shadow-sm flex-shrink-0",children:"S"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 font-medium truncate",children:v()}),o.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:((y=e==null?void 0:e.fullName)==null?void 0:y.split(" ")[0])||"User"})]})]}),o.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 dark:bg-slate-800 rounded-xl px-4 py-2.5 w-full max-w-sm",children:[o.jsx(ei,{size:18,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),o.jsx("input",{type:"text",placeholder:"Search students, payments...",className:"bg-transparent border-none focus:outline-none ml-3 w-full text-sm text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx(_ee,{onResult:S=>console.log("Voice search:",S),size:18})]}),l&&o.jsxs("div",{className:"md:hidden absolute inset-x-0 top-0 h-full bg-white z-50 px-4 flex items-center gap-3 animate-fade-in",style:{paddingTop:"env(safe-area-inset-top)"},children:[o.jsxs("div",{className:"flex-1 flex items-center bg-gray-100 rounded-xl px-4 py-2.5",children:[o.jsx(ei,{size:18,className:"text-gray-400"}),o.jsx("input",{ref:h,type:"text",value:u,onChange:S=>d(S.target.value),placeholder:"Search...",className:"bg-transparent border-none focus:outline-none ml-3 w-full text-sm text-gray-700"})]}),o.jsx("button",{onClick:()=>{c(!1),d("")},className:"p-2 text-gray-500 hover:text-gray-700",children:o.jsx(ra,{size:20})})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>{NR(),c(!0)},className:"md:hidden p-2.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:o.jsx(ei,{size:20})}),o.jsx(Oee,{}),o.jsxs("button",{onClick:x,className:"hidden md:flex items-center gap-1.5 text-xs text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded-xl transition-colors",title:"Enable Push Notifications",children:[o.jsx($Q,{size:14}),o.jsx("span",{children:"Enable Push"})]}),o.jsxs("div",{className:"relative",ref:f,children:[o.jsxs("button",{onClick:()=>a(!n),className:"relative p-2.5 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",children:[o.jsx(dh,{size:20}),s>0&&o.jsx("span",{className:"absolute top-1.5 right-1.5 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1",children:s>9?"9+":s})]}),n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"md:hidden fixed inset-x-0 bottom-0 top-auto bg-white rounded-t-3xl shadow-2xl z-50 animate-slide-up max-h-[80vh] flex flex-col",children:[o.jsx("div",{className:"flex justify-center py-3",children:o.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),o.jsxs("div",{className:"px-5 pb-3 flex justify-between items-center border-b border-gray-100",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Notifications"}),o.jsxs("div",{className:"flex items-center gap-2",children:[s>0&&o.jsx("button",{onClick:g,className:"text-sm text-blue-600 font-medium",children:"Mark all read"}),o.jsx("button",{onClick:()=>a(!1),className:"p-2 text-gray-400 hover:text-gray-600",children:o.jsx(ra,{size:20})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:t.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(dh,{size:40,className:"mx-auto text-gray-300 mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):t.map(S=>o.jsx("div",{className:`px-5 py-4 border-b border-gray-50 active:bg-gray-50 ${S.isRead?"":"bg-blue-50/50"}`,children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`text-sm font-semibold ${S.isRead?"text-gray-600":"text-gray-900"}`,children:S.title}),o.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:S.message}),o.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:new Date(S.createdAt).toLocaleString()})]}),!S.isRead&&o.jsx("button",{onClick:()=>p(S.id),className:"p-2 text-gray-400 hover:text-blue-600 flex-shrink-0",children:o.jsx(Fy,{size:16})})]})},S.id))}),o.jsx("div",{style:{paddingBottom:"env(safe-area-inset-bottom)"}})]}),o.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:()=>a(!1)}),o.jsxs("div",{className:"hidden md:block absolute right-0 mt-2 w-80 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-50 animate-scale-in",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[o.jsx("h3",{className:"font-semibold text-gray-700",children:"Notifications"}),s>0&&o.jsx("button",{onClick:g,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No notifications"}):t.map(S=>o.jsxs("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${S.isRead?"":"bg-blue-50/50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h4",{className:`text-sm font-medium ${S.isRead?"text-gray-600":"text-gray-900"}`,children:S.title}),!S.isRead&&o.jsx("button",{onClick:()=>p(S.id),className:"text-gray-400 hover:text-blue-600",title:"Mark as read",children:o.jsx(Fy,{size:14})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S.message}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-2 block",children:new Date(S.createdAt).toLocaleString()})]},S.id))})]})]})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-3 pl-4 border-l border-gray-200 cursor-pointer hover:bg-gray-50 rounded-xl py-2 pr-3 -mr-3 transition-colors",onClick:()=>window.location.href="/profile",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.fullName)||"User"}),o.jsx("p",{className:"text-xs text-gray-500",children:((b=e==null?void 0:e.role)==null?void 0:b.replace("_"," "))||"Role"})]}),o.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold shadow-sm",children:e!=null&&e.profilePictureUrl?o.jsx("img",{src:e.profilePictureUrl.startsWith("http")?e.profilePictureUrl:`${e.profilePictureUrl}`,alt:e.fullName,className:"w-full h-full object-cover"}):((N=e==null?void 0:e.fullName)==null?void 0:N.charAt(0))||"U"})]}),o.jsx("button",{onClick:()=>window.location.href="/profile",className:"md:hidden w-9 h-9 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-sm",children:e!=null&&e.profilePictureUrl?o.jsx("img",{src:e.profilePictureUrl.startsWith("http")?e.profilePictureUrl:`${e.profilePictureUrl}`,alt:(e==null?void 0:e.fullName)||"User",className:"w-full h-full object-cover"}):((A=e==null?void 0:e.fullName)==null?void 0:A.charAt(0))||"U"})]})]})})},$Pe=({onMenuClick:e})=>{const t=Cc(),{user:r}=ma(),[n,a]=k.useState({notifications:0,messages:0});k.useEffect(()=>{const c=async()=>{var d;try{const[f]=await Promise.all([Ae.get("/communication/notifications/unread-count").catch(()=>({data:{count:0}}))]);a({notifications:((d=f.data)==null?void 0:d.count)||0,messages:0})}catch{}};c();const u=setInterval(c,6e4);return()=>clearInterval(u)},[]);const s=()=>{const c=r==null?void 0:r.role;return c==="PARENT"?[{icon:Xv,label:"Home",path:"/my-children",roles:["PARENT"]},{icon:Ai,label:"Reports",path:"/my-children",roles:["PARENT"]},{icon:Wo,label:"Chat",path:"/communication",roles:["PARENT"],badgeKey:"messages"},{icon:_i,label:"Profile",path:"/profile",roles:["PARENT"]}]:c==="TEACHER"?[{icon:Xv,label:"Home",path:"/",roles:["TEACHER"]},{icon:ea,label:"Classes",path:"/academics",roles:["TEACHER"]},{icon:Wo,label:"Chat",path:"/communication",roles:["TEACHER"],badgeKey:"messages"},{icon:_i,label:"Profile",path:"/profile",roles:["TEACHER"]}]:[{icon:Xv,label:"Home",path:"/",roles:["SUPER_ADMIN","BURSAR","SECRETARY"]},{icon:en,label:"Students",path:"/students",roles:["SUPER_ADMIN","BURSAR","SECRETARY"]},{icon:E4,label:"Finance",path:"/finance",roles:["SUPER_ADMIN","BURSAR"]},{icon:Wo,label:"Chat",path:"/communication",roles:["SUPER_ADMIN","BURSAR","SECRETARY"],badgeKey:"messages"}]},i=k.useMemo(()=>s().filter(c=>r&&c.roles.includes(r.role)),[r==null?void 0:r.role]),l=()=>{"vibrate"in navigator&&navigator.vibrate(5)};return o.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-gray-200/50 dark:border-slate-700/50 z-50",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:o.jsxs("div",{className:"flex justify-around items-stretch h-16",children:[i.map(c=>{const u=t.pathname===c.path,d=c.badgeKey?n[c.badgeKey]:0;return o.jsxs(xu,{to:c.path,onClick:l,className:`flex flex-col items-center justify-center flex-1 relative group min-h-[48px] transition-all duration-200 ${u?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 active:text-gray-700 dark:active:text-gray-300"}`,children:[u&&o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-blue-600 rounded-b-full animate-scale-in"}),o.jsxs("div",{className:"relative",children:[o.jsx(c.icon,{size:24,strokeWidth:u?2.5:2,className:`transition-transform duration-200 ${u?"scale-110":"group-active:scale-90"}`}),d>0&&o.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center px-1 animate-bounce-in",children:d>99?"99+":d})]}),o.jsx("span",{className:`text-[10px] mt-1 font-medium transition-all duration-200 ${u?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:c.label})]},c.label)}),o.jsxs("button",{onClick:()=>{l(),e()},className:"flex flex-col items-center justify-center flex-1 min-h-[48px] text-gray-500 dark:text-gray-400 active:text-gray-700 dark:active:text-gray-300 transition-all duration-200 group",children:[o.jsxs("div",{className:"relative",children:[o.jsx(tee,{size:24,strokeWidth:2,className:"transition-transform duration-200 group-active:scale-90"}),n.notifications>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),o.jsx("span",{className:"text-[10px] mt-1 font-medium text-gray-500 dark:text-gray-400",children:"More"})]})]})})},WPe=()=>{const[e,t]=k.useState(!1),r=Cc(),a=!["/communication","/profile","/settings"].includes(r.pathname);return o.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-slate-900",children:[o.jsx(MPe,{isOpen:e,onClose:()=>t(!1)}),o.jsx(UPe,{}),o.jsx("main",{className:"md:pl-64 min-h-screen transition-all duration-300",style:{paddingTop:"calc(4rem + env(safe-area-inset-top))",paddingBottom:"calc(4rem + env(safe-area-inset-bottom))"},children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(nCe,{mode:"wait",children:o.jsx(IPe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15,ease:"easeOut"},children:o.jsx(WM,{})},r.pathname)})})}),a&&o.jsx(jee,{}),o.jsx($Pe,{onMenuClick:()=>t(!0)})]})},HPe=()=>{const{isAuthenticated:e,isLoading:t}=ma();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?o.jsx(WM,{}):o.jsx(_3,{to:"/login"})},qn=({children:e,allowedRoles:t})=>{const{user:r,isLoading:n}=ma();return n?o.jsx("div",{children:"Loading..."}):!r||!t.includes(r.role)?o.jsx(_3,{to:r?"/":"/login",replace:!0}):o.jsx(o.Fragment,{children:e})},VPe=()=>{const{assessmentId:e}=h2(),t=po(),{user:r}=ma(),[n,a]=k.useState(null),[s,i]=k.useState(!0),[l,c]=k.useState(!1),[u,d]=k.useState({}),[f,h]=k.useState(!1),[m,p]=k.useState(null);k.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const y=await Ae.get(`/online-assessments/${e}/take`);a(y.data)}catch(y){console.error("Failed to load quiz",y),alert("Failed to load quiz. Please try again.")}finally{i(!1)}},x=(y,b)=>{d(N=>({...N,[y]:b}))},v=async()=>{if(!(!n||!r)&&window.confirm("Are you sure you want to submit your answers?")){c(!0);try{const y=Object.entries(u).map(([N,A])=>({questionId:N,answer:A})),b=await Ae.post(`/online-assessments/${e}/submit`,{studentId:r.id,responses:y});p(b.data.score),h(!0)}catch(y){console.error("Failed to submit quiz",y),alert("Failed to submit quiz. Please try again.")}finally{c(!1)}}};return s?o.jsx("div",{className:"p-8 text-center dark:text-gray-400",children:"Loading quiz..."}):n?f?o.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-8 pb-24 md:pb-8 text-center",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 md:p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(da,{size:32})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Quiz Submitted!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your answers have been recorded successfully."}),m!==null&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[o.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium uppercase tracking-wider",children:"Your Score"}),o.jsxs("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-400",children:[m," points"]})]}),o.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-gray-900 dark:bg-slate-600 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-slate-500 transition-colors",children:"Return to Dashboard"})]})}):o.jsx("div",{className:"max-w-3xl mx-auto p-4 md:p-6 pb-24 md:pb-6",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden mb-6",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 bg-blue-50 dark:bg-blue-900/20",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n.title}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(_l,{size:16}),n.durationMinutes?`${n.durationMinutes} mins`:"No time limit"]}),o.jsxs("span",{children:[n.questions.length," Questions"]})]})]}),o.jsx("div",{className:"p-6 space-y-8",children:n.questions.map((y,b)=>{var N,A;return o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:[b+1,"."]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-lg text-gray-900 dark:text-white font-medium mb-3",children:y.text}),y.type==="MULTIPLE_CHOICE"&&o.jsx("div",{className:"space-y-2",children:(N=y.options)==null?void 0:N.map(S=>o.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer transition-colors",children:[o.jsx("input",{type:"radio",name:y.id,value:S.id,checked:u[y.id]===S.id,onChange:j=>x(y.id,j.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:S.text})]},S.id))}),y.type==="TRUE_FALSE"&&o.jsx("div",{className:"flex gap-4",children:(A=y.options)==null?void 0:A.map(S=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:y.id,value:S.id,checked:u[y.id]===S.id,onChange:j=>x(y.id,j.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:S.text})]},S.id))}),(y.type==="SHORT_ANSWER"||y.type==="ESSAY")&&o.jsx("textarea",{value:u[y.id]||"",onChange:S=>x(y.id,S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",rows:3,placeholder:"Type your answer here..."})]})]})},y.id)})}),o.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700 flex justify-end",children:o.jsx("button",{onClick:v,disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50",children:l?"Submitting...":"Submit Quiz"})})]})}):o.jsx("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:"Quiz not found."})},qPe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(null),[i,l]=k.useState(!0),c=po(),{user:u}=ma(),d=(u==null?void 0:u.role)==="PARENT";k.useEffect(()=>{d?f():h()},[u]),k.useEffect(()=>{d&&a&&h(a)},[a]);const f=async()=>{try{const p=await Ae.get("/students/my-children");n(p.data),p.data.length>0?s(p.data[0].id):l(!1)}catch(p){console.error("Failed to fetch children",p),l(!1)}},h=async p=>{try{l(!0);const g=p?`/online-assessments/student/my-assessments?studentId=${p}`:"/online-assessments/student/my-assessments",x=await Ae.get(g);t(x.data)}catch(g){console.error("Failed to fetch assessments",g)}finally{l(!1)}},m=p=>{d||c(`/student/quiz/${p}`)};return i?o.jsx("div",{className:"p-6 dark:text-gray-400",children:"Loading..."}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:d?"Student Assignments":"My Assessments"})}),d&&r.length>0&&o.jsx("div",{className:"flex space-x-2 mb-8 overflow-x-auto pb-2",children:r.map(p=>o.jsxs("button",{onClick:()=>s(p.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${a===p.id?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-slate-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[o.jsx(_i,{size:16}),o.jsx("span",{children:p.firstName})]},p.id))}),e.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.type==="EXAM"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":p.type==="QUIZ"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}`,children:p.type}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(p.date).toLocaleDateString()})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 line-clamp-2",children:p.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:p.subject.name}),o.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-6",children:p.durationMinutes&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(_l,{size:16})," ",p.durationMinutes,"m"]})}),p.submission?o.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-slate-700 p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium text-sm",children:[o.jsx(da,{size:16}),"Submitted"]}),p.submission.score!==null&&o.jsxs("span",{className:"font-bold text-gray-900 dark:text-white text-sm",children:[p.submission.score," pts"]})]}):p.isOnline?o.jsxs("button",{onClick:()=>m(p.id),disabled:d,className:`w-full flex items-center justify-center gap-2 py-2 rounded-lg transition-colors font-medium ${d?"bg-gray-100 dark:bg-slate-700 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[o.jsx(lee,{size:18}),d?"Online Quiz":"Take Quiz"]}):o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2 bg-gray-50 dark:bg-slate-700 rounded-lg",children:"In-class assessment"})]},p.id))}):o.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600",children:[o.jsx(Os,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No assessments found"}),d&&o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select a student to view their tasks"})]})]})};let GPe={data:""},KPe=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||GPe},YPe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XPe=/\/\*[^]*?\*\/|  +/g,yD=/\n+/g,hu=(e,t)=>{let r="",n="",a="";for(let s in e){let i=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?hu(i,s):s+"{"+hu(i,s[1]=="k"?"":t)+"}":typeof i=="object"?n+=hu(i,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=hu.p?hu.p(s,i):s+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Kl={},FG=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+FG(e[r]);return t}return e},ZPe=(e,t,r,n,a)=>{let s=FG(e),i=Kl[s]||(Kl[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Kl[i]){let c=s!==e?e:(u=>{let d,f,h=[{}];for(;d=YPe.exec(u.replace(XPe,""));)d[4]?h.shift():d[3]?(f=d[3].replace(yD," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(yD," ").trim();return h[0]})(e);Kl[i]=hu(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Kl.g?Kl.g:null;return r&&(Kl.g=Kl[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Kl[i],t,n,l),i},JPe=(e,t,r)=>e.reduce((n,a,s)=>{let i=t[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":hu(l,""):l===!1?"":l}return n+a+(i??"")},"");function qw(e){let t=this||{},r=e.call?e(t.p):e;return ZPe(r.unshift?r.raw?JPe(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,KPe(t.target),t.g,t.o,t.k)}let LG,Aj,_j;qw.bind({g:1});let _c=qw.bind({k:1});function QPe(e,t,r,n){hu.p=t,LG=e,Aj=r,_j=n}function ud(e,t){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:Aj&&Aj()},l),r.o=/ *go\d+/.test(c),l.className=qw.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),_j&&u[0]&&_j(l),LG(u,l)}return a}}var e8e=e=>typeof e=="function",Kb=(e,t)=>e8e(e)?e(t):e,t8e=(()=>{let e=0;return()=>(++e).toString()})(),DG=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),r8e=20,TE="default",IG=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return IG(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},iy=[],MG={toasts:[],pausedAt:void 0,settings:{toastLimit:r8e}},bl={},RG=(e,t=TE)=>{bl[t]=IG(bl[t]||MG,e),iy.forEach(([r,n])=>{r===t&&n(bl[t])})},BG=e=>Object.keys(bl).forEach(t=>RG(e,t)),n8e=e=>Object.keys(bl).find(t=>bl[t].toasts.some(r=>r.id===e)),Gw=(e=TE)=>t=>{RG(t,e)},a8e={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},s8e=(e={},t=TE)=>{let[r,n]=k.useState(bl[t]||MG),a=k.useRef(bl[t]);k.useEffect(()=>(a.current!==bl[t]&&n(bl[t]),iy.push([t,n]),()=>{let i=iy.findIndex(([l])=>l===t);i>-1&&iy.splice(i,1)}),[t]);let s=r.toasts.map(i=>{var l,c,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||a8e[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:s}},i8e=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||t8e()}),Hx=e=>(t,r)=>{let n=i8e(t,e,r);return Gw(n.toasterId||n8e(n.id))({type:2,toast:n}),n.id},xr=(e,t)=>Hx("blank")(e,t);xr.error=Hx("error");xr.success=Hx("success");xr.loading=Hx("loading");xr.custom=Hx("custom");xr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Gw(t)(r):BG(r)};xr.dismissAll=e=>xr.dismiss(void 0,e);xr.remove=(e,t)=>{let r={type:4,toastId:e};t?Gw(t)(r):BG(r)};xr.removeAll=e=>xr.remove(void 0,e);xr.promise=(e,t,r)=>{let n=xr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?Kb(t.success,a):void 0;return s?xr.success(s,{id:n,...r,...r==null?void 0:r.success}):xr.dismiss(n),a}).catch(a=>{let s=t.error?Kb(t.error,a):void 0;s?xr.error(s,{id:n,...r,...r==null?void 0:r.error}):xr.dismiss(n)}),e};var o8e=1e3,l8e=(e,t="default")=>{let{toasts:r,pausedAt:n}=s8e(e,t),a=k.useRef(new Map).current,s=k.useCallback((f,h=o8e)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),i({type:4,toastId:f})},h);a.set(f,m)},[]);k.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&xr.dismiss(m.id);return}return setTimeout(()=>xr.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let i=k.useCallback(Gw(t),[t]),l=k.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=k.useCallback((f,h)=>{i({type:1,toast:{id:f,height:h}})},[i]),u=k.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=k.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=h||{},x=r.filter(b=>(b.position||g)===(f.position||g)&&b.height),v=x.findIndex(b=>b.id===f.id),y=x.filter((b,N)=>N<v&&b.visible).length;return x.filter(b=>b.visible).slice(...m?[y+1]:[0,y]).reduce((b,N)=>b+(N.height||0)+p,0)},[r]);return k.useEffect(()=>{r.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},c8e=_c`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,u8e=_c`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,d8e=_c`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,f8e=ud("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${c8e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${u8e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${d8e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,h8e=_c`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,m8e=ud("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${h8e} 1s linear infinite;
`,p8e=_c`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,g8e=_c`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,x8e=ud("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${p8e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${g8e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,v8e=ud("div")`
  position: absolute;
`,y8e=ud("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,b8e=_c`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w8e=ud("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${b8e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,k8e=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(w8e,null,t):t:r==="blank"?null:k.createElement(y8e,null,k.createElement(m8e,{...n}),r!=="loading"&&k.createElement(v8e,null,r==="error"?k.createElement(f8e,{...n}):k.createElement(x8e,{...n})))},N8e=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,S8e=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,j8e="0%{opacity:0;} 100%{opacity:1;}",A8e="0%{opacity:1;} 100%{opacity:0;}",_8e=ud("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,E8e=ud("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C8e=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=DG()?[j8e,A8e]:[N8e(r),S8e(r)];return{animation:t?`${_c(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_c(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},T8e=k.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?C8e(e.position||t||"top-center",e.visible):{opacity:0},s=k.createElement(k8e,{toast:e}),i=k.createElement(E8e,{...e.ariaProps},Kb(e.message,e));return k.createElement(_8e,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:s,message:i}):k.createElement(k.Fragment,null,s,i))});QPe(k.createElement);var P8e=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=k.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:s,className:t,style:r},a)},O8e=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DG()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},F8e=qw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lv=16,L8e=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:s,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=l8e(r,s);return k.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Lv,left:Lv,right:Lv,bottom:Lv,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),m=O8e(f,h);return k.createElement(P8e,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?F8e:"",style:m},d.type==="custom"?Kb(d.message,d):a?a(d):k.createElement(T8e,{toast:d,position:f}))}))};const D8e=({classId:e,className:t,onBack:r})=>{const[n,a]=k.useState(!0),[s,i]=k.useState(new Date().getMonth()),[l,c]=k.useState(new Date().getFullYear()),[u,d]=k.useState([]),[f,h]=k.useState([]),m=["January","February","March","April","May","June","July","August","September","October","November","December"];k.useEffect(()=>{p()},[e,s,l]);const p=async()=>{a(!0);try{const S=new Date(l,s,1),j=new Date(l,s+1,0),E=await Ae.get("/attendance/analytics",{params:{classId:e,startDate:S.toISOString().split("T")[0],endDate:j.toISOString().split("T")[0]}});d(E.data.dailyData||[]),h(E.data.studentSummaries||[])}catch(S){console.error("Failed to fetch analytics",S),g()}finally{a(!1)}},g=()=>{const S=new Date(l,s+1,0).getDate(),j=[];for(let E=1;E<=S;E++){const C=new Date(l,s,E).getDay();C!==0&&C!==6&&j.push({date:`${l}-${String(s+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`,present:Math.floor(Math.random()*10)+20,absent:Math.floor(Math.random()*5),late:Math.floor(Math.random()*3),total:30})}d(j)},x=k.useMemo(()=>{if(u.length===0)return{avgRate:0,totalDays:0,totalAbsent:0};const S=u.reduce((C,I)=>C+I.present,0),j=u.reduce((C,I)=>C+I.total,0),E=u.reduce((C,I)=>C+I.absent,0);return{avgRate:j>0?S/j*100:0,totalDays:u.length,totalAbsent:E}},[u]),v=k.useMemo(()=>f.filter(S=>S.absentDays>=3),[f]),y=()=>{const S=[[`Attendance Report: ${t} - ${m[s]} ${l}`],[],["Date","Present","Absent","Late","Rate %"]];u.forEach(C=>{const I=C.total>0?(C.present/C.total*100).toFixed(1):"0";S.push([C.date,C.present,C.absent,C.late,I])}),S.push([]),S.push(["Student Summary"]),S.push(["Name","Admission No","Present","Absent","Late","Rate %"]),f.forEach(C=>{S.push([C.studentName,C.admissionNumber,C.presentDays,C.absentDays,C.lateDays,C.attendanceRate.toFixed(1)])});const j=Nn.book_new(),E=Nn.aoa_to_sheet(S);Nn.book_append_sheet(j,E,"Attendance"),I0(j,`Attendance_${t}_${m[s]}_${l}.xlsx`)},b=S=>{let j=s+S,E=l;j<0&&(j=11,E--),j>11&&(j=0,E++),i(j),c(E)},N=k.useMemo(()=>{const S=new Date(l,s,1).getDay(),j=new Date(l,s+1,0).getDate(),E=[];for(let C=0;C<S;C++)E.push(null);for(let C=1;C<=j;C++){const I=`${l}-${String(s+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`,T=u.find(P=>P.date===I);E.push(T||null)}return E},[u,s,l]),A=S=>{if(!S)return"bg-gray-100 dark:bg-slate-700";const j=S.total>0?S.present/S.total:0;return j>=.95?"bg-green-500":j>=.85?"bg-green-300":j>=.7?"bg-yellow-300":j>=.5?"bg-orange-400":"bg-red-500"};return n?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("button",{onClick:r,className:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white flex items-center mb-2 text-sm",children:[o.jsx(Vd,{size:16,className:"mr-1"})," Back to Register"]}),o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(L3,{className:"text-purple-600"}),"Attendance Analytics"]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-1 shadow-sm",children:[o.jsx("button",{onClick:()=>b(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",children:o.jsx(vR,{size:18,className:"text-gray-600 dark:text-gray-400"})}),o.jsxs("span",{className:"font-medium text-gray-800 dark:text-white min-w-[140px] text-center",children:[m[s]," ",l]}),o.jsx("button",{onClick:()=>b(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",children:o.jsx(vp,{size:18,className:"text-gray-600 dark:text-gray-400"})})]}),o.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow-sm",children:[o.jsx(Qs,{size:18}),"Export"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Average Rate"}),o.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[x.avgRate.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:o.jsx(ti,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"School Days"}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.totalDays})]}),o.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:o.jsx(Va,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total Absences"}),o.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:x.totalAbsent})]}),o.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:o.jsx(en,{className:"text-red-600 dark:text-red-400",size:24})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"At-Risk Students"}),o.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:v.length})]}),o.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:o.jsx(RT,{className:"text-orange-600 dark:text-orange-400",size:24})})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Monthly Attendance Heatmap"}),o.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>o.jsx("div",{className:"text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-2",children:S},S)),N.map((S,j)=>o.jsx("div",{className:`aspect-square rounded-lg flex items-center justify-center text-xs font-medium ${A(S)} ${S?"text-white":"text-gray-400 dark:text-gray-600"}`,title:S?`${S.date}: ${S.present}/${S.total} present`:"",children:S?new Date(S.date).getDate():""},j))]}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 text-xs text-gray-600 dark:text-gray-400",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-4 h-4 bg-green-500 rounded"})," 95%+"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-4 h-4 bg-green-300 rounded"})," 85-94%"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-4 h-4 bg-yellow-300 rounded"})," 70-84%"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-4 h-4 bg-orange-400 rounded"})," 50-69%"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-4 h-4 bg-red-500 rounded"})," <50%"]})]})]}),v.length>0&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-orange-200 dark:border-orange-900/50 shadow-sm",children:[o.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(RT,{className:"text-orange-500",size:20}),"Chronic Absenteeism Alert (3+ absences)"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.map(S=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:S.studentName}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.admissionNumber})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:S.absentDays}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"absences"})]})]},S.studentId))})]})]})},I8e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(""),[a,s]=k.useState(""),[i,l]=k.useState(new Date().toISOString().split("T")[0]),[c,u]=k.useState([]),[d,f]=k.useState({}),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(""),[y,b]=k.useState("daily"),[N,A]=k.useState([]),[S,j]=k.useState({}),[E,C]=k.useState(!1),[I,T]=k.useState(null),[P,H]=k.useState("");k.useEffect(()=>{q()},[]),k.useEffect(()=>{r&&i&&y==="daily"&&R()},[r,i,y]),k.useEffect(()=>{r&&y==="weekly"&&(ae(),z())},[r,i,y]);const q=async()=>{try{const V=await Ae.get("/classes");t(V.data),V.data.length>0&&(n(V.data[0].id),s(V.data[0].name))}catch(V){console.error("Error fetching classes:",V)}},ae=()=>{const V=new Date(i),ee=V.getDay(),K=new Date(V);K.setDate(V.getDate()-(ee===0?6:ee-1));const ce=[];for(let xe=0;xe<5;xe++){const G=new Date(K);G.setDate(K.getDate()+xe),ce.push(G.toISOString().split("T")[0])}A(ce)},R=async()=>{m(!0);try{const ee=(await Ae.get(`/classes/${r}`)).data.students||[];ee.sort((G,Ce)=>G.lastName.localeCompare(Ce.lastName)),u(ee);const ce=(await Ae.get(`/attendance?classId=${r}&date=${i}`)).data,xe={};ee.forEach(G=>{const Ce=ce.find(Ve=>Ve.studentId===G.id);xe[G.id]={studentId:G.id,status:Ce?Ce.status:"PRESENT",reason:(Ce==null?void 0:Ce.reason)||"",arrivalTime:(Ce==null?void 0:Ce.arrivalTime)||""}}),f(xe)}catch(V){console.error("Error fetching data:",V),xr.error("Failed to load class list")}finally{m(!1)}},z=async()=>{m(!0);try{const ee=(await Ae.get(`/classes/${r}`)).data.students||[];ee.sort((ce,xe)=>ce.lastName.localeCompare(xe.lastName)),u(ee);const K={};for(const ce of N)(await Ae.get(`/attendance?classId=${r}&date=${ce}`)).data.forEach(G=>{K[G.studentId]||(K[G.studentId]={}),K[G.studentId][ce]=G.status});j(K)}catch(V){console.error("Error fetching weekly data:",V)}finally{m(!1)}},Y=(V,ee)=>{var K;if(f(ce=>({...ce,[V]:{...ce[V],status:ee}})),ee==="ABSENT"){const ce=c.find(xe=>xe.id===V);ce&&(T(ce),H(((K=d[V])==null?void 0:K.reason)||""),C(!0))}},U=()=>{I&&f(V=>({...V,[I.id]:{...V[I.id],reason:P}})),C(!1),T(null),H("")},Q=async()=>{g(!0);try{const V=Object.entries(d).map(([ee,K])=>({studentId:ee,status:K.status}));await Ae.post("/attendance",{classId:r,date:new Date(i).toISOString(),records:V}),xr.success("Attendance saved successfully")}catch(V){console.error("Save error:",V),xr.error("Failed to save attendance")}finally{g(!1)}},pe=V=>{const ee={...d};F.forEach(K=>{ee[K.id]={...ee[K.id],status:V}}),f(ee)},F=k.useMemo(()=>{if(!x)return c;const V=x.toLowerCase();return c.filter(ee=>ee.firstName.toLowerCase().includes(V)||ee.lastName.toLowerCase().includes(V)||ee.admissionNumber.toLowerCase().includes(V))},[c,x]),M=k.useMemo(()=>{const V=c.length,ee=Object.values(d).filter(xe=>xe.status==="PRESENT").length,K=Object.values(d).filter(xe=>xe.status==="ABSENT").length,ce=Object.values(d).filter(xe=>xe.status==="LATE").length;return{total:V,present:ee,absent:K,late:ce}},[d,c]),B=()=>{const V=[[`Daily Attendance: ${a} - ${i}`],[],["#","Admission No","Student Name","Status","Reason"]];F.forEach((ce,xe)=>{const G=d[ce.id];V.push([xe+1,ce.admissionNumber,`${ce.firstName} ${ce.lastName}`,(G==null?void 0:G.status)||"-",(G==null?void 0:G.reason)||""])}),V.push([]),V.push(["Summary"]),V.push(["Present",M.present]),V.push(["Absent",M.absent]),V.push(["Late",M.late]);const ee=Nn.book_new(),K=Nn.aoa_to_sheet(V);Nn.book_append_sheet(ee,K,"Attendance"),I0(ee,`Attendance_${a}_${i}.xlsx`)},D=()=>{window.print()},X=V=>{const ee=new Date(i);ee.setDate(ee.getDate()+V),l(ee.toISOString().split("T")[0])};return y==="analytics"?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsx(D8e,{classId:r,className:a,onBack:()=>b("daily")})}):o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-7xl mx-auto print:p-0 printable-content",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(kR,{className:"text-blue-600"}),"Class Attendance"]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Daily register and attendance tracking"})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-3",children:o.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>b("daily"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${y==="daily"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Daily"}),o.jsx("button",{onClick:()=>b("weekly"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${y==="weekly"?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Weekly"}),o.jsxs("button",{onClick:()=>b("analytics"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors flex items-center gap-1 ${y==="analytics"?"bg-white dark:bg-slate-600 shadow-sm text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[o.jsx(L3,{size:14}),"Analytics"]})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm mb-6 flex flex-wrap items-center gap-4",children:[o.jsx("select",{value:r,onChange:V=>{var ee;n(V.target.value),s(((ee=e.find(K=>K.id===V.target.value))==null?void 0:ee.name)||"")},className:"px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50 dark:bg-slate-700 dark:text-white",children:e.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))}),o.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>X(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-600 rounded transition-colors dark:text-gray-300",children:o.jsx(vR,{size:16})}),o.jsxs("div",{className:"relative",children:[o.jsx(Va,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500"}),o.jsx("input",{type:"date",value:i,onChange:V=>l(V.target.value),className:"pl-9 pr-3 py-2 bg-transparent focus:outline-none w-36 dark:text-white"})]}),o.jsx("button",{onClick:()=>X(1),className:"p-2 hover:bg-white dark:hover:bg-slate-600 rounded transition-colors dark:text-gray-300",children:o.jsx(vp,{size:16})})]}),o.jsxs("div",{className:"relative flex-1 max-w-xs",children:[o.jsx(ei,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500"}),o.jsx("input",{type:"text",placeholder:"Search student...",value:x,onChange:V=>v(V.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white dark:placeholder-gray-400"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto",children:[o.jsx("button",{onClick:B,className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Export to Excel",children:o.jsx(Qs,{size:18})}),o.jsx("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors print:hidden",title:"Print",children:o.jsx(nx,{size:18})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 print:hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:M.total})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-green-500",children:[o.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium mb-1",children:"Present"}),o.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:M.present})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-red-500",children:[o.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium mb-1",children:"Absent"}),o.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:M.absent})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm border-l-4 border-l-orange-500",children:[o.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400 font-medium mb-1",children:"Late"}),o.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:M.late})]})]}),y==="daily"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center bg-gray-50 dark:bg-slate-700/50 print:bg-white",children:[o.jsx("h2",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Student Register"}),o.jsxs("div",{className:"flex gap-2 print:hidden",children:[o.jsx("button",{onClick:()=>pe("PRESENT"),className:"text-xs font-medium text-green-700 bg-green-50 px-3 py-1.5 rounded-lg hover:bg-green-100 transition-colors",children:"Mark All Present"}),o.jsx("button",{onClick:()=>pe("ABSENT"),className:"text-xs font-medium text-red-700 bg-red-50 px-3 py-1.5 rounded-lg hover:bg-red-100 transition-colors",children:"Mark All Absent"})]})]}),h?o.jsxs("div",{className:"p-12 text-center text-gray-500",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),"Loading register..."]}):F.length===0?o.jsx("div",{className:"p-12 text-center text-gray-500",children:x?"No students match your search.":"No students found in this class."}):o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider w-16",children:"#"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-center print:hidden",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden print:table-cell",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider print:hidden",children:"Reason"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:F.map((V,ee)=>{var K,ce,xe,G,Ce,Ve,Se,ue;return o.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:ee+1}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-sm",children:[V.firstName[0],V.lastName[0]]}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[V.firstName," ",V.lastName]}),o.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:V.admissionNumber})]})]})}),o.jsx("td",{className:"px-6 py-4 print:hidden",children:o.jsx("div",{className:"flex items-center justify-center gap-2",children:["PRESENT","ABSENT","LATE"].map(Me=>{var Je;const rt=((Je=d[V.id])==null?void 0:Je.status)===Me,We={PRESENT:{active:"bg-green-100 text-green-700 ring-2 ring-green-500",inactive:"bg-gray-50 text-gray-600 hover:bg-gray-100"},ABSENT:{active:"bg-red-100 text-red-700 ring-2 ring-red-500",inactive:"bg-gray-50 text-gray-600 hover:bg-gray-100"},LATE:{active:"bg-orange-100 text-orange-700 ring-2 ring-orange-500",inactive:"bg-gray-50 text-gray-600 hover:bg-gray-100"}},Ue={PRESENT:da,ABSENT:fh,LATE:_l}[Me];return o.jsxs("button",{onClick:()=>Y(V.id,Me),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ring-offset-1 ${rt?We[Me].active:We[Me].inactive}`,children:[o.jsx(Ue,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:Me.charAt(0)+Me.slice(1).toLowerCase()})]},Me)})})}),o.jsx("td",{className:"px-6 py-4 hidden print:table-cell text-center",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${((K=d[V.id])==null?void 0:K.status)==="PRESENT"?"bg-green-100 text-green-700":((ce=d[V.id])==null?void 0:ce.status)==="ABSENT"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:((xe=d[V.id])==null?void 0:xe.status)||"-"})}),o.jsxs("td",{className:"px-6 py-4 print:hidden",children:[((G=d[V.id])==null?void 0:G.status)==="ABSENT"&&o.jsxs("button",{onClick:()=>{var Me;T(V),H(((Me=d[V.id])==null?void 0:Me.reason)||""),C(!0)},className:"flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600",children:[o.jsx(Wo,{size:14}),(Ce=d[V.id])!=null&&Ce.reason?"Edit Reason":"Add Reason"]}),((Ve=d[V.id])==null?void 0:Ve.reason)&&o.jsx("div",{className:"text-xs text-gray-400 mt-1 truncate max-w-[150px]",title:(Se=d[V.id])==null?void 0:Se.reason,children:(ue=d[V.id])==null?void 0:ue.reason})]})]},V.id)})})]})]}),y==="weekly"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[o.jsx("h2",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Weekly View"}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Week of ",N[0]?new Date(N[0]).toLocaleDateString(void 0,{month:"short",day:"numeric"}):""," -",N[4]?new Date(N[4]).toLocaleDateString(void 0,{month:"short",day:"numeric"}):""]})]}),h?o.jsxs("div",{className:"p-12 text-center text-gray-500",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),"Loading..."]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase sticky left-0 bg-gray-50 dark:bg-slate-700 z-10",children:"Student"}),N.map(V=>o.jsxs("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase text-center min-w-[80px]",children:[new Date(V).toLocaleDateString(void 0,{weekday:"short"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] font-normal",children:new Date(V).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]},V))]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:F.map(V=>o.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50",children:[o.jsxs("td",{className:"px-4 py-3 sticky left-0 bg-white dark:bg-slate-800 z-10",children:[o.jsxs("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[V.firstName," ",V.lastName]}),o.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:V.admissionNumber})]}),N.map(ee=>{var ce;const K=(ce=S[V.id])==null?void 0:ce[ee];return o.jsx("td",{className:"px-4 py-3 text-center",children:K?o.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${K==="PRESENT"?"bg-green-100 text-green-700":K==="ABSENT"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:K==="PRESENT"?"P":K==="ABSENT"?"A":"L"}):o.jsx("span",{className:"text-gray-300",children:"-"})},ee)})]},V.id))})]})})]}),y==="daily"&&o.jsx("div",{className:"fixed bottom-6 right-6 z-10 print:hidden",children:o.jsxs("button",{onClick:Q,disabled:p||h||c.length===0,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[o.jsx(td,{size:20}),p?"Saving...":"Save Attendance"]})}),E&&I&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 print:hidden",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Absence Reason"}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[I.firstName," ",I.lastName]}),o.jsx("textarea",{value:P,onChange:V=>H(V.target.value),placeholder:"e.g., Sick, Family emergency, Doctor's appointment...",className:"w-full p-3 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none bg-white dark:bg-slate-700 dark:text-white dark:placeholder-gray-400",rows:3}),o.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[o.jsx("button",{onClick:()=>{C(!1),T(null)},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Reason"})]})]})})]})},M8e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[i,l]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(null),[p,g]=k.useState(!1),[x,v]=k.useState(!1),[y,b]=k.useState({});k.useEffect(()=>{N()},[]),k.useEffect(()=>{i&&c&&d&&A()},[i,c,d]);const N=async()=>{try{const[C,I,T]=await Promise.all([Ae.get("/classes"),Ae.get("/subjects"),Ae.get("/academic-terms")]);t(C.data),n(I.data),s(T.data);const P=T.data.find(H=>H.isActive);P&&f(P.id),C.data.length>0&&l(C.data[0].id),I.data.length>0&&u(I.data[0].id)}catch(C){console.error("Initial data fetch error:",C),xr.error("Failed to load filters")}},A=async()=>{g(!0);try{const C=await Ae.get("/assessments/gradebook",{params:{classId:i,subjectId:c,termId:d}});m(C.data),b({})}catch(C){console.error("Gradebook fetch error:",C),xr.error("Failed to load gradebook")}finally{g(!1)}},S=(C,I)=>{const T=`${I}_${C}`;if(T in y)return y[T];const P=h==null?void 0:h.results.find(H=>H.studentId===C&&H.assessmentId===I);return P?Number(P.score):""},j=(C,I,T)=>{const P=T===""?0:parseFloat(T),H=h==null?void 0:h.assessments.find(q=>q.id===I);if(H&&P>H.totalMarks){xr.error(`Max marks for this assessment is ${H.totalMarks}`);return}b(q=>({...q,[`${I}_${C}`]:P}))},E=async()=>{if(Object.keys(y).length!==0){v(!0);try{const C={};Object.entries(y).forEach(([T,P])=>{const[H,q]=T.split("_");C[H]||(C[H]=[]),C[H].push({studentId:q,score:P})});const I=Object.entries(C).map(([T,P])=>Ae.post("/assessments/results",{assessmentId:T,results:P}));await Promise.all(I),xr.success("Grades saved successfully"),A()}catch(C){console.error("Save error:",C),xr.error("Failed to save grades")}finally{v(!1)}}};return o.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 max-w-[1600px] mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[o.jsx(ti,{className:"text-blue-600"}),"Teacher Gradebook"]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage assessment scores for your classes"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-white dark:bg-slate-800 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 px-2",children:[o.jsx(I3,{size:16}),o.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),o.jsx("select",{value:d,onChange:C=>f(C.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:a.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))}),o.jsx("select",{value:i,onChange:C=>l(C.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:e.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))}),o.jsx("select",{value:c,onChange:C=>u(C.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-slate-600 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 dark:text-white",children:r.map(C=>o.jsxs("option",{value:C.id,children:[C.name," (",C.code,")"]},C.id))})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col min-h-[500px]",children:p?o.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Loading gradebook..."}):!h||h.students.length===0?o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[o.jsx(gc,{size:48,className:"text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("p",{children:"No students or data found for this selection."})]}):o.jsx("div",{className:"overflow-x-auto flex-1",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 z-10 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"sticky left-0 bg-gray-50 dark:bg-slate-700 px-4 py-3 border-b border-gray-200 dark:border-slate-600 font-semibold text-xs text-gray-500 dark:text-gray-300 uppercase tracking-wider w-12 z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"#"}),o.jsx("th",{className:"sticky left-12 bg-gray-50 dark:bg-slate-700 px-4 py-3 border-b border-gray-200 dark:border-slate-600 font-semibold text-xs text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[200px] z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Student"}),h.assessments.map(C=>o.jsxs("th",{className:"px-4 py-3 border-b border-gray-200 dark:border-slate-600 min-w-[120px] text-center",children:[o.jsx("div",{className:"text-xs font-bold text-gray-800 dark:text-white",children:C.title}),o.jsxs("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-normal",children:["Max: ",C.totalMarks,"  ",C.weight,"%"]})]},C.id)),o.jsx("th",{className:"px-4 py-3 border-b border-gray-200 dark:border-slate-600 text-center font-semibold text-xs text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[100px] bg-blue-50/50 dark:bg-blue-900/30",children:"Average"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:h.students.map((C,I)=>{let T=0;return h.assessments.forEach(P=>{const H=S(C.id,P.id);H!==""&&H!==0&&(T+=Number(H)/P.totalMarks*100*(P.weight/100))}),o.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-slate-700/50 transition-colors group",children:[o.jsx("td",{className:"sticky left-0 bg-white dark:bg-slate-800 group-hover:bg-gray-50 dark:group-hover:bg-slate-700 px-4 py-3 text-sm text-gray-500 dark:text-gray-400 border-r border-gray-100 dark:border-slate-700 z-10",children:I+1}),o.jsxs("td",{className:"sticky left-12 bg-white dark:bg-slate-800 group-hover:bg-gray-50 dark:group-hover:bg-slate-700 px-4 py-3 border-r border-gray-100 dark:border-slate-700 z-10",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[C.firstName," ",C.lastName]}),o.jsx("div",{className:"text-xs text-gray-400",children:C.admissionNumber})]}),h.assessments.map(P=>o.jsx("td",{className:"p-0 border-r border-gray-100 dark:border-slate-700 relative",children:o.jsx("input",{type:"number",min:"0",max:P.totalMarks,value:S(C.id,P.id),onChange:H=>j(C.id,P.id,H.target.value),className:`w-full h-full min-h-[48px] px-2 text-center text-sm outline-none focus:bg-blue-50 dark:focus:bg-blue-900/30 focus:ring-2 focus:ring-blue-500 inset-0 transition-all dark:text-white ${`${P.id}_${C.id}`in y?"bg-amber-50 dark:bg-amber-900/30 text-amber-900 dark:text-amber-300 font-semibold":"bg-transparent"}`,placeholder:"-"})},P.id)),o.jsx("td",{className:"px-4 py-3 text-center text-sm font-bold text-gray-700 dark:text-gray-300 bg-blue-50/30 dark:bg-blue-900/20",children:"-"})]},C.id)})})]})})}),o.jsx("div",{className:"fixed bottom-6 right-6 z-30",children:o.jsxs("button",{onClick:E,disabled:x||p||Object.keys(y).length===0,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium transform active:scale-95",children:[x?o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(td,{size:20}),x?"Saving...":`Save ${Object.keys(y).length>0?`(${Object.keys(y).length})`:""} Changes`]})})]})},R8e=()=>{const{id:e}=h2(),[t,r]=k.useState(null),[n,a]=k.useState(!0);return k.useEffect(()=>{e&&(async()=>{try{const i=await Ae.get(`/reports/public/verify/${e}`);r(i.data)}catch{r({valid:!1,message:"Invalid or expired report QR code."})}finally{a(!1)}})()},[e]),n?o.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg flex flex-col items-center",children:[o.jsx(QQ,{className:"animate-spin text-blue-600 mb-4",size:48}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Verifying Authenticity..."})]})}):o.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 max-w-sm w-full rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:`py-8 px-6 text-center relative overflow-hidden ${t!=null&&t.valid?"bg-gradient-to-br from-emerald-500 to-green-600":"bg-gradient-to-br from-red-500 to-rose-600"}`,children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx(og,{className:"w-64 h-64 -mb-16 -ml-16 transform rotate-12"})}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center text-white",children:[o.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg mb-4 ring-4 ring-white/30",children:t!=null&&t.valid?o.jsx(da,{className:"text-white",size:48}):o.jsx(fh,{className:"text-white",size:48})}),o.jsx("h1",{className:"text-2xl font-bold tracking-wide uppercase",children:t!=null&&t.valid?"Verified":"Invalid"}),o.jsx("p",{className:"text-blue-50 text-sm mt-1 font-medium opacity-90",children:t!=null&&t.valid?"Official School Document":"Verification Failed"})]})]}),t!=null&&t.valid?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Issued By"}),o.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white leading-tight",children:t.schoolName||"Sync International School"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl border border-slate-100 dark:border-slate-600",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:o.jsx(_i,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Student Name"}),o.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:t.studentName})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl border border-slate-100 dark:border-slate-600",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg",children:o.jsx(ea,{size:18})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase truncate",children:"Class"}),o.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm truncate",children:t.className})]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl border border-slate-100 dark:border-slate-600",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg",children:o.jsx(Va,{size:18})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase truncate",children:"Term"}),o.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm truncate",children:t.term})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 dark:from-slate-700 dark:to-slate-800 rounded-xl p-4 flex justify-between items-center text-white shadow-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-300 uppercase font-bold",children:"Term Average"}),o.jsx("p",{className:"text-xs text-slate-400",children:"Overall Performance"})]}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-3xl font-bold",children:t.averageScore}),o.jsx("span",{className:"text-sm font-medium opacity-70",children:"%"})]})]}),o.jsx("div",{className:"text-center pt-2",children:o.jsxs("p",{className:"text-xs font-mono text-slate-400",children:["ID: ",t.admissionNumber]})})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700 text-center",children:[o.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-3 py-1 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[o.jsx(wR,{size:14}),o.jsx("span",{children:"Authenticity Guaranteed"})]}),o.jsxs("p",{className:"text-[10px] text-slate-400 mt-2",children:["Generated on ",t.generatedAt?new Date(t.generatedAt).toLocaleDateString():"N/A"," via Sync School System"]})]})]}):o.jsxs("div",{className:"p-8 text-center bg-white dark:bg-slate-800",children:[o.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-medium mb-2",children:(t==null?void 0:t.message)||"We could not verify this document."}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Please check if the QR code is correct or contact the school administration for assistance."}),o.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:o.jsx("p",{className:"text-xs text-slate-400",children:"Sync School Verification System"})})]})]})})},B8e=()=>{var N;const[e,t]=k.useState(1),[r,n]=k.useState(""),[a,s]=k.useState(!1),[i,l]=k.useState(null),[c,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState("airtel"),[p,g]=k.useState(null),[x,v]=k.useState({processing:0,total:0});k.useEffect(()=>{const A=parseFloat(c)||0,S=A*.025;v({processing:S,total:A+S})},[c]);const y=async A=>{var S,j;if(A.preventDefault(),!!r.trim()){s(!0);try{const E=await Ae.get(`/payments/public/students/${r}`);l(E.data),t(2),E.data.balance>0?u(E.data.balance.toString()):u("")}catch(E){xr.error(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Student not found")}finally{s(!1)}}},b=async A=>{var S,j;if(A.preventDefault(),!(!i||!c||!d)){s(!0);try{const E={studentId:i.id,amount:parseFloat(c),phone:d,operator:h,country:"zm"},C=await Ae.post("/payments/public/mobile-money/initiate",E);g(C.data),t(3)}catch(E){xr.error(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Payment initiation failed")}finally{s(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4 font-sans text-slate-900 dark:text-white",children:[e===1&&o.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"bg-blue-600 p-10 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 text-white",children:o.jsx(Ai,{size:120})}),o.jsx("div",{className:"bg-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-sm text-white shadow-inner",children:o.jsx(og,{size:32})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"School Fees Payment"}),o.jsx("p",{className:"text-blue-100 font-medium opacity-90",children:"Secure Mobile Money Payment Portal"})]}),o.jsx("div",{className:"p-10",children:o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Student ID or Admission Number"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"text",value:r,onChange:A=>n(A.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900 focus:border-blue-500 transition-all font-medium placeholder:text-slate-400 dark:text-white",placeholder:"Enter ID...",required:!0}),o.jsx(ei,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20})]})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-blue-200 dark:shadow-blue-900/30 flex items-center justify-center gap-2 transform active:scale-[0.98]",children:a?o.jsx(ig,{className:"animate-spin"}):o.jsxs(o.Fragment,{children:["Verify Student ",o.jsx(BT,{size:20})]})}),o.jsx("div",{className:"text-center pt-2",children:o.jsxs("a",{href:"#",className:"text-sm text-slate-400 hover:text-blue-600 transition-colors flex items-center justify-center gap-1",children:["Having trouble? ",o.jsx("span",{className:"underline decoration-slate-300",children:"Contact Support"})]})})]})})]}),e===2&&i&&o.jsxs("div",{className:"w-full max-w-5xl bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in slide-in-from-right-8 duration-500",children:[o.jsxs("div",{className:"flex-1 p-6 md:p-10 bg-white dark:bg-slate-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 max-w-sm mx-auto md:mx-0",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm shadow-md",children:o.jsx(Fy,{size:16})}),o.jsx("span",{className:"text-xs font-bold text-blue-600",children:"Verify"})]}),o.jsx("div",{className:"flex-1 h-1 bg-blue-100 dark:bg-blue-900 mx-2 rounded-full relative overflow-hidden",children:o.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-blue-600 origin-left animate-slide"})}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-sm shadow-md ring-4 ring-blue-100 dark:ring-blue-900",children:"2"}),o.jsx("span",{className:"text-xs font-bold text-blue-600",children:"Pay"})]}),o.jsx("div",{className:"flex-1 h-1 bg-slate-100 dark:bg-slate-700 mx-2 rounded-full"}),o.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-40",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 flex items-center justify-center font-bold text-sm border border-slate-200 dark:border-slate-600",children:"3"}),o.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400",children:"Receipt"})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Make Payment"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Complete the transaction securely."})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-2xl p-5 border border-slate-100 dark:border-slate-600 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center font-bold text-lg shrink-0",children:[i.firstName[0],i.lastName[0]]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white",children:[i.firstName," ",i.lastName]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide font-semibold",children:[(N=i.class)==null?void 0:N.name,"  ",i.admissionNumber]})]})]}),o.jsxs("div",{className:"text-left sm:text-right",children:[o.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Outstanding"}),o.jsxs("p",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["ZMW ",Number(i.balance).toLocaleString()]})]})]}),o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Payment Amount (ZMW)"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"number",value:c,onChange:A=>u(A.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-700 border-2 border-slate-100 dark:border-slate-600 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-0 transition-all font-bold text-lg dark:text-white",placeholder:"0.00",required:!0}),o.jsx(Do,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Payer Phone Number"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:"tel",value:d,onChange:A=>f(A.target.value),className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-700 border-2 border-slate-100 dark:border-slate-600 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-0 transition-all font-medium dark:text-white",placeholder:"e.g 097xxxxxxx",required:!0}),o.jsx(C0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Select Network Operator"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:`cursor-pointer relative overflow-hidden rounded-2xl border-2 transition-all h-20 flex items-center justify-center ${h==="airtel"?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}`,children:[o.jsx("input",{type:"radio",name:"operator",value:"airtel",checked:h==="airtel",onChange:A=>m(A.target.value),className:"sr-only"}),o.jsx("div",{className:`font-black text-lg ${h==="airtel"?"text-red-600 dark:text-red-400":"text-slate-400"}`,children:"Airtel"}),h==="airtel"&&o.jsx("div",{className:"absolute top-2 right-2 text-red-600 dark:text-red-400",children:o.jsx(da,{size:16})})]}),o.jsxs("label",{className:`cursor-pointer relative overflow-hidden rounded-2xl border-2 transition-all h-20 flex items-center justify-center ${h==="mtn"?"border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"border-slate-100 dark:border-slate-600 bg-white dark:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-500"}`,children:[o.jsx("input",{type:"radio",name:"operator",value:"mtn",checked:h==="mtn",onChange:A=>m(A.target.value),className:"sr-only"}),o.jsx("div",{className:`font-black text-lg ${h==="mtn"?"text-yellow-600 dark:text-yellow-400":"text-slate-400"}`,children:"MTN"}),h==="mtn"&&o.jsx("div",{className:"absolute top-2 right-2 text-yellow-600 dark:text-yellow-400",children:o.jsx(da,{size:16})})]})]})]}),o.jsxs("div",{className:"md:hidden bg-slate-50 dark:bg-slate-700 p-4 rounded-2xl border border-slate-100 dark:border-slate-600 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Payment Amount"}),o.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["ZMW ",Number(c||0).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Processing Fee"}),o.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["ZMW ",x.processing.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-600 pt-2 flex justify-between items-center mt-2",children:[o.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"Total"}),o.jsxs("span",{className:"font-black text-xl text-blue-600 dark:text-blue-400",children:["ZMW ",x.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>t(1),className:"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold px-6 rounded-2xl transition-all",children:"Back"}),o.jsx("button",{type:"submit",disabled:a||!c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-blue-200 dark:shadow-blue-900/30 flex items-center justify-center gap-2",children:a?o.jsx(ig,{className:"animate-spin"}):o.jsxs(o.Fragment,{children:["Pay ZMW ",x.total.toLocaleString()," ",o.jsx(BT,{size:20})]})})]})]})]}),o.jsx("div",{className:"hidden md:block w-96 bg-slate-50 dark:bg-slate-700 p-10 border-l border-slate-100 dark:border-slate-600 relative",children:o.jsxs("div",{className:"sticky top-10 space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-4",children:"Transaction Summary"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200 dark:border-slate-600 border-dashed",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Tuition/Fees"}),o.jsxs("span",{className:"font-mono font-medium dark:text-white",children:["ZMW ",Number(c||0).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200 dark:border-slate-600 border-dashed",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Processing Fee"}),o.jsxs("span",{className:"font-mono font-medium dark:text-white",children:["ZMW ",x.processing.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2",children:[o.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Total"}),o.jsxs("span",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["ZMW ",x.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),o.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-6 rounded-2xl border border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg shrink-0 h-fit",children:o.jsx(wR,{size:20})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-300 mb-1",children:"Secure Transaction"}),o.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-400 leading-relaxed",children:["You will receive a prompt on your phone (",d||"...",") to approve the transaction. Please ensure your screen is unlocked."]})]})]})})]})})]}),e===3&&p&&o.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden p-10 text-center animate-in zoom-in duration-300",children:[o.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-green-100 dark:shadow-green-900/30 ring-8 ring-green-50 dark:ring-green-900/20",children:o.jsx(Fy,{size:48,strokeWidth:3})}),o.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Payment Initiated"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Please check your phone to complete the payment."}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-2xl p-6 mb-8 border border-slate-100 dark:border-slate-600",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Reference"}),o.jsx("span",{className:"font-mono font-bold text-slate-900 dark:text-white",children:p.reference})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Mobile Number"}),o.jsx("span",{className:"font-mono font-bold text-slate-900 dark:text-white",children:d})]})]}),o.jsx("button",{onClick:()=>{t(1),n(""),u(""),f("")},className:"w-full bg-slate-900 dark:bg-slate-600 hover:bg-black dark:hover:bg-slate-500 text-white font-bold py-4 rounded-2xl transition-all",children:"Back to Home"})]})]})},bD=()=>{const[e]=nJ(),t=po(),[r,n]=k.useState(null),[a,s]=k.useState(!1),[i,l]=k.useState(!1);k.useEffect(()=>{const d=e.get("title")||void 0,f=e.get("text")||void 0,h=e.get("url")||void 0,m=async()=>{};(d||f||h)&&n({title:d,text:f,url:h}),m()},[e]);const c=async()=>{s(!0);try{await new Promise(d=>setTimeout(d,1500)),l(!0),xr.success("Content processed successfully!"),setTimeout(()=>{t("/")},2e3)}catch{xr.error("Failed to process shared content")}finally{s(!1)}},u=()=>{t("/")};return r?i?o.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(da,{className:"text-green-600 dark:text-green-400",size:40})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Success!"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Content has been added to Sync."}),o.jsx("p",{className:"text-sm text-slate-400",children:"Redirecting to dashboard..."})]})}):o.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:o.jsx(Ni,{className:"text-blue-600 dark:text-blue-400",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Shared Content"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Review and process"})]})]}),o.jsx("button",{onClick:u,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:o.jsx(ra,{size:20,className:"text-slate-400"})})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-xl p-4 mb-6 space-y-3",children:[r.title&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-1",children:"Title"}),o.jsx("p",{className:"text-slate-900 dark:text-white font-medium",children:r.title})]}),r.text&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-1",children:"Content"}),o.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm line-clamp-3",children:r.text})]}),r.url&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-1",children:"URL"}),o.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline truncate block",children:r.url})]}),r.files&&r.files.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2",children:"Files"}),o.jsx("div",{className:"space-y-2",children:r.files.map((d,f)=>o.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-600 p-3 rounded-lg border border-slate-200 dark:border-slate-500",children:[o.jsx(Os,{size:20,className:"text-blue-600 dark:text-blue-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:d.name}),o.jsx("p",{className:"text-xs text-slate-400",children:z8e(d.size)})]})]},f))})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:u,className:"flex-1 py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-xl transition-colors",children:"Cancel"}),o.jsx("button",{onClick:c,disabled:a,className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:a?o.jsxs(o.Fragment,{children:[o.jsx(ig,{className:"animate-spin",size:18}),"Processing..."]}):"Add to Sync"})]})]})}):o.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ig,{className:"animate-spin text-slate-400",size:32})}),o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Processing Share"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Please wait..."})]})})},z8e=e=>e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`;function U8e(){return o.jsx(FQ,{children:o.jsx(DQ,{children:o.jsx(MQ,{children:o.jsxs(QZ,{children:[o.jsx(L8e,{position:"top-right"}),o.jsxs(VZ,{children:[o.jsx(gr,{path:"/login",element:o.jsx(bee,{})}),o.jsx(gr,{path:"/verify/report/:id",element:o.jsx(R8e,{})}),o.jsx(gr,{path:"/pay",element:o.jsx(B8e,{})}),o.jsx(gr,{path:"/share-target",element:o.jsx(bD,{})}),o.jsx(gr,{path:"/open-file",element:o.jsx(bD,{})}),o.jsxs(gr,{element:o.jsx(HPe,{}),children:[o.jsx(gr,{path:"/student/quiz/:assessmentId",element:o.jsx(VPe,{})}),o.jsxs(gr,{element:o.jsx(WPe,{}),children:[o.jsx(gr,{path:"/",element:o.jsx(Fee,{})}),o.jsx(gr,{path:"/profile",element:o.jsx(Y6e,{})}),o.jsx(gr,{path:"/my-children",element:o.jsx(qn,{allowedRoles:["PARENT"],children:o.jsx(Q6e,{})})}),o.jsx(gr,{path:"/student/assessments",element:o.jsx(qn,{allowedRoles:["STUDENT","SUPER_ADMIN","PARENT"],children:o.jsx(qPe,{})})}),o.jsx(gr,{path:"/students",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY"],children:o.jsx(Mfe,{})})}),o.jsx(gr,{path:"/students/:id",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY"],children:o.jsx(Rfe,{})})}),o.jsx(gr,{path:"/finance",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","BURSAR"],children:o.jsx(_6e,{})})}),o.jsx(gr,{path:"/attendance",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER","SECRETARY"],children:o.jsx(E6e,{})})}),o.jsx(gr,{path:"/academics",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:o.jsx(W6e,{})})}),o.jsx(gr,{path:"/academics/grading-scales",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:o.jsx(JV,{})})}),o.jsx(gr,{path:"/academics/report-cards",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:o.jsx(QV,{})})}),"// ... (In Routes)",o.jsx(gr,{path:"/academics/attendance",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER","SECRETARY"],children:o.jsx(I8e,{})})}),o.jsx(gr,{path:"/academics/gradebook",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER","BURSAR","SECRETARY"],children:o.jsx(M8e,{})})}),o.jsx(gr,{path:"/academics/timetable",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER","STUDENT","PARENT"],children:o.jsx(eq,{})})}),o.jsx(gr,{path:"/subjects",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER"],children:o.jsx(XV,{})})}),o.jsx(gr,{path:"/classes",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","TEACHER","SECRETARY"],children:o.jsx(ZV,{})})}),o.jsx(gr,{path:"/users",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN"],children:o.jsx(H6e,{})})}),o.jsx(gr,{path:"/branches",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","BRANCH_MANAGER"],children:o.jsx(V6e,{})})}),o.jsx(gr,{path:"/branches/:id",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","BRANCH_MANAGER"],children:o.jsx(q6e,{})})}),o.jsx(gr,{path:"/communication",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN","BURSAR","TEACHER","SECRETARY","PARENT"],children:o.jsx(J6e,{})})}),o.jsx(gr,{path:"/academics/reports",element:o.jsx(qn,{allowedRoles:["PARENT","STUDENT"],children:o.jsx(e_e,{})})}),o.jsx(gr,{path:"/settings",element:o.jsx(qn,{allowedRoles:["SUPER_ADMIN"],children:o.jsx(G6e,{})})})]})]})]})]})})})})}function $8e(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:s,onRegisterError:i}=e;let l,c,u;const d=async(h=!0)=>{await c,u==null||u()};async function f(){if("serviceWorker"in navigator){if(l=await Ky(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{i==null||i(h)}),!l)return;u=()=>{l==null||l.messageSkipWaiting()};{let h=!1;const m=()=>{h=!0,l==null||l.addEventListener("controlling",p=>{p.isUpdate&&window.location.reload()}),r==null||r()};l.addEventListener("installed",p=>{typeof p.isUpdate>"u"?typeof p.isExternal<"u"&&p.isExternal?m():!h&&(n==null||n()):p.isUpdate||n==null||n()}),l.addEventListener("waiting",m)}l.register({immediate:t}).then(h=>{s?s("/sw.js",h):a==null||a(h)}).catch(h=>{i==null||i(h)})}}return c=f(),d}function W8e(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:s,onRegisterError:i}=e,[l,c]=k.useState(!1),[u,d]=k.useState(!1),[f]=k.useState(()=>$8e({immediate:t,onOfflineReady(){d(!0),n==null||n()},onNeedRefresh(){c(!0),r==null||r()},onRegistered:a,onRegisteredSW:s,onRegisterError:i}));return{needRefresh:[l,c],offlineReady:[u,d],updateServiceWorker:f}}const H8e=()=>{const{needRefresh:[e,t],updateServiceWorker:r}=W8e({onRegisteredSW(s,i){console.log("SW registered:",s),i&&setInterval(()=>{i.update()},36e5)},onRegisterError(s){console.error("SW registration error:",s)}}),n=()=>{r(!0)},a=()=>{t(!1)};return e?o.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-[9999] animate-in slide-in-from-bottom-4 duration-300",children:o.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl shadow-2xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"bg-blue-600 p-2 rounded-xl shrink-0",children:o.jsx(Ou,{size:20})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-bold text-sm mb-1",children:"Update Available"}),o.jsx("p",{className:"text-slate-300 text-xs leading-relaxed",children:"A new version of Sync is ready. Refresh to get the latest features and improvements."}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsx("button",{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold px-4 py-2 rounded-lg transition-colors",children:"Update Now"}),o.jsx("button",{onClick:a,className:"bg-slate-700 hover:bg-slate-600 text-slate-300 text-xs font-medium px-4 py-2 rounded-lg transition-colors",children:"Later"})]})]}),o.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors shrink-0",children:o.jsx(ra,{size:16})})]})}):null},V8e=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!1),[a,s]=k.useState(!1);k.useEffect(()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent),u=window.matchMedia("(display-mode: standalone)").matches;c&&!u&&(localStorage.getItem("pwa-install-dismissed")||(s(!0),n(!0)));const d=f=>{f.preventDefault(),t(f),localStorage.getItem("pwa-install-dismissed")||n(!0)};return window.addEventListener("beforeinstallprompt",d),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const i=async()=>{if(e){await e.prompt();const{outcome:c}=await e.userChoice;c==="accepted"&&n(!1),t(null)}},l=()=>{n(!1),localStorage.setItem("pwa-install-dismissed","true")};return r?o.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-[9998] animate-in slide-in-from-bottom-4 duration-300",children:o.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-2xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-xl shrink-0",children:o.jsx(Qs,{size:20})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900 mb-1",children:"Install Sync App"}),a?o.jsxs("p",{className:"text-slate-500 text-xs leading-relaxed",children:["Tap the ",o.jsx("strong",{children:"Share"})," button, then ",o.jsx("strong",{children:'"Add to Home Screen"'})," for a better experience."]}):o.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:"Install Sync on your device for quick access and offline support."}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[!a&&o.jsx("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold px-4 py-2 rounded-lg transition-colors",children:"Install"}),o.jsx("button",{onClick:l,className:"bg-slate-100 hover:bg-slate-200 text-slate-600 text-xs font-medium px-4 py-2 rounded-lg transition-colors",children:a?"Got it":"Not now"})]})]}),o.jsx("button",{onClick:l,className:"text-slate-400 hover:text-slate-600 transition-colors shrink-0",children:o.jsx(ra,{size:16})})]})}):null},q8e=()=>{const[e,t]=k.useState(navigator.onLine),[r,n]=k.useState(!1);return k.useEffect(()=>{const a=()=>{t(!0),r&&console.log("Back online - syncing...")},s=()=>{t(!1),n(!0)};return window.addEventListener("online",a),window.addEventListener("offline",s),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}},[r]),{isOnline:e,wasOffline:r}},G8e=()=>{const{isOnline:e}=q8e(),[t,r]=k.useState(!1),[n,a]=k.useState(!1);return k.useEffect(()=>{if(!e)a(!0);else if(n){r(!0);const s=setTimeout(()=>{r(!1)},3e3);return()=>clearTimeout(s)}},[e,n]),e&&!t?null:o.jsx("div",{className:`fixed top-0 left-0 right-0 z-[9999] transition-all duration-300 ${e?"bg-green-600":"bg-amber-500"}`,children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2 flex items-center justify-center gap-2 text-white text-sm font-medium",children:e?o.jsxs(o.Fragment,{children:[o.jsx(yee,{size:16}),o.jsx("span",{children:"Back online!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(vee,{size:16}),o.jsx("span",{children:"You're offline. Some features may be limited."})]})})})},K8e=()=>{const e="setAppBadge"in navigator,t=k.useCallback(async n=>{if(e)try{n>0?await navigator.setAppBadge(n):await navigator.clearAppBadge(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SET_BADGE",count:n})}catch(a){console.error("Failed to set badge:",a)}},[e]),r=k.useCallback(async()=>{if(e)try{await navigator.clearAppBadge(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"CLEAR_BADGE"})}catch(n){console.error("Failed to clear badge:",n)}},[e]);return{isSupported:e,setBadge:t,clearBadge:r}},Y8e=()=>{const e=k.useCallback(async(r,n)=>{if(!("periodicSync"in navigator.serviceWorker))return console.warn("Periodic Background Sync not supported"),!1;try{const a=await navigator.serviceWorker.ready;return(await navigator.permissions.query({name:"periodic-background-sync"})).state==="granted"?(await a.periodicSync.register(r,{minInterval:n}),console.log(`Periodic sync registered: ${r}`),!0):(console.warn("Periodic sync permission not granted"),!1)}catch(a){return console.error("Failed to register periodic sync:",a),!1}},[]),t=k.useCallback(async r=>{try{return await(await navigator.serviceWorker.ready).periodicSync.unregister(r),console.log(`Periodic sync unregistered: ${r}`),!0}catch(n){return console.error("Failed to unregister periodic sync:",n),!1}},[]);return{registerPeriodicSync:e,unregisterPeriodicSync:t}},X8e=e=>{k.useEffect(()=>{if(!("serviceWorker"in navigator))return;const t=r=>{e(r.data)};return navigator.serviceWorker.addEventListener("message",t),()=>{navigator.serviceWorker.removeEventListener("message",t)}},[e])},Z8e=()=>{const{setBadge:e}=K8e(),{registerPeriodicSync:t}=Y8e(),r=k.useCallback(async()=>{var s;try{const l=((s=(await Ae.get("/notifications/unread-count")).data)==null?void 0:s.count)||0;await e(l)}catch{console.log("Could not fetch notification count")}},[e]),n=k.useCallback(async()=>{try{await t("sync-student-data",12*60*60*1e3),await t("sync-notifications",60*60*1e3)}catch{console.log("Periodic sync not available")}},[t]),a=k.useCallback(s=>{switch(s.type){case"SYNC_SUCCESS":xr.success("Your request was synced successfully!",{icon:"",duration:4e3});break;case"DATA_REFRESHED":console.log("Data refreshed in background");break}},[]);return X8e(a),k.useEffect(()=>{r(),window.matchMedia("(display-mode: standalone)").matches&&n();const s=setInterval(r,5*60*1e3);return()=>{clearInterval(s)}},[r,n]),null};SN.createRoot(document.getElementById("root")).render(o.jsxs(dc.StrictMode,{children:[o.jsx(G8e,{}),o.jsx(U8e,{}),o.jsx(Z8e,{}),o.jsx(H8e,{}),o.jsx(V8e,{})]}));export{_r as _,P5 as c,Pl as g};
